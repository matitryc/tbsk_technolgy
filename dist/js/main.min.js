"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),nav=document.querySelector(".navbar"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function a(){s.classList.remove("active"),t.classList.remove("active"),n.setAttribute("aria-expanded","false")}var t=document.querySelector(".navbar"),e=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".mobile-nav .nav-list"),r=document.querySelector(".nav-list-background"),s=e.cloneNode(!0),e=(s.addEventListener("click",function(){s.classList.toggle("active"),t.classList.toggle("active");var e="false"!=(e=n.getAttribute("aria-expanded"));n.setAttribute("aria-expanded",!e)}),e.replaceWith(s),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",a),e.replaceWith(t)}),r.cloneNode());e.addEventListener("click",a),r.replaceWith(e)},headerParallaxHandler=function(){var e,t,a;viewportWidth<768?(document.querySelector(".intro").classList.remove("fixed"),introBtn.style.opacity="1",racoon.style.opacity="1",introText.forEach(function(e){e.style.transform="translate(0, 0)"})):(e=window.scrollY,t=.1*window.scrollY,a=1/(e/100+1),introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),e>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(a),racoon.style.opacity="".concat(a),intro.style.pointerEvents="all",intro.style.opacity="1"))},processesInfo=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){for(var e=0;e<processesInfo.length;e++)if(processBtns[e].classList.contains("active"))return processTitle.textContent=processesInfo[e].heading,void(processText.textContent=processesInfo[e].text)},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,a;viewport<992?nextSection.style.transform="translate(0, 0)":(a=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+a.offsetHeight+nav.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+a.offsetHeight,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(a.offsetHeight,"px)"),e<=(a=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=a||a<e)&&parallaxSection.classList.remove("fixed-pr"),t<=a&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 4200px)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(a-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(a-e,"px)")),a<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=a&&(parallaxItems[1].style.transform="translateY(200vh)"))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),parallaxHero=document.querySelector(".parallax-hero"),handleParallaxSection=function(){var e,t,a;viewportWidth<992?(secondSection.style.transform="translate(0, 0)",parallaxHero.style.height="0"):(a=firstSection.offsetTop,t=nav.offsetHeight,parallaxHero.style.height="".concat(viewportWidth+t-window.innerHeight,"px"),a=window.scrollY-a,console.log(a),viewportWidth<a?(e=!1,firstSection.style.transform="translate(-".concat(viewportWidth,"px, ").concat(viewportWidth,"px)"),secondSection.style.transform="translate(0, ".concat(viewportWidth-window.innerHeight+t,"px)")):a<=0?(e=!1,firstSection.style.transform="translate(0, 0)",secondSection.style.transform="translate(100%, -100%)"):e=!0,e&&(firstSection.style.transform="translate(-".concat(a,"px, ").concat(a,"px)"),secondSection.style.transform="translate(Calc(100% - ".concat(a,"px), Calc(-100% + ").concat(a,"px))")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,a=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(o-t)/40,r=(e-a)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(r,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){viewportWidth=window.innerWidth,headerParallaxHandler(),viewportWidth<=768&&navHandler(),992<=viewportWidth||(projectsParallaxHandler(),cardsActivatorHandler())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwiaW50cm8iLCJ3aW5kb3ciLCJ2aWV3cG9ydFdpZHRoIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIiwiY2FyZHMiLCJmb3JFYWNoIiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwibW5hdkl0ZW1zIiwiY2xvc2UiLCJidXJnZXJJY29uIiwib2xkQnVyZ2VySWNvbiIsImNsb25lTm9kZSIsInJlcGxhY2VXaXRoIiwibmF2TGlzdCIsIm9sZE5hdkxpc3RCYWNrZ3JvdW5kIiwicmV2ZWFsIiwidG9nZ2xlIiwibmF2YmFyIiwib2xkSXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsImlzRXhwYW5kZWQiLCJnZXRBdHRyaWJ1dGUiLCJpdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsIm9wYWNpdHkiLCJ0ZXh0IiwicmF0ZSIsInBvaW50ZXJFdmVudHMiLCJjb25jYXQiLCJvcGFjaXR5VmFsdWUiLCJvZmZzZXRZIiwiaW5uZXJIZWlnaHQiLCJwcm9jZXNzZXNJbmZvIiwiaGVhZGluZyIsImJ1dHRvbiIsInByb2Nlc3NUaXRsZSIsImNoZW5nZVByb2Nlc3MiLCJidG4iLCJjbG9zZUFsbFByb2Nlc3NlcyIsInByb2Nlc3NCdG5zIiwiZSIsInRhcmdldCIsImxlbmd0aCIsInRleHRDb250ZW50Iiwic2V0Q29udGVudCIsInByZXZTZWN0aW9uIiwibmV4dFNlY3Rpb24iLCJpIiwidmlld3BvcnQiLCJpbm5lcldpZHRoIiwicHJldlNlY3Rpb25PZmZzZXQiLCJvZmZzZXRUb3AiLCJwcm9jZXNzVGV4dCIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwicHJvamVjdHNEZXNrdG9wQ250IiwiaGVpZ2h0Iiwic2VjdGlvbkhlYWRpbmciLCJzY3JvbGxUb3AiLCJzY3JvbGxZIiwiZmlyc3RBbmNob3JQb2ludCIsInBhcmFsbGF4U2VjdGlvbiIsInNlY29uZEFuY2hvclBvaW50IiwicGFyYWxsYXhJdGVtcyIsIm9mZnNldEhlaWdodCIsIm5hdiIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInBhcmFsbGF4SGVybyIsInNjcm9sbFZhbHVlIiwiY29uc29sZSIsInNlY29uZFNlY3Rpb24iLCJzY3JvbGxQZXJtaXNpb24iLCJmaXJzdFNlY3Rpb24iLCJoYW5kbGVQYXJhbGxheEl0ZW1zIiwibWlkZGxlWSIsIm1pZGRsZVgiLCJ4Iiwic2VjdGlvbk9mZlNldCIsImxvZyIsInNldFByb3BlcnR5IiwibmF2SGVpZ2h0IiwicGFyYWxsYXhUZXh0cyIsImNsaWVudFgiLCJvZmZzZXRXaWR0aCIsImZpbmFsWSIsInkiLCJmaW5hbFgiLCJvbmxvYWQiLCJuYXZIYW5kbGVyIiwiY2FyZE91dHNpZGVIYW5kbGVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxpQkFBaUIsYUFBYSxFQUNuREMsU0FBV0YsU0FBU0csY0FBYyxZQUFZLEVBRDlDSixPQUFTQyxTQUFXRyxjQUFDRixTQUFpQixFQUN0Q0MsTUFBUUYsU0FBV0csY0FBYyxRQUFDLEVBQ2xDQyxJQUFNSixTQUFXRyxjQUFjLFNBQUMsRUFDaENFLGNBQWdCQyxPQUFDSCxXQUVuQkksTUFBQUEsU0FBZ0JELGlCQUFpQix3QkFBQSxFQUkvQkUsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUNDLEdBQ2JBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FBVUUsUUFBTyxDQUV0QixDQUFDLEVBQ0RMLEVBQUFBLFVBQUtHLElBQVVHLFFBQUksQ0FDcEIsQ0FBQyxFQUVETixFQUNDRixpQkFBYyxXQUFRLFdBQXRC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QUFPTSxpQkFBaUIsU0FBVSxXQUNqQ2tCLHNCQUFzQixFQUN0Qm9DLHdCQUF3QixFQUN4Qlksc0JBQXNCLENBQ3ZCLENBQUMsRUFFRHhFLE9BQU9NLGlCQUFpQixTQUFVLFdBQ2pDTCxjQUFnQkQsT0FBT3dELFdBQ3RCaEMsc0JBQXNCLEVBQ25CdkIsZUFBaUIsS0FDcEI2RixXQUFXLEVBRVMsS0FBakI3RixnQkFDSDJELHdCQUF3QixFQUN6QjFELHNCQUFzQixFQUN2QixDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaW50cm9UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmludHJvLXRleHQnKTtcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpO1xuY29uc3QgcmFjb29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhY29vbicpO1xuY29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKTtcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbmxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xuXG5jb25zdCBjYXJkc0FjdGl2YXRvckhhbmRsZXIgPSAoKSA9PiB7XG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XG5cdFx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3QgbmF2SGFuZGxlciA9ICgpID0+IHtcblx0Y29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuXHRjb25zdCBvbGRCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJyk7XG5cdGNvbnN0IG1uYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtbmF2IGEnKTtcbiAgY29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2IC5uYXYtbGlzdCcpXG5cdGNvbnN0IG9sZE5hdkxpc3RCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWJhY2tncm91bmQnKTtcblx0Y29uc3QgcmV2ZWFsID0gKCkgPT4ge1xuXHRcdGJ1cmdlckljb24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIGxldCBpc0V4cGFuZGVkID0gbmF2TGlzdC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKVxuICAgIGlmKGlzRXhwYW5kZWQgPT0gJ2ZhbHNlJyl7XG4gICAgICBpc0V4cGFuZGVkID0gZmFsc2VcbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgaXNFeHBhbmRlZCA9IHRydWVcbiAgICB9XG4gICAgbmF2TGlzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAhaXNFeHBhbmRlZClcblx0fTtcblx0Y29uc3QgY2xvc2UgPSAoKSA9PiB7XG5cdFx0YnVyZ2VySWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbmF2TGlzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuXHR9O1xuXHRjb25zdCBidXJnZXJJY29uID0gb2xkQnVyZ2VySWNvbi5jbG9uZU5vZGUodHJ1ZSk7XG5cdGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZlYWwpO1xuXHRvbGRCdXJnZXJJY29uLnJlcGxhY2VXaXRoKGJ1cmdlckljb24pO1xuXHRtbmF2SXRlbXMuZm9yRWFjaCgob2xkSXRlbSkgPT4ge1xuXHRcdGNvbnN0IGl0ZW0gPSBvbGRJdGVtLmNsb25lTm9kZSh0cnVlKTtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpO1xuXHRcdG9sZEl0ZW0ucmVwbGFjZVdpdGgoaXRlbSk7XG5cdH0pO1xuXHRjb25zdCBuYXZMaXN0QmFja2dyb3VuZCA9IG9sZE5hdkxpc3RCYWNrZ3JvdW5kLmNsb25lTm9kZSgpO1xuXHRuYXZMaXN0QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKTtcblx0b2xkTmF2TGlzdEJhY2tncm91bmQucmVwbGFjZVdpdGgobmF2TGlzdEJhY2tncm91bmQpO1xufTtcblxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDc2OCkge1xuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJyk7XG5cdFx0aW50cm8uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKTtcbiAgICBpbnRyb0J0bi5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gICAgcmFjb29uLnN0eWxlLm9wYWNpdHkgPSAnMSdcbiAgICBpbnRyb1RleHQuZm9yRWFjaCh0ZXh0ID0+IHtcbiAgICAgIHRleHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICB9KVxuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5zY3JvbGxZICogMC4xO1xuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSAxIC8gKG9mZnNldFkgLyAxMDAgKyAxKTtcblxuXHRpbnRyb1RleHRbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNH1weClgO1xuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgO1xuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNn1weClgO1xuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxN31weClgO1xuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgO1xuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNy41fXB4KWA7XG5cblx0aWYgKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcblx0XHRpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXHRcdGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdH0gZWxzZSB7XG5cdFx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHlWYWx1ZX1gO1xuXHRcdHJhY29vbi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWA7XG5cdFx0aW50cm8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnO1xuXHRcdGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG5cdH1cbn07XG5cbi8vIFByb2Nlc3NlcyAtIGxpc3RcbmNvbnN0IHByb2Nlc3Nlc0luZm8gPSBbXG5cdHtcblx0XHRoZWFkaW5nOiAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5PycsXG5cdFx0dGV4dDogJ1phY3p5bmFteSBvZCBva3JlxZtsZW5pYSDFm3dpYWRjem9uZWogdXPFgnVnaS4gSmXFvGVsaSBqZXN0IHRvIGJ1ZG93YSBsdWIgcHJvamVrdG93YW5pZSwgdG8gcHl0YW15IGN6eSBpc3RuaWVqZSBqYWtpZcWbIGxvZ28sIGLEhWTFuiB3aXp5dMOzd2thIGZpcm15LiBOYXN0xJlwbmllIHphcHl0YW15IG8gdHJlxZtjaSwga3TDs3JlIG1pYcWCeWJ5IHNpxJkgem5hbGXFusSHIG5hIHN0cm9uaWUuIE5hIHBvZHN0YXdpZSB0ZWdvIHR3b3J6eW15IHd5xYLEhWN6bmllIHN0cnVrdHVyxJkgaSB3eWNlbmlhbXkgcHJvamVrdC4gTmFzdMSZcG5pZSB6YWN6eW5hbXkgcHJvamVrdG93YcSHLicsXG5cdFx0YnV0dG9uOiAnS29uc3VsdGFjamEnLFxuXHR9LFxuXHR7XG5cdFx0aGVhZGluZzogJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nLFxuXHRcdHRleHQ6ICdQbyBza2/FhGN6ZW5pdSBwcm9qZWt0dSBzdHJvbnksIHByemVkc3Rhd2lhbXkgZ28gVG9iaWUgZG8gb2NlbmllbmlhLiBXdGVkeSBwcnp5am11amVteSB3c3plbGtpZSB1d2FnaSBkb3QuIGRvYm9ydSBrb2xvcsOzdywgYnVkb3d5IHNla2NqaSBpdGQuIFTFgnVtYWN6eW15IHRlxbwsIGN6ZW11IHBld25lIGVsZW1lbnR5IG11c3rEhSB6YXdpZXJhxIcgbmlla3TDs3JlIGNlY2h5LiBQw7PFum5pZWogbmFub3NpbXkgd3N6ZWxraWUgem1pYW55LicsXG5cdFx0YnV0dG9uOiAnUHJlemVudGFjamEnLFxuXHR9LFxuXHR7XG5cdFx0aGVhZGluZzogJ0N6eW0gamVzdCBldGFwIHphdHdpZXJkemVuaWE/Jyxcblx0XHR0ZXh0OiAnVG8ga3JvaywgdyBrdMOzcnltIGRlY3lkdWplc3ogc2nEmSBuYSBwb2RqxJljaWUgbHViIG9kcnp1Y2VuaWUgbmFzenljaCB1c8WCdWcuIEplxbxlbGkgemxlY2lzeiBuYW0gc3R3b3J6ZW5pZSBzdHJvbnksIHRvIHByemVrYcW8ZW15IENpIGlsZSBwcmF3ZG9wb2RvYm5pZSB6YWptaWUgdG8gbmFtIGN6YXN1LiBEb2RhdGtvd28gYsSZZHppZW15IHBvdHJ6ZWJvd2FsaSBkb2vFgmFkbnljaCB0cmXFm2NpLCBrdMOzcmUgbWFqxIUgc2nEmSBmaW5hbG5pZSB6bmFsZcW6xIcgbmEgVHdvamVqIHdpdHJ5bmllLicsXG5cdFx0YnV0dG9uOiAnWmF0d2llcmR6ZW5pZScsXG5cdH0sXG5cdHtcblx0XHRoZWFkaW5nOiAnV3lrb25hbmllIHByb2pla3R1IScsXG5cdFx0dGV4dDogJ1RlbiBrcm9rIHpvc3RhdyBuYW0hIE9kIHJhenUgemFiaWVyemVteSBzacSZIGRvIHR3b3J6ZW5pYSBUd29qZWogd3ltYXJ6b25laiB3aXp5dMOzd2tpIGludGVybmV0b3dlai4gUG9kY3phcyB0ZWdvIGN6YXN1IG1vxbxlc3ogbmFtIHByemVrYXphxIcgd3N6ZWxraWUgZG9kYXRrb3dlIGluZm9ybWFjamUsIGEgbXkgd2XFum1pZW15IGplIHBvZCB1d2FnxJkuIFBvIHpha2/FhGN6b25laiBwcmFjeSB6b3N0YcWCbyB0eWxrbyB1bWllxZtjacSHIGrEhSBuYSBob3N0aW5ndS4nLFxuXHRcdGJ1dHRvbjogJ1d5a29uYW5pZScsXG5cdH0sXG5dO1xuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJyk7XG5jb25zdCBwcm9jZXNzVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10ZXh0Jyk7XG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJyk7XG5jb25zdCBjaGVuZ2VQcm9jZXNzID0gKGUpID0+IHtcblx0Y29uc3QgYnRuID0gZS50YXJnZXQ7XG5cblx0aWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cmV0dXJuO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKCk7XG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldENvbnRlbnQoKTtcbn07XG5cbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG59O1xuXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2Nlc3Nlc0luZm8ubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAocHJvY2Vzc0J0bnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gcHJvY2Vzc2VzSW5mb1tpXS5oZWFkaW5nO1xuXHRcdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLnRleHQ7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59O1xuXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xuXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcbmNvbnN0IHBhcmFsbGF4SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdHMtcGFyYWxsYXgnKTtcbmNvbnN0IHByZXZTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2VzJyk7XG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcbmxldCB2aWV3cG9ydCA9IHdpbmRvdy5pbm5lcldpZHRoO1xubGV0IHByZXZTZWN0aW9uT2Zmc2V0ID0gcHJldlNlY3Rpb24ub2Zmc2V0VG9wO1xuXG5jb25zdCBwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0IDwgOTkyKXtcbiAgICBuZXh0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJ1xuICAgIHJldHVybiBcbiAgfVxuXHRjb25zdCBzZWN0aW9uSGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cyAuc2VjdGlvbl9faGVhZGluZycpO1xuXHRsZXQgZmlyc3RBbmNob3JQb2ludCA9XG5cdFx0cHJldlNlY3Rpb25PZmZzZXQgK1xuXHRcdHByZXZTZWN0aW9uLm9mZnNldEhlaWdodCArXG5cdFx0c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0ICtcblx0XHRuYXYub2Zmc2V0SGVpZ2h0O1xuXHRsZXQgc2Vjb25kQW5jaG9yUG9pbnQgPVxuXHRcdG5leHRTZWN0aW9uLm9mZnNldFRvcCAtXG5cdFx0bmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICtcblx0XHRzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQ7XG5cdGNvbnN0IHByb2plY3RzRGVza3RvcENudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1kZXNrdG9wLWNudCcpO1xuXHRwcm9qZWN0c0Rlc2t0b3BDbnQuc3R5bGUuaGVpZ2h0ID0gYENhbGMoNjAwdmggKyAke3NlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodH1weClgO1xuXG5cdGxldCBzY3JvbGxUb3AgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Ly8gbGV0IHNjcm9sbFRvQW5jaG9yID0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgbmV4dFNlY3Rpb24ub2Zmc2V0VG9wXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZC1wcicpO1xuXHR9XG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQgfHwgc2Nyb2xsVG9wIDwgZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZC1wcicpO1xuXHR9XG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgMClgO1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCA0MjAwcHgpYDtcblx0fVxuXG5cdGlmIChwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmaXhlZC1wcicpKSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7XG5cdFx0XHRzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50XG5cdFx0fXB4KWA7XG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcblx0XHR9cHgpYDtcblx0fVxuXHRpZiAoc2Nyb2xsVG9wIDwgZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSc7XG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJztcblx0fVxuXHRpZiAoXG5cdFx0IXBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJy5maXhlZC1wcicpICYmXG5cdFx0c2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50XG5cdCkge1xuXHRcdC8vbyBpbG/Fm8SHIHNla2NqaSAqIDIwMHZoXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgyMDB2aClgO1xuXHR9XG59O1xuXG5jb25zdCBmaXJzdFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJyk7XG5jb25zdCBzZWNvbmRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpO1xuY29uc3QgcGFyYWxsYXhIZXJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhcmFsbGF4LWhlcm8nKTtcblxuY29uc3QgaGFuZGxlUGFyYWxsYXhTZWN0aW9uID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDk5Mil7XG4gICAgc2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJ1xuICAgIHBhcmFsbGF4SGVyby5zdHlsZS5oZWlnaHQgPSAnMCdcbiAgICByZXR1cm5cbiAgfVxuXHRsZXQgc2Nyb2xsUGVybWlzaW9uO1xuXHRjb25zdCBzZWN0aW9uT2ZmU2V0ID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcDtcblx0Y29uc3QgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblx0cGFyYWxsYXhIZXJvLnN0eWxlLmhlaWdodCA9IGAke1xuXHRcdHZpZXdwb3J0V2lkdGggKyBuYXZIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHRcblx0fXB4YDtcblx0Y29uc3Qgc2Nyb2xsVmFsdWUgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Y29uc3QgcmF0ZSA9IHNjcm9sbFZhbHVlIC0gc2VjdGlvbk9mZlNldDtcblx0Y29uc29sZS5sb2cocmF0ZSk7XG5cdGlmIChyYXRlID4gdmlld3BvcnRXaWR0aCkge1xuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlO1xuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC0ke3ZpZXdwb3J0V2lkdGh9cHgsICR7dmlld3BvcnRXaWR0aH1weClgO1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAke1xuXHRcdFx0dmlld3BvcnRXaWR0aCAtIHdpbmRvdy5pbm5lckhlaWdodCArIG5hdkhlaWdodFxuXHRcdH1weClgO1xuXHR9IGVsc2UgaWYgKHJhdGUgPD0gMCkge1xuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlO1xuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsIDApYDtcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMTAwJSwgLTEwMCUpYDtcblx0fSBlbHNlIHtcblx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xuXHR9XG5cdGlmIChzY3JvbGxQZXJtaXNpb24pIHtcblx0XHRmaXJzdFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHtyYXRlfXB4LCAke3JhdGV9cHgpYDtcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoQ2FsYygxMDAlIC0gJHtyYXRlfXB4KSwgQ2FsYygtMTAwJSArICR7cmF0ZX1weCkpYDtcblx0fVxufTtcblxuLy8gcGFyYWxsYXggSXRlbXNcblxuY29uc3QgcGFyYWxsYXhUZXh0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXJpc3RpY3MtaXRlbScpO1xuY29uc3QgaGFuZGxlUGFyYWxsYXhJdGVtcyA9IChlKSA9PiB7XG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XG5cdH1cblx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpO1xuXG5cdGxldCB4ID0gZS5jbGllbnRYO1xuXHRsZXQgeSA9IGUuY2xpZW50WTtcblx0Y29uc3QgbWlkZGxlWCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMjtcblx0Y29uc3QgbWlkZGxlWSA9IGUudGFyZ2V0Lm9mZnNldEhlaWdodCAvIDI7XG5cdGxldCBmaW5hbFggPSAobWlkZGxlWCAtIHgpIC8gNDA7XG5cdGxldCBmaW5hbFkgPSAobWlkZGxlWSAtIHkpIC8gNDA7XG5cblx0cGFyYWxsYXhUZXh0cy5mb3JFYWNoKCh0ZXh0KSA9PiB7XG5cdFx0aWYgKHRleHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0XHR9XG5cdFx0dGV4dC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XG5cblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS15JywgYCR7ZmluYWxZfXB4YCk7XG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teCcsIGAke2ZpbmFsWH1weGApO1xuXHR9KTtcbn07XG5cbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlUGFyYWxsYXhJdGVtcyk7XG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuXHRwYXJhbGxheFRleHRzLmZvckVhY2goKHRleHQpID0+IHtcblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ3Jlc2V0LXBvcycpO1xuXHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgnYWRkLXBvcycpO1xuXHR9KTtcbn0pO1xuXG4vLyBmdW5jdGlvbnMgYWN0aW9uc1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcblx0aWYgKHZpZXdwb3J0V2lkdGggPD0gNzY4KSB7XG5cdFx0bmF2SGFuZGxlcigpO1xuXHR9XG5cdHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKCk7XG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpO1xufTtcblxucHJvY2Vzc0J0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVuZ2VQcm9jZXNzKSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdGNhcmRPdXRzaWRlSGFuZGxlcihlKTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKTtcblx0aGFuZGxlUGFyYWxsYXhTZWN0aW9uKCk7XG59KTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcblx0dmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBoZWFkZXJQYXJhbGxheEhhbmRsZXIoKVxuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcblx0XHRuYXZIYW5kbGVyKCk7XG5cdH1cblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSByZXR1cm47XG4gIHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcblx0Y2FyZHNBY3RpdmF0b3JIYW5kbGVyKCk7XG59KTtcbiJdfQ==
