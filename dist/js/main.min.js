"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(t){t.addEventListener("click",function(){cards.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")}),t.classList.add("active")}),t.addEventListener("touchend",function(){cards.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")}),t.classList.add("active")})})},cardOutsideHandler=function(t){t.target.classList.contains("card")||cards.forEach(function(t){t.classList.remove("active")})},navHandler=function(){function s(){a.classList.remove("active"),t.classList.remove("active")}var t=document.querySelector(".mobile-nav"),e=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".nav-list-background"),a=e.cloneNode(!0),e=(a.addEventListener("click",function(){console.log("reveal"),a.classList.toggle("active"),t.classList.toggle("active")}),e.replaceWith(a),o.forEach(function(t){var e=t.cloneNode(!0);e.addEventListener("click",s),t.replaceWith(e)}),n.cloneNode());e.addEventListener("click",s),n.replaceWith(e)},headerParallaxHandler=function(){var t,e,s;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(t=window.pageYOffset,e=.5*window.pageYOffset,s=t/100,introText[0].style.transform="translate(".concat(8*e,"px)"),introText[1].style.transform="translate(".concat(-3*e,"px)"),introText[2].style.transform="translate(".concat(6*e,"px)"),introText[3].style.transform="translate(".concat(7*e,"px)"),introText[4].style.transform="translate(".concat(-9*e,"px)"),introText[5].style.transform="translate(".concat(11*e,"px)"),introBtn.style.opacity="".concat(.5/s),200<=t?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=t?introText.forEach(function(t){return t.style.display="none"}):introText.forEach(function(t){return t.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(t){t.target.nextElementSibling.classList.contains("active")?t.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),t.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(t){t.classList.remove("active")})},accordionOutsideHandler=function(t){t.target.classList.contains("accordion-heading")||t.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(t){t=t.target;t.classList.contains("active")||(closeAllProcesses(),t.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(t){return t.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var t,e,s;viewport<992||(s=document.querySelector(".projects .section__heading"),t=prevSectionOffset+prevSection.offsetHeight+s.offsetHeight,e=nextSection.offsetTop-nextSection.offsetHeight+s.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(s.offsetHeight,"px)"),t<=(s=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(e<=s||s<t)&&parallaxSection.classList.remove("fixed-pr"),e<=s&&(parallaxItems[0].style.transform="translateY(0)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(s-t,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(s-t,"px)")),window.scrollY<t&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&e<=s&&(parallaxItems[1].style.transform="translateY(1000vh)"))},firstSection=document.querySelector(".processes"),firstSectionOffsetTop=firstSection.offsetTop,secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var t,e,s,o,n;viewportWidth<992||(e=(t=window.scrollY)-sectionOffSet,sectionOffSet-navHeight<=t&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),n=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,document.createElement("div").style.height="100vh",viewportWidth<e&&s===o?(secondSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),n=!1,console.log(firstSectionOffsetTop+window.innerHeight),window.scrollTo({top:firstSectionOffsetTop+window.innerHeight-2*navHeight+1,behavior:"instant"})):n=!secondSection.classList.contains("static")||(t<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),window.scrollTo({top:firstSectionOffsetTop+viewportWidth,behavior:"instant"}),n=!0),!1),n&&(secondSection.style.transform="translateX(-".concat(e,"px)"),firstSection.style.transform="translateX(-".concat(e,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(t){t.target.classList.contains("reset-pos")&&t.target.classList.remove("reset-pos"),t.target.classList.add("add-pos");var e=t.clientX,s=t.clientY,o=t.target.offsetWidth/2,t=t.target.offsetHeight/2,n=(o-e)/40,a=(t-s)/40;parallaxTexts.forEach(function(t){t.classList.contains("reset-pos")&&t.classList.remove("reset-pos"),t.classList.add("add-pos"),t.style.setProperty("--transform-y","".concat(a,"px")),t.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(t){t.classList.add("reset-pos"),t.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler()},processBtns.forEach(function(t){return t.addEventListener("click",chengeProcess)}),accordions.forEach(function(t){return t.addEventListener("click",openAccordion)}),window.addEventListener("click",function(t){accordionOutsideHandler(t),cardOutsideHandler(t)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var t=window.innerWidth;t<=768&&navHandler(),992<=t||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsImUiLCJtbmF2SXRlbXMiLCJjbG9zZSIsImJ1cmdlckljb24iLCJvbGRCdXJnZXJJY29uIiwiY2xvbmVOb2RlIiwib2xkTmF2TGlzdEJhY2tncm91bmQiLCJyZXZlYWwiLCJjb25zb2xlIiwib2xkSXRlbSIsIm5hdkxpc3RCYWNrZ3JvdW5kIiwibG9nIiwicmVwbGFjZVdpdGgiLCJpdGVtIiwiaGVhZGVyUGFyYWxsYXhIYW5kbGVyIiwicGFnZVlPZmZzZXQiLCJyYXRlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJvcGFjaXR5IiwiY29uY2F0Iiwib3BhY2l0eVZhbHVlIiwib2Zmc2V0WSIsImRpc3BsYXkiLCJ0ZXh0IiwiYWNjb3JkaW9ucyIsInRhcmdldCIsIm5leHRFbGVtZW50U2libGluZyIsImNsb3NlQWxsQWNjb3JkaW9ucyIsImFjY29yZGlvbkNvbnRlbnQiLCJ0b2dnbGUiLCJhY2NvcmRpb25PdXRzaWRlSGFuZGxlciIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0J0bnMiLCJwcm9jZXNzVGl0bGUiLCJidG4iLCJzZXRDb250ZW50IiwiY2xvc2VBbGxQcm9jZXNzZXMiLCJ0ZXh0Q29udGVudCIsInBhcmFsbGF4U2VjdGlvbiIsInBhcmFsbGF4SXRlbXMiLCJwcmV2U2VjdGlvbiIsIm5leHRTZWN0aW9uIiwiaW5uZXJXaWR0aCIsInByZXZTZWN0aW9uT2Zmc2V0IiwicHJvamVjdHNEZXNrdG9wQ250IiwiaGVpZ2h0Iiwic2VjdGlvbkhlYWRpbmciLCJzY3JvbGxUb3AiLCJzY3JvbGxZIiwidmlld3BvcnQiLCJmaXJzdEFuY2hvclBvaW50Iiwib2Zmc2V0VG9wIiwic2Vjb25kQW5jaG9yUG9pbnQiLCJvZmZzZXRIZWlnaHQiLCJzZWNvbmRTZWN0aW9uIiwic2VjdGlvbk9mZlNldCIsImZpcnN0U2VjdGlvbiIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInNjcm9sbFBlcm1pc2lvbiIsImZpcnN0QW5jaG9yIiwibmF2SGVpZ2h0Iiwic2Nyb2xsVmFsdWUiLCJmaXJzdFNlY3Rpb25PZmZzZXRUb3AiLCJuYXYiLCJzZWNvbmRTZWN0aW9uUmVjdCIsImZpcnN0U2VjdGlvblRvcCIsImR1bW15Iiwic2Vjb25kU2VjdGlvblRvcCIsImZpcnN0U2VjdGlvblJlY3QiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYmVoYXZpb3IiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvIiwicGFyYWxsYXhUZXh0cyIsImhhbmRsZVBhcmFsbGF4SXRlbXMiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwibWlkZGxlWCIsIm9mZnNldFdpZHRoIiwibWlkZGxlWSIsImZpbmFsWSIsImFjY29yZGlvbiIsIm9wZW5BY2NvcmRpb24iLCJjYXJkT3V0c2lkZUhhbmRsZXIiLCJwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciIsIm5hdkhhbmRsZXIiLCJjaGVuZ2VQcm9jZXNzIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxpQkFBaUIsYUFBYSxFQUNuREMsU0FBV0YsU0FBU0csY0FBYyxZQUFZLEVBRDlDSixjQUFZQyxPQUFTQyxXQUV2QkcsTUFBQUEsU0FBZ0JDLGlCQUFpQix3QkFBQSxFQUkvQkMsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUFDLEdBQ1pBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FB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LHNCQUFzQixDQUN2QixDQUFDLEVBRURyRSxPQUFPSyxpQkFBaUIsU0FBVSxXQUNoQyxJQUFJTixFQUFnQkMsT0FBT3NELFdBQ3hCdkQsR0FBaUIsS0FDbEJzRyxXQUFXLEVBRU8sS0FBakJ0RyxHQUNKRSxzQkFBc0IsQ0FDdkIsQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludHJvVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyby10ZXh0JylcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpXG5sZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpXG5cbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcblx0Y2FyZHMuZm9yRWFjaChjYXJkID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHR9KVxuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0fSlcblx0fSlcbn1cblxuY29uc3QgY2FyZE91dHNpZGVIYW5kbGVyID0gZSA9PiB7XG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcblx0XHRjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdH0pXG5cdH1cbn1cblxuY29uc3QgbmF2SGFuZGxlciA9ICgpID0+IHtcbiAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYnKVxuICBjb25zdCBvbGRCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJylcbiAgY29uc3QgbW5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpXG4gIGNvbnN0IG9sZE5hdkxpc3RCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWJhY2tncm91bmQnKVxuICBjb25zdCByZXZlYWwgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3JldmVhbCcpO1xuICAgIGJ1cmdlckljb24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgfVxuICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICBidXJnZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgbmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gIH1cbiAgY29uc3QgYnVyZ2VySWNvbiA9IG9sZEJ1cmdlckljb24uY2xvbmVOb2RlKHRydWUpXG4gIGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZlYWwpXG4gIG9sZEJ1cmdlckljb24ucmVwbGFjZVdpdGgoYnVyZ2VySWNvbilcbiAgbW5hdkl0ZW1zLmZvckVhY2gob2xkSXRlbSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IG9sZEl0ZW0uY2xvbmVOb2RlKHRydWUpXG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKVxuICAgIG9sZEl0ZW0ucmVwbGFjZVdpdGgoaXRlbSlcbiAgfSlcbiAgY29uc3QgbmF2TGlzdEJhY2tncm91bmQgPSBvbGROYXZMaXN0QmFja2dyb3VuZC5jbG9uZU5vZGUoKVxuICBuYXZMaXN0QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKVxuICBvbGROYXZMaXN0QmFja2dyb3VuZC5yZXBsYWNlV2l0aChuYXZMaXN0QmFja2dyb3VuZClcbn1cblxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDc2OCkge1xuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJylcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRjb25zdCBvZmZzZXRZID0gd2luZG93LnBhZ2VZT2Zmc2V0XG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cucGFnZVlPZmZzZXQgKiAwLjVcblx0Y29uc3Qgb3BhY2l0eVZhbHVlID0gb2Zmc2V0WSAvIDEwMFxuXG5cdGludHJvVGV4dFswXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDh9cHgpYFxuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgXG5cdGludHJvVGV4dFsyXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDZ9cHgpYFxuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA3fXB4KWBcblx0aW50cm9UZXh0WzRdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTl9cHgpYFxuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxMX1weClgXG5cblx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAkezAuNSAvIG9wYWNpdHlWYWx1ZX1gXG5cdGlmIChvZmZzZXRZID49IDIwMCkge1xuXHRcdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSAwXG5cdFx0aW50cm9CdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXHR9IGVsc2Uge1xuXHRcdGludHJvQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG5cdH1cblxuXHRpZiAob2Zmc2V0WSA+PSA4MDApIHtcblx0XHRpbnRyb1RleHQuZm9yRWFjaCh0ZXh0ID0+ICh0ZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpKVxuXHR9IGVsc2Uge1xuXHRcdGludHJvVGV4dC5mb3JFYWNoKHRleHQgPT4gKHRleHQuc3R5bGUuZGlzcGxheSA9ICdibG9jaycpKVxuXHR9XG59XG5cbi8vIFByb2Nlc3NlcyAtIGFjY29yZGlvbnNcblxuY29uc3QgYWNjb3JkaW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24taGVhZGluZycpXG5cbmNvbnN0IG9wZW5BY2NvcmRpb24gPSBlID0+IHtcblx0aWYgKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0ZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VBbGxBY2NvcmRpb25zKClcblx0XHRlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcblx0fVxufVxuXG5jb25zdCBjbG9zZUFsbEFjY29yZGlvbnMgPSAoKSA9PiB7XG5cdGNvbnN0IGFjY29yZGlvbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWNvbnRlbnQnKVxuXHRhY2NvcmRpb25Db250ZW50LmZvckVhY2goZWwgPT4ge1xuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0pXG59XG5cbmNvbnN0IGFjY29yZGlvbk91dHNpZGVIYW5kbGVyID0gZSA9PiB7XG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbi1oZWFkaW5nJykgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24tY29udGVudCcpKSByZXR1cm5cblx0Y2xvc2VBbGxBY2NvcmRpb25zKClcbn1cbi8vIFByb2Nlc3NlcyAtIGxpc3RcblxuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJylcblxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpXG5cbmNvbnN0IHByb2Nlc3NCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2Nlc3Nlcy1saXN0LWl0ZW0nKVxuXG5jb25zdCBjaGVuZ2VQcm9jZXNzID0gZSA9PiB7XG5cdGNvbnN0IGJ0biA9IGUudGFyZ2V0XG5cblx0aWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgcmV0dXJuXG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VBbGxQcm9jZXNzZXMoKVxuXHRcdGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuXHR9XG5cdHNldENvbnRlbnQoKVxufVxuXG5jb25zdCBjbG9zZUFsbFByb2Nlc3NlcyA9ICgpID0+IHtcblx0cHJvY2Vzc0J0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKVxufVxuXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xuXHRpZiAocHJvY2Vzc0J0bnNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdKYWsgcHJ6ZWJpZWdhasSFIHJvem1vd3k/J1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjZWF0LCBwb3NzaW11cyBjb25zZWN0ZXR1ciwgdGVuZXR1ciB2b2x1cHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2Bcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1sxXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgcHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2Bcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1syXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0NvIHRvIGplc3QgemF0d2llcmR6ZW5pZT8nXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZXVtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbM10uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdXeWtvbmFuaWUgcHJvamVrdHUhJ1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjZWF0LCBwb3NzaW11cyBjb25zZWN0ZXR1ciwgdGVuZXR1ciB2b2x1cHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2VsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2Bcblx0fVxufVxuXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xuXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKVxuY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpXG5jb25zdCBwcmV2U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlcycpXG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKVxubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGhcbmxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcFxuXG5jb25zdCBwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0IDwgOTkyKSByZXR1cm5cbiAgY29uc3Qgc2VjdGlvbkhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMgLnNlY3Rpb25fX2hlYWRpbmcnKVxuICBsZXQgZmlyc3RBbmNob3JQb2ludCA9IHByZXZTZWN0aW9uT2Zmc2V0ICsgcHJldlNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgc2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0XG4gIGxldCBzZWNvbmRBbmNob3JQb2ludCA9IG5leHRTZWN0aW9uLm9mZnNldFRvcCAtIG5leHRTZWN0aW9uLm9mZnNldEhlaWdodCArIHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodCAvIDJcbiAgY29uc3QgcHJvamVjdHNEZXNrdG9wQ250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250JylcbiAgcHJvamVjdHNEZXNrdG9wQ250LnN0eWxlLmhlaWdodCA9IGBDYWxjKDYwMHZoICsgJHtzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHR9cHgpYFxuXG5cdGxldCBzY3JvbGxUb3AgPSB3aW5kb3cuc2Nyb2xsWVxuXHQvLyBsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3Bcblx0aWYgKHNjcm9sbFRvcCA+PSBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkLXByJylcblx0fVxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50IHx8IHNjcm9sbFRvcCA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQtcHInKVxuXHR9XG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKDApYFxuXHR9XG5cblx0aWYgKHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkLXByJykpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAtJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYFxuXHR9XG4gIGlmICh3aW5kb3cuc2Nyb2xsWSA8IGZpcnN0QW5jaG9yUG9pbnQpe1xuICAgIHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICBwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknXG4gIH1cblxuXHRpZiAoIXBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJy5maXhlZC1wcicpICYmIHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoMTAwMHZoKWBcblx0fVxufVxuXG5jb25zdCBmaXJzdFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJylcbmNvbnN0IGZpcnN0U2VjdGlvbk9mZnNldFRvcCA9IGZpcnN0U2VjdGlvbi5vZmZzZXRUb3BcbmNvbnN0IHNlY29uZFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyaXN0aWNzJylcbmNvbnN0IHNlY3Rpb25PZmZTZXQgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJylcbmNvbnN0IG5hdkhlaWdodCA9IG5hdi5vZmZzZXRIZWlnaHRcbmNvbnN0IGhhbmRsZVBhcmFsbGF4U2VjdGlvbiA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA5OTIpIHJldHVyblxuXHRsZXQgc2Nyb2xsUGVybWlzaW9uXG5cdGNvbnN0IHNjcm9sbFZhbHVlID0gd2luZG93LnNjcm9sbFlcblx0Y29uc3QgcmF0ZSA9IHNjcm9sbFZhbHVlIC0gc2VjdGlvbk9mZlNldFxuXHRjb25zdCBmaXJzdEFuY2hvciA9IHNlY3Rpb25PZmZTZXQgLSBuYXZIZWlnaHQgPD0gc2Nyb2xsVmFsdWVcblx0aWYgKGZpcnN0QW5jaG9yICYmICFzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnc3RhdGljJykpIHtcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RpY2t5Jylcblx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlXG5cdH0gZWxzZSB7XG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0aWNreScpXG5cdH1cblxuXHRpZiAoIWZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3BhcmFsbGF4LXN0aWNreScpICYmICFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGF0aWMnKSkge1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoMClgXG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYFxuXHR9XG5cblx0Y29uc3Qgc2Vjb25kU2VjdGlvblJlY3QgPSBzZWNvbmRTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdGNvbnN0IGZpcnN0U2VjdGlvblJlY3QgPSBmaXJzdFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblx0Y29uc3Qgc2Vjb25kU2VjdGlvblRvcCA9IHNlY29uZFNlY3Rpb25SZWN0LnRvcFxuXHRjb25zdCBmaXJzdFNlY3Rpb25Ub3AgPSBmaXJzdFNlY3Rpb25SZWN0LnRvcFxuICBjb25zdCBkdW1teSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGR1bW15LnN0eWxlLmhlaWdodCA9ICcxMDB2aCdcblx0aWYgKHJhdGUgPiB2aWV3cG9ydFdpZHRoICYmIHNlY29uZFNlY3Rpb25Ub3AgPT09IGZpcnN0U2VjdGlvblRvcCkge1xuICAgIHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHt2aWV3cG9ydFdpZHRofXB4LCAwKWBcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncGFyYWxsYXgtc3RpY2t5Jylcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RhdGljJylcblx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3N0YXRpYycpXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2VcbiAgICBjb25zb2xlLmxvZyhmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICB0b3A6IGZpcnN0U2VjdGlvbk9mZnNldFRvcCArIHdpbmRvdy5pbm5lckhlaWdodCAtIG5hdkhlaWdodCAqIDIgKyAxLFxuICAgICAgYmVoYXZpb3I6ICdpbnN0YW50J1xuICAgIH0pXG5cdH0gXG4gIGVsc2Uge1xuXHRcdGlmIChzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnc3RhdGljJykpIHtcblx0XHRcdGNvbnN0IHNlY29uZE9mZlNldCA9IHNlY29uZFNlY3Rpb24ub2Zmc2V0VG9wXG5cdFx0XHRpZiAoc2Vjb25kT2ZmU2V0IC0gbmF2SGVpZ2h0ID49IHNjcm9sbFZhbHVlKSB7XG5cdFx0XHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKVxuXHRcdFx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncGFyYWxsYXgtc3RhdGljJylcblx0XHRcdFx0c2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzdGF0aWMnKVxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICAgIHRvcDogZmlyc3RTZWN0aW9uT2Zmc2V0VG9wICsgdmlld3BvcnRXaWR0aCxcbiAgICAgICAgICBiZWhhdmlvcjogJ2luc3RhbnQnXG4gICAgICAgIH0pXG5cdFx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWVcblx0XHRcdH1cblx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlXG5cdFx0fSBlbHNlIHtcblx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWVcblx0XHR9XG5cdH1cblxuXHRpZiAoc2Nyb2xsUGVybWlzaW9uKSB7XG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfXB4KWBcblx0XHRmaXJzdFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgXG5cdH1cbn1cblxuLy8gcGFyYWxsYXggSXRlbXNcblxuY29uc3QgcGFyYWxsYXhUZXh0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXJpc3RpY3MtaXRlbScpXG5jb25zdCBoYW5kbGVQYXJhbGxheEl0ZW1zID0gZSA9PiB7XG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJylcblx0fVxuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJylcblxuXHRsZXQgeCA9IGUuY2xpZW50WFxuXHRsZXQgeSA9IGUuY2xpZW50WVxuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyXG5cdGNvbnN0IG1pZGRsZVkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyXG5cdGxldCBmaW5hbFggPSAobWlkZGxlWCAtIHgpIC8gNDBcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MFxuXG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCh0ZXh0ID0+IHtcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpXG5cdFx0fVxuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpXG5cblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS15JywgYCR7ZmluYWxZfXB4YClcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YClcblx0fSlcbn1cblxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVQYXJhbGxheEl0ZW1zKVxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcblx0cGFyYWxsYXhUZXh0cy5mb3JFYWNoKHRleHQgPT4ge1xuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJylcblx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2FkZC1wb3MnKVxuXHR9KVxufSlcblxuLy8gZnVuY3Rpb25zIGFjdGlvbnNcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblx0aGVhZGVyUGFyYWxsYXhIYW5kbGVyKClcbiAgaWYodmlld3BvcnRXaWR0aCA8PSA3Njgpe1xuICAgIG5hdkhhbmRsZXIoKVxuICB9XG59XG5cbnByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKVxuXG5hY2NvcmRpb25zLmZvckVhY2goYWNjb3JkaW9uID0+IGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BY2NvcmRpb24pKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0YWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIoZSlcblx0Y2FyZE91dHNpZGVIYW5kbGVyKGUpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKVxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICBsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gIGlmKHZpZXdwb3J0V2lkdGggPD0gNzY4KXtcbiAgICBuYXZIYW5kbGVyKClcbiAgfVxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVyblxuXHRjYXJkc0FjdGl2YXRvckhhbmRsZXIoKVxufSlcbiJdfQ==
