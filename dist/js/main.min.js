"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function a(){s.classList.remove("active"),e.classList.remove("active")}var e=document.querySelector(".navbar"),t=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".nav-list-background"),s=t.cloneNode(!0),t=(s.addEventListener("click",function(){console.log("reveal"),s.classList.toggle("active"),e.classList.toggle("active")}),t.replaceWith(s),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",a),e.replaceWith(t)}),n.cloneNode());t.addEventListener("click",a),n.replaceWith(t)},headerParallaxHandler=function(){var e,t,a;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.scrollY,t=.1*window.scrollY,a=1/(e/100+1),introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),e>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(a),racoon.style.opacity="".concat(a),intro.style.pointerEvents="all",intro.style.opacity="1"))},processesInfo=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){for(var e=0;e<processesInfo.length;e++)processBtns[e].classList.contains("active")&&(processTitle.textContent=processesInfo[e].heading,processText.textContent=processesInfo[e].text)},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,a;viewport<992||(a=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+a.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+a.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(a.offsetHeight,"px)"),e<=(a=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=a||a<e)&&parallaxSection.classList.remove("fixed-pr"),t<=a&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 4200px)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(a-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(a-e,"px)")),a<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=a&&(parallaxItems[1].style.transform="translateY(200vh)"))},firstSection=document.querySelector(".processes"),firstSectionOffsetTop=firstSection.offsetTop,secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,a,o,n;viewportWidth<992||(t=(e=window.scrollY)-sectionOffSet,sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),n=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),a=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),a=a.top,o=o.top,viewportWidth<t&&a===o?(secondSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),n=!1,window.scrollTo({top:firstSectionOffsetTop+window.innerHeight-2*navHeight+1,behavior:"instant"})):n=!secondSection.classList.contains("static")||(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),window.scrollTo({top:firstSectionOffsetTop+viewportWidth,behavior:"instant"}),n=!0),!1),n&&(secondSection.style.transform="translateX(-".concat(t,"px)"),firstSection.style.transform="translateX(-".concat(t,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,a=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(o-t)/40,s=(e-a)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(s,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var e=window.innerWidth;e<=768&&navHandler(),992<=e||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsIm1uYXZJdGVtcyIsImNsb3NlIiwiYnVyZ2VySWNvbiIsIm9sZEJ1cmdlckljb24iLCJjbG9uZU5vZGUiLCJvbGROYXZMaXN0QmFja2dyb3VuZCIsInJldmVhbCIsImNvbnNvbGUiLCJvbGRJdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJsb2ciLCJyZXBsYWNlV2l0aCIsIml0ZW0iLCJoZWFkZXJQYXJhbGxheEhhbmRsZXIiLCJzY3JvbGxZIiwicmF0ZSIsInN0eWxlIiwidHJhbnNmb3JtIiwib2Zmc2V0WSIsImlubmVySGVpZ2h0IiwicG9pbnRlckV2ZW50cyIsImNvbmNhdCIsIm9wYWNpdHkiLCJvcGFjaXR5VmFsdWUiLCJpbnRybyIsImhlYWRpbmciLCJ0ZXh0IiwiYnV0dG9uIiwicHJvY2Vzc1RpdGxlIiwicHJvY2Vzc1RleHQiLCJidG4iLCJzZXRDb250ZW50IiwicHJvY2Vzc0J0bnMiLCJjaGVuZ2VQcm9jZXNzIiwiZSIsInRhcmdldCIsImNsb3NlQWxsUHJvY2Vzc2VzIiwidG9nZ2xlIiwicGFyYWxsYXhTZWN0aW9uIiwicGFyYWxsYXhJdGVtcyIsInZpZXdwb3J0IiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcm9jZXNzZXNJbmZvIiwibGVuZ3RoIiwib2Zmc2V0VG9wIiwicHJvamVjdHNQYXJhbGxheEhhbmRsZXIiLCJ0ZXh0Q29udGVudCIsImkiLCJzZWN0aW9uSGVhZGluZyIsInNjcm9sbFRvcCIsInNlY29uZEFuY2hvclBvaW50IiwibmV4dFNlY3Rpb24iLCJwcmV2U2VjdGlvbiIsIm9mZnNldEhlaWdodCIsImZpcnN0QW5jaG9yUG9pbnQiLCJoZWlnaHQiLCJzZWNvbmRTZWN0aW9uIiwic2VjdGlvbk9mZlNldCIsImZpcnN0U2VjdGlvbiIsIm5hdiIsInNjcm9sbFBlcm1pc2lvbiIsInNjcm9sbFZhbHVlIiwiZmlyc3RBbmNob3IiLCJmaXJzdFNlY3Rpb25Ub3AiLCJmaXJzdFNlY3Rpb25SZWN0Iiwic2Vjb25kU2VjdGlvblRvcCIsImJlaGF2aW9yIiwibmF2SGVpZ2h0Iiwic2Vjb25kT2ZmU2V0Iiwic2Vjb25kU2VjdGlvblJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJwYXJhbGxheFRleHRzIiwiaGFuZGxlUGFyYWxsYXhJdGVtcyIsIngiLCJvZmZzZXRXaWR0aCIsIm1pZGRsZVgiLCJtaWRkbGVZIiwic2Nyb2xsVG8iLCJzZXRQcm9wZXJ0eSIsIm5hdkhhbmRsZXIiLCJoYW5kbGVQYXJhbGxheFNlY3Rpb24iLCJjbGllbnRYIiwieSIsImNhcmRPdXRzaWRlSGFuZGxlciIsImZpbmFsWSIsImZpbmFsWCIsIm9ubG9hZCIsImlubmVyV2lkdGgiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFVBQVlDLFNBQVNDLGlCQUFpQixhQUFhLEVBQ25EQyxTQUFXRixTQUFTRyxjQUFjLFlBQVksRUFEOUNKLE9BQVNDLFNBQVdHLGNBQUNGLFNBQWlCLEVBQ3RDQyxNQUFRRixTQUFXRyxjQUFjLFFBQUMsRUFDbENDLGNBQVNKLE9BQVNHLFdBRXBCRSxNQUFBQSxTQUFnQkMsaUJBQWlCLHdCQUFBLEVBSS9CQyxzQkFBd0IsV0FDN0JDLE1BQUtDLFFBQVEsU0FBQ0MsR0FDYkEsRUFBQUEsaUJBQUtDLFFBQXdCLFdBQzVCSCxNQUFBQSxRQUFNQyxTQUFBQSxHQUNMRyxFQUFBQyxVQUFPQSxTQUFVQyxRQUFTLEdBQ3pCRixFQUFHQyxVQUFBQSxPQUFVRSxRQUFPLENBRXRCLENBQUMsRUFDREwsRUFBQUEsVUFBS0csSUFBVUcs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QVMsV0FDZjFFLHNCQUFxQixFQUNqQnpCLGVBQWlCLEtBQ2xCNEYsV0FBVSxFQUVabkMsd0JBQXVCLEVBQ3hCb0Msc0JBQXFCLENBQ3RCLEVBRUFqRCxZQUFZeEMsUUFBUSxTQUFDc0MsR0FBRyxPQUFLQSxFQUFJcEMsaUJBQWlCLFFBQVN1QyxhQUFhLENBQUMsQ0FBQSxFQUV6RTVDLE9BQU9LLGlCQUFpQixRQUFTLFNBQUF3QyxHQUNoQ2tELG1CQUFtQmxELENBQUMsQ0FDckIsQ0FBQyxFQUVEN0MsT0FBT0ssaUJBQWlCLFNBQVUsV0FDakNtQixzQkFBcUIsRUFDckJnQyx3QkFBdUIsRUFDdkJvQyxzQkFBcUIsQ0FDdEIsQ0FBQyxFQUVENUYsT0FBT0ssaUJBQWlCLFNBQVUsV0FDakMsSUFBSU4sRUFBZ0JDLE9BQU9tRyxXQUN2QnBHLEdBQWlCLEtBQ3BCNEYsV0FBVSxFQUVVLEtBQWpCNUYsR0FDSkUsc0JBQXFCLENBQ3RCLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpXHJcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpXHJcbmNvbnN0IHJhY29vbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYWNvb24nKVxyXG5jb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpXHJcbmxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGhcclxuXHJcbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xyXG5cclxuY29uc3QgY2FyZHNBY3RpdmF0b3JIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcclxuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xyXG5cdFx0XHRjYXJkcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xyXG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcclxuXHRcdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcclxuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IG5hdkhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpXHJcbiAgY29uc3Qgb2xkQnVyZ2VySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItaWNvbicpXHJcbiAgY29uc3QgbW5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpXHJcbiAgY29uc3Qgb2xkTmF2TGlzdEJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWxpc3QtYmFja2dyb3VuZCcpXHJcbiAgY29uc3QgcmV2ZWFsID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ3JldmVhbCcpO1xyXG4gICAgYnVyZ2VySWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG4gICAgbmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcbiAgfVxyXG4gIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xyXG4gICAgYnVyZ2VySWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgbmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgfVxyXG4gIGNvbnN0IGJ1cmdlckljb24gPSBvbGRCdXJnZXJJY29uLmNsb25lTm9kZSh0cnVlKVxyXG4gIGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZlYWwpXHJcbiAgb2xkQnVyZ2VySWNvbi5yZXBsYWNlV2l0aChidXJnZXJJY29uKVxyXG4gIG1uYXZJdGVtcy5mb3JFYWNoKG9sZEl0ZW0gPT4ge1xyXG4gICAgY29uc3QgaXRlbSA9IG9sZEl0ZW0uY2xvbmVOb2RlKHRydWUpXHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpXHJcbiAgICBvbGRJdGVtLnJlcGxhY2VXaXRoKGl0ZW0pXHJcbiAgfSlcclxuICBjb25zdCBuYXZMaXN0QmFja2dyb3VuZCA9IG9sZE5hdkxpc3RCYWNrZ3JvdW5kLmNsb25lTm9kZSgpXHJcbiAgbmF2TGlzdEJhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSlcclxuICBvbGROYXZMaXN0QmFja2dyb3VuZC5yZXBsYWNlV2l0aChuYXZMaXN0QmFja2dyb3VuZClcclxufVxyXG5cclxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgNzY4KSB7XHJcblx0XHRjb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpO1xyXG5cdFx0aW50cm8uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cuc2Nyb2xsWVxyXG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cuc2Nyb2xsWSAqIDAuMVxyXG5cdGNvbnN0IG9wYWNpdHlWYWx1ZSA9IDEgLyAoKG9mZnNldFkgLyAxMDApICsgMSlcclxuXHJcblx0aW50cm9UZXh0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTR9cHgpYFxyXG5cdGludHJvVGV4dFsxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC0zfXB4KWBcclxuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNn1weClgXHJcblx0aW50cm9UZXh0WzNdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTd9cHgpYFxyXG5cdGludHJvVGV4dFs0XS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC05fXB4KWBcclxuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNy41fXB4KWBcclxuXHJcblxyXG4gIGlmKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgIGludHJvLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcclxuICAgIGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBpbnRyb0J0bi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWBcclxuICAgIHJhY29vbi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWBcclxuICAgIGludHJvLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJ1xyXG4gICAgaW50cm8uc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gIH1cclxufVxyXG5cclxuLy8gUHJvY2Vzc2VzIC0gbGlzdFxyXG5jb25zdCBwcm9jZXNzZXNJbmZvID0gW1xyXG4gIHtcclxuICAgIGhlYWRpbmc6ICdKYWsgcHJ6ZWJpZWdhasSFIHJvem1vd3k/JyxcclxuICAgIHRleHQ6ICdaYWN6eW5hbXkgb2Qgb2tyZcWbbGVuaWEgxZt3aWFkY3pvbmVqIHVzxYJ1Z2kuIEplxbxlbGkgamVzdCB0byBidWRvd2EgbHViIHByb2pla3Rvd2FuaWUsIHRvIHB5dGFteSBjenkgaXN0bmllamUgamFraWXFmyBsb2dvLCBixIVkxbogd2l6eXTDs3drYSBmaXJteS4gTmFzdMSZcG5pZSB6YXB5dGFteSBvIHRyZcWbY2ksIGt0w7NyZSBtaWHFgnlieSBzacSZIHpuYWxlxbrEhyBuYSBzdHJvbmllLiBOYSBwb2RzdGF3aWUgdGVnbyB0d29yenlteSB3ecWCxIVjem5pZSBzdHJ1a3R1csSZIGkgd3ljZW5pYW15IHByb2pla3QuIE5hc3TEmXBuaWUgemFjenluYW15IHByb2pla3Rvd2HEhy4nLFxyXG4gICAgYnV0dG9uOiAnS29uc3VsdGFjamEnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaGVhZGluZzogJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nLFxyXG4gICAgdGV4dDogJ1BvIHNrb8WEY3plbml1IHByb2pla3R1IHN0cm9ueSwgcHJ6ZWRzdGF3aWFteSBnbyBUb2JpZSBkbyBvY2VuaWVuaWEuIFd0ZWR5IHByenlqbXVqZW15IHdzemVsa2llIHV3YWdpIGRvdC4gZG9ib3J1IGtvbG9yw7N3LCBidWRvd3kgc2VrY2ppIGl0ZC4gVMWCdW1hY3p5bXkgdGXFvCwgY3plbXUgcGV3bmUgZWxlbWVudHkgbXVzesSFIHphd2llcmHEhyBuaWVrdMOzcmUgY2VjaHkuIFDDs8W6bmllaiBuYW5vc2lteSB3c3plbGtpZSB6bWlhbnkuJyxcclxuICAgIGJ1dHRvbjogJ1ByZXplbnRhY2phJyxcclxuICB9LFxyXG4gIHtcclxuICAgIGhlYWRpbmc6ICdDenltIGplc3QgZXRhcCB6YXR3aWVyZHplbmlhPycsXHJcbiAgICB0ZXh0OiAnVG8ga3JvaywgdyBrdMOzcnltIGRlY3lkdWplc3ogc2nEmSBuYSBwb2RqxJljaWUgbHViIG9kcnp1Y2VuaWUgbmFzenljaCB1c8WCdWcuIEplxbxlbGkgemxlY2lzeiBuYW0gc3R3b3J6ZW5pZSBzdHJvbnksIHRvIHByemVrYcW8ZW15IENpIGlsZSBwcmF3ZG9wb2RvYm5pZSB6YWptaWUgdG8gbmFtIGN6YXN1LiBEb2RhdGtvd28gYsSZZHppZW15IHBvdHJ6ZWJvd2FsaSBkb2vFgmFkbnljaCB0cmXFm2NpLCBrdMOzcmUgbWFqxIUgc2nEmSBmaW5hbG5pZSB6bmFsZcW6xIcgbmEgVHdvamVqIHdpdHJ5bmllLicsXHJcbiAgICBidXR0b246ICdaYXR3aWVyZHplbmllJyxcclxuICB9LFxyXG4gIHtcclxuICAgIGhlYWRpbmc6ICdXeWtvbmFuaWUgcHJvamVrdHUhJyxcclxuICAgIHRleHQ6ICdUZW4ga3JvayB6b3N0YXcgbmFtISBPZCByYXp1IHphYmllcnplbXkgc2nEmSBkbyB0d29yemVuaWEgVHdvamVqIHd5bWFyem9uZWogd2l6eXTDs3draSBpbnRlcm5ldG93ZWouIFBvZGN6YXMgdGVnbyBjemFzdSBtb8W8ZXN6IG5hbSBwcnpla2F6YcSHIHdzemVsa2llIGRvZGF0a293ZSBpbmZvcm1hY2plLCBhIG15IHdlxbptaWVteSBqZSBwb2QgdXdhZ8SZLiBQbyB6YWtvxYRjem9uZWogcHJhY3kgem9zdGHFgm8gdHlsa28gdW1pZcWbY2nEhyBqxIUgbmEgaG9zdGluZ3UuJyxcclxuICAgIGJ1dHRvbjogJ1d5a29uYW5pZScsXHJcbiAgfVxyXG5dXHJcbmNvbnN0IHByb2Nlc3NUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10aXRsZScpO1xyXG5jb25zdCBwcm9jZXNzVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10ZXh0Jyk7XHJcbmNvbnN0IHByb2Nlc3NCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2Nlc3Nlcy1saXN0LWl0ZW0nKTtcclxuY29uc3QgY2hlbmdlUHJvY2VzcyA9IChlKSA9PiB7XHJcblx0Y29uc3QgYnRuID0gZS50YXJnZXQ7XHJcblxyXG5cdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjbG9zZUFsbFByb2Nlc3NlcygpO1xyXG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cdH1cclxuXHRzZXRDb250ZW50KCk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZUFsbFByb2Nlc3NlcyA9ICgpID0+IHtcclxuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xyXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9jZXNzZXNJbmZvLmxlbmd0aDsgaSsrKXtcclxuICAgIGlmKHByb2Nlc3NCdG5zW2ldLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICBwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLmhlYWRpbmdcclxuICAgICAgcHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLnRleHRcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxufTtcclxuXHJcbi8qIFBST0pFQ1RTIFBBUkFMTEFYICovXHJcblxyXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcclxuY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpO1xyXG5jb25zdCBwcmV2U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlcycpO1xyXG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcclxubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbmxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcDtcclxuXHJcbmNvbnN0IHByb2plY3RzUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuO1xyXG5cdGNvbnN0IHNlY3Rpb25IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzIC5zZWN0aW9uX19oZWFkaW5nJyk7XHJcblx0bGV0IGZpcnN0QW5jaG9yUG9pbnQgPSBwcmV2U2VjdGlvbk9mZnNldCArIHByZXZTZWN0aW9uLm9mZnNldEhlaWdodCArIHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodDtcclxuXHRsZXQgc2Vjb25kQW5jaG9yUG9pbnQgPSBuZXh0U2VjdGlvbi5vZmZzZXRUb3AgLSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQgLyAyO1xyXG5cdGNvbnN0IHByb2plY3RzRGVza3RvcENudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1kZXNrdG9wLWNudCcpO1xyXG5cdHByb2plY3RzRGVza3RvcENudC5zdHlsZS5oZWlnaHQgPSBgQ2FsYyg2MDB2aCArICR7c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0fXB4KWA7XHJcblxyXG5cdGxldCBzY3JvbGxUb3AgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHQvLyBsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3BcclxuXHRpZiAoc2Nyb2xsVG9wID49IGZpcnN0QW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZC1wcicpO1xyXG5cdH1cclxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50IHx8IHNjcm9sbFRvcCA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZC1wcicpO1xyXG5cdH1cclxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgMClgO1xyXG4gICAgcGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsIDQyMDBweClgO1xyXG5cdH1cclxuXHJcblx0aWYgKHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkLXByJykpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsIC0ke1xyXG5cdFx0XHRzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50XHJcblx0XHR9cHgpYDtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsICR7XHJcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcclxuXHRcdH1weClgO1xyXG5cdH1cclxuXHRpZiAoc2Nyb2xsVG9wIDwgZmlyc3RBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJztcclxuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSc7XHJcblx0fVxyXG4gIGlmICghcGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnLmZpeGVkLXByJykgJiYgc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XHJcbiAgICAvL28gaWxvxZvEhyBzZWtjamkgKiAyMDB2aFxyXG4gICAgcGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgyMDB2aClgXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBmaXJzdFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJylcclxuY29uc3QgZmlyc3RTZWN0aW9uT2Zmc2V0VG9wID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcFxyXG5jb25zdCBzZWNvbmRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpXHJcbmNvbnN0IHNlY3Rpb25PZmZTZXQgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wXHJcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKVxyXG5jb25zdCBuYXZIZWlnaHQgPSBuYXYub2Zmc2V0SGVpZ2h0XHJcbmNvbnN0IGhhbmRsZVBhcmFsbGF4U2VjdGlvbiA9ICgpID0+IHtcclxuXHRpZiAodmlld3BvcnRXaWR0aCA8IDk5MikgcmV0dXJuXHJcblx0bGV0IHNjcm9sbFBlcm1pc2lvblxyXG5cdGNvbnN0IHNjcm9sbFZhbHVlID0gd2luZG93LnNjcm9sbFlcclxuXHRjb25zdCByYXRlID0gc2Nyb2xsVmFsdWUgLSBzZWN0aW9uT2ZmU2V0XHJcblx0Y29uc3QgZmlyc3RBbmNob3IgPSBzZWN0aW9uT2ZmU2V0IC0gbmF2SGVpZ2h0IDw9IHNjcm9sbFZhbHVlXHJcblx0aWYgKGZpcnN0QW5jaG9yICYmICFzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnc3RhdGljJykpIHtcclxuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKTtcclxuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XHJcblx0fSBlbHNlIHtcclxuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKTtcclxuXHR9XHJcblxyXG5cdGlmIChcclxuXHRcdCFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGlja3knKSAmJlxyXG5cdFx0IWZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3BhcmFsbGF4LXN0YXRpYycpXHJcblx0KSB7XHJcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcclxuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWA7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzZWNvbmRTZWN0aW9uUmVjdCA9IHNlY29uZFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuXHRjb25zdCBmaXJzdFNlY3Rpb25SZWN0ID0gZmlyc3RTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblx0Y29uc3Qgc2Vjb25kU2VjdGlvblRvcCA9IHNlY29uZFNlY3Rpb25SZWN0LnRvcFxyXG5cdGNvbnN0IGZpcnN0U2VjdGlvblRvcCA9IGZpcnN0U2VjdGlvblJlY3QudG9wXHJcblx0aWYgKHJhdGUgPiB2aWV3cG9ydFdpZHRoICYmIHNlY29uZFNlY3Rpb25Ub3AgPT09IGZpcnN0U2VjdGlvblRvcCkge1xyXG4gICAgc2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC0ke3ZpZXdwb3J0V2lkdGh9cHgsIDApYFxyXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0aWNreScpXHJcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RhdGljJylcclxuXHRcdHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnc3RhdGljJylcclxuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlXHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICB0b3A6IGZpcnN0U2VjdGlvbk9mZnNldFRvcCArIHdpbmRvdy5pbm5lckhlaWdodCAtIG5hdkhlaWdodCAqIDIgKyAxLFxyXG4gICAgICBiZWhhdmlvcjogJ2luc3RhbnQnXHJcbiAgICB9KVxyXG5cdH0gXHJcbiAgZWxzZSB7XHJcblx0XHRpZiAoc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XHJcblx0XHRcdGNvbnN0IHNlY29uZE9mZlNldCA9IHNlY29uZFNlY3Rpb24ub2Zmc2V0VG9wO1xyXG5cdFx0XHRpZiAoc2Vjb25kT2ZmU2V0IC0gbmF2SGVpZ2h0ID49IHNjcm9sbFZhbHVlKSB7XHJcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpXHJcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0YXRpYycpXHJcblx0XHRcdFx0c2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzdGF0aWMnKVxyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICB0b3A6IGZpcnN0U2VjdGlvbk9mZnNldFRvcCArIHZpZXdwb3J0V2lkdGgsXHJcbiAgICAgICAgICBiZWhhdmlvcjogJ2luc3RhbnQnXHJcbiAgICAgICAgfSlcclxuXHRcdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlXHJcblx0XHRcdH1cclxuXHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xyXG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfXB4KWBcclxuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfXB4KWBcclxuXHR9XHJcbn1cclxuXHJcbi8vIHBhcmFsbGF4IEl0ZW1zXHJcblxyXG5jb25zdCBwYXJhbGxheFRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3RlcmlzdGljcy1pdGVtJyk7XHJcbmNvbnN0IGhhbmRsZVBhcmFsbGF4SXRlbXMgPSAoZSkgPT4ge1xyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcclxuXHR9XHJcblx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpO1xyXG5cclxuXHRsZXQgeCA9IGUuY2xpZW50WDtcclxuXHRsZXQgeSA9IGUuY2xpZW50WTtcclxuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xyXG5cdGNvbnN0IG1pZGRsZVkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyO1xyXG5cdGxldCBmaW5hbFggPSAobWlkZGxlWCAtIHgpIC8gNDA7XHJcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MDtcclxuXHJcblx0cGFyYWxsYXhUZXh0cy5mb3JFYWNoKCh0ZXh0KSA9PiB7XHJcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XHJcblx0XHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XHJcblx0XHR9XHJcblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcclxuXHJcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS15JywgYCR7ZmluYWxZfXB4YCk7XHJcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YCk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZVBhcmFsbGF4SXRlbXMpO1xyXG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xyXG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xyXG5cdFx0dGV4dC5jbGFzc0xpc3QuYWRkKCdyZXNldC1wb3MnKTtcclxuXHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgnYWRkLXBvcycpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXHJcbiAgaWYodmlld3BvcnRXaWR0aCA8PSA3Njgpe1xyXG4gICAgbmF2SGFuZGxlcigpXHJcbiAgfVxyXG4gIHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcclxuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKVxyXG59XHJcblxyXG5wcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGNhcmRPdXRzaWRlSGFuZGxlcihlKVxyXG59KVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcclxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xyXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpO1xyXG59KTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcblx0bGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcclxuXHRcdG5hdkhhbmRsZXIoKTtcclxuXHR9XHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSByZXR1cm47XHJcblx0Y2FyZHNBY3RpdmF0b3JIYW5kbGVyKCk7XHJcbn0pXHJcbiJdfQ==
