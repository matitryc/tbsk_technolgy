"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(t){t.addEventListener("click",function(){cards.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")}),t.classList.add("active")}),t.addEventListener("touchend",function(){cards.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")}),t.classList.add("active")})})},cardOutsideHandler=function(t){t.target.classList.contains("card")||cards.forEach(function(t){t.classList.remove("active")})},navHandler=function(){function s(){n.classList.remove("active"),t.classList.remove("active")}var t=document.querySelector(".navbar"),e=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),a=document.querySelector(".nav-list-background"),n=e.cloneNode(!0),e=(n.addEventListener("click",function(){console.log("reveal"),n.classList.toggle("active"),t.classList.toggle("active")}),e.replaceWith(n),o.forEach(function(t){var e=t.cloneNode(!0);e.addEventListener("click",s),t.replaceWith(e)}),a.cloneNode());e.addEventListener("click",s),a.replaceWith(e)},headerParallaxHandler=function(){var t,e,s;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(t=window.scrollY,e=.1*window.scrollY,s=1/(t/100+1),introText[0].style.transform="translate(".concat(14*e,"px)"),introText[1].style.transform="translate(".concat(-3*e,"px)"),introText[2].style.transform="translate(".concat(16*e,"px)"),introText[3].style.transform="translate(".concat(17*e,"px)"),introText[4].style.transform="translate(".concat(-9*e,"px)"),introText[5].style.transform="translate(".concat(17.5*e,"px)"),t>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(s),racoon.style.opacity="".concat(s),intro.style.pointerEvents="all",intro.style.opacity="1"))},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(t){t=t.target;t.classList.contains("active")||(closeAllProcesses(),t.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(t){return t.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var t,e,s;viewport<992||(s=document.querySelector(".projects .section__heading"),t=prevSectionOffset+prevSection.offsetHeight+s.offsetHeight,e=nextSection.offsetTop-nextSection.offsetHeight+s.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(s.offsetHeight,"px)"),t<=(s=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(e<=s||s<t)&&parallaxSection.classList.remove("fixed-pr"),e<=s&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 4200px)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(s-t,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(s-t,"px)")),s<t&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&e<=s&&(parallaxItems[1].style.transform="translateY(1000vh)"))},firstSection=document.querySelector(".processes"),firstSectionOffsetTop=firstSection.offsetTop,secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var t,e,s,o,a;viewportWidth<992||(e=(t=window.scrollY)-sectionOffSet,sectionOffSet-navHeight<=t&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),a=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,viewportWidth<e&&s===o?(secondSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),a=!1,window.scrollTo({top:firstSectionOffsetTop+window.innerHeight-2*navHeight+1,behavior:"instant"})):a=!secondSection.classList.contains("static")||(t<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),window.scrollTo({top:firstSectionOffsetTop+viewportWidth,behavior:"instant"}),a=!0),!1),a&&(secondSection.style.transform="translateX(-".concat(e,"px)"),firstSection.style.transform="translateX(-".concat(e,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(t){t.target.classList.contains("reset-pos")&&t.target.classList.remove("reset-pos"),t.target.classList.add("add-pos");var e=t.clientX,s=t.clientY,o=t.target.offsetWidth/2,t=t.target.offsetHeight/2,a=(o-e)/40,n=(t-s)/40;parallaxTexts.forEach(function(t){t.classList.contains("reset-pos")&&t.classList.remove("reset-pos"),t.classList.add("add-pos"),t.style.setProperty("--transform-y","".concat(n,"px")),t.style.setProperty("--transform-x","".concat(a,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(t){t.classList.add("reset-pos"),t.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(t){return t.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(t){cardOutsideHandler(t)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var t=window.innerWidth;t<=768&&navHandler(),992<=t||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsIm1uYXZJdGVtcyIsImNsb3NlIiwiYnVyZ2VySWNvbiIsIm9sZEJ1cmdlckljb24iLCJjbG9uZU5vZGUiLCJvbGROYXZMaXN0QmFja2dyb3VuZCIsInJldmVhbCIsImNvbnNvbGUiLCJvbGRJdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJsb2ciLCJyZXBsYWNlV2l0aCIsIml0ZW0iLCJoZWFkZXJQYXJhbGxheEhhbmRsZXIiLCJzY3JvbGxZIiwicmF0ZSIsInN0eWxlIiwidHJhbnNmb3JtIiwib2Zmc2V0WSIsImlubmVySGVpZ2h0IiwicG9pbnRlckV2ZW50cyIsImNvbmNhdCIsIm9wYWNpdHkiLCJvcGFjaXR5VmFsdWUiLCJpbnRybyIsInByb2Nlc3NUaXRsZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0J0bnMiLCJjaGVuZ2VQcm9jZXNzIiwiYnRuIiwidG9nZ2xlIiwic2V0Q29udGVudCIsImNsb3NlQWxsUHJvY2Vzc2VzIiwiZSIsInRhcmdldCIsInRleHRDb250ZW50IiwicGFyYWxsYXhTZWN0aW9uIiwicGFyYWxsYXhJdGVtcyIsInByZXZTZWN0aW9uIiwiaW5uZXJXaWR0aCIsInByZXZTZWN0aW9uT2Zmc2V0Iiwib2Zmc2V0VG9wIiwicHJvamVjdHNQYXJhbGxheEhhbmRsZXIiLCJzY3JvbGxUb3AiLCJmaXJzdEFuY2hvclBvaW50Iiwidmlld3BvcnQiLCJzZWNvbmRBbmNob3JQb2ludCIsIm9mZnNldEhlaWdodCIsInNlY3Rpb25IZWFkaW5nIiwibmV4dFNlY3Rpb24iLCJoZWlnaHQiLCJmaXJzdFNlY3Rpb25PZmZzZXRUb3AiLCJmaXJzdFNlY3Rpb24iLCJuYXYiLCJoYW5kbGVQYXJhbGxheFNlY3Rpb24iLCJzY3JvbGxQZXJtaXNpb24iLCJzY3JvbGxWYWx1ZSIsInNlY29uZFNlY3Rpb25SZWN0Iiwic2Vjb25kU2VjdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZpcnN0U2VjdGlvblJlY3QiLCJzZWNvbmRTZWN0aW9uVG9wIiwiZmlyc3RTZWN0aW9uVG9wIiwic2VjdGlvbk9mZlNldCIsIm5hdkhlaWdodCIsImJlaGF2aW9yIiwidG9wIiwic2Nyb2xsVG8iLCJjbGllbnRYIiwiY2xpZW50WSIsIm1pZGRsZVgiLCJtaWRkbGVZIiwiZmluYWxYIiwiZmluYWxZIiwicGFyYWxsYXhUZXh0cyIsImhhbmRsZVBhcmFsbGF4SXRlbXMiLCJvbmxvYWQiLCJ4Iiwib2Zmc2V0V2lkdGgiLCJ0ZXh0IiwiY2FyZE91dHNpZGVIYW5kbGVyIiwic2V0UHJvcGVydHkiLCJuYXZIYW5kbGVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxpQkFBaUIsYUFBYSxFQUNuREMsU0FBV0YsU0FBU0csY0FBYyxZQUFZLEVBRDlDSixPQUFTQyxTQUFXRyxjQUFDRixTQUFpQixFQUN0Q0MsTUFBUUYsU0FBV0csY0FBYyxRQUFDLEVBQ2xDQyxjQUFTSixPQUFTRyxXQUVwQkUsTUFBQUEsU0FBZ0JDLGlCQUFpQix3QkFBQSxFQUkvQkMsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUNDLEdBQ2JBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FBVUUsUUFBTyxDQUV0QixDQUFDLEVBQ0RMLEVBQUFBLFVBQUtHLElBQVVHLFFBQUksQ0FDcEIsQ0FBQyxFQUVETixFQUNDRixpQkFBYyxXQUFRLFdBQXRCQSxN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LHNCQUFzQixDQUN2QixFQUVBM0IsWUFBWW5DLFFBQVEsU0FBQ3FDLEdBQUcsT0FBS0EsRUFBSW5DLGlCQUFpQixRQUFTa0MsYUFBYSxDQUFDLENBQUEsRUFFekV2QyxPQUFPSyxpQkFBaUIsUUFBUyxTQUFBdUMsR0FDaEMrQyxtQkFBbUIvQyxDQUFDLENBQ3JCLENBQUMsRUFFRDVDLE9BQU9LLGlCQUFpQixTQUFVLFdBQ2pDbUIsc0JBQXNCLEVBQ3RCNkIsd0JBQXdCLEVBQ3hCWSxzQkFBc0IsQ0FDdkIsQ0FBQyxFQUVEakUsT0FBT0ssaUJBQWlCLFNBQVUsV0FDakMsSUFBSU4sRUFBZ0JDLE9BQU9rRCxXQUN2Qm5ELEdBQWlCLEtBQ3BCOEYsV0FBVyxFQUVTLEtBQWpCOUYsR0FDSkUsc0JBQXNCLENBQ3ZCLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpXG5jb25zdCBpbnRyb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyby1idG4nKVxuY29uc3QgcmFjb29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhY29vbicpXG5jb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpXG5sZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xuXG5jb25zdCBjYXJkc0FjdGl2YXRvckhhbmRsZXIgPSAoKSA9PiB7XG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XG5cdFx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3QgbmF2SGFuZGxlciA9ICgpID0+IHtcbiAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpXG4gIGNvbnN0IG9sZEJ1cmdlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWljb24nKVxuICBjb25zdCBtbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9iaWxlLW5hdiBhJylcbiAgY29uc3Qgb2xkTmF2TGlzdEJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWxpc3QtYmFja2dyb3VuZCcpXG4gIGNvbnN0IHJldmVhbCA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygncmV2ZWFsJyk7XG4gICAgYnVyZ2VySWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICAgIG5hdmJhci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICB9XG4gIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgIGJ1cmdlckljb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgfVxuICBjb25zdCBidXJnZXJJY29uID0gb2xkQnVyZ2VySWNvbi5jbG9uZU5vZGUodHJ1ZSlcbiAgYnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJldmVhbClcbiAgb2xkQnVyZ2VySWNvbi5yZXBsYWNlV2l0aChidXJnZXJJY29uKVxuICBtbmF2SXRlbXMuZm9yRWFjaChvbGRJdGVtID0+IHtcbiAgICBjb25zdCBpdGVtID0gb2xkSXRlbS5jbG9uZU5vZGUodHJ1ZSlcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpXG4gICAgb2xkSXRlbS5yZXBsYWNlV2l0aChpdGVtKVxuICB9KVxuICBjb25zdCBuYXZMaXN0QmFja2dyb3VuZCA9IG9sZE5hdkxpc3RCYWNrZ3JvdW5kLmNsb25lTm9kZSgpXG4gIG5hdkxpc3RCYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpXG4gIG9sZE5hdkxpc3RCYWNrZ3JvdW5kLnJlcGxhY2VXaXRoKG5hdkxpc3RCYWNrZ3JvdW5kKVxufVxuXG5jb25zdCBoZWFkZXJQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgNzY4KSB7XG5cdFx0Y29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKTtcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cuc2Nyb2xsWVxuXHRjb25zdCByYXRlID0gd2luZG93LnNjcm9sbFkgKiAwLjFcblx0Y29uc3Qgb3BhY2l0eVZhbHVlID0gMSAvICgob2Zmc2V0WSAvIDEwMCkgKyAxKVxuXG5cdGludHJvVGV4dFswXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE0fXB4KWBcblx0aW50cm9UZXh0WzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTN9cHgpYFxuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNn1weClgXG5cdGludHJvVGV4dFszXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE3fXB4KWBcblx0aW50cm9UZXh0WzRdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTl9cHgpYFxuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNy41fXB4KWBcblxuXG4gIGlmKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICBpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gICAgaW50cm8uc3R5bGUub3BhY2l0eSA9ICcwJ1xuICB9XG4gIGVsc2Uge1xuICAgIGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSBgJHtvcGFjaXR5VmFsdWV9YFxuICAgIHJhY29vbi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWBcbiAgICBpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2FsbCdcbiAgICBpbnRyby5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gIH1cbn1cblxuLy8gUHJvY2Vzc2VzIC0gbGlzdFxuXG5jb25zdCBwcm9jZXNzVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGl0bGUnKTtcblxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpO1xuXG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJyk7XG5cbmNvbnN0IGNoZW5nZVByb2Nlc3MgPSAoZSkgPT4ge1xuXHRjb25zdCBidG4gPSBlLnRhcmdldDtcblxuXHRpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRyZXR1cm47XG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VBbGxQcm9jZXNzZXMoKTtcblx0XHRidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdH1cblx0c2V0Q29udGVudCgpO1xufTtcblxuY29uc3QgY2xvc2VBbGxQcm9jZXNzZXMgPSAoKSA9PiB7XG5cdHByb2Nlc3NCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbn07XG5cbmNvbnN0IHNldENvbnRlbnQgPSAoKSA9PiB7XG5cdGlmIChwcm9jZXNzQnRuc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayBwcnplYmllZ2FqxIUgcm96bW93eT8nO1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjZWF0LCBwb3NzaW11cyBjb25zZWN0ZXR1ciwgdGVuZXR1ciB2b2x1cHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2A7XG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdKYWsgd3lnbMSFZGEgcHJlemVudGFjamEgcHJvamVrdHU/Jztcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCBwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YDtcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1syXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0NvIHRvIGplc3QgemF0d2llcmR6ZW5pZT8nO1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2V1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YDtcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1szXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ1d5a29uYW5pZSBwcm9qZWt0dSEnO1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjZWF0LCBwb3NzaW11cyBjb25zZWN0ZXR1ciwgdGVuZXR1ciB2b2x1cHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2VsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2A7XG5cdH1cbn07XG5cbi8qIFBST0pFQ1RTIFBBUkFMTEFYICovXG5cbmNvbnN0IHBhcmFsbGF4U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1kZXNrdG9wLWNudCcpO1xuY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpO1xuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKTtcbmNvbnN0IG5leHRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGg7XG5sZXQgcHJldlNlY3Rpb25PZmZzZXQgPSBwcmV2U2VjdGlvbi5vZmZzZXRUb3A7XG5cbmNvbnN0IHByb2plY3RzUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnQgPCA5OTIpIHJldHVybjtcblx0Y29uc3Qgc2VjdGlvbkhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMgLnNlY3Rpb25fX2hlYWRpbmcnKTtcblx0bGV0IGZpcnN0QW5jaG9yUG9pbnQgPSBwcmV2U2VjdGlvbk9mZnNldCArIHByZXZTZWN0aW9uLm9mZnNldEhlaWdodCArIHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodDtcblx0bGV0IHNlY29uZEFuY2hvclBvaW50ID0gbmV4dFNlY3Rpb24ub2Zmc2V0VG9wIC0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgc2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0IC8gMjtcblx0Y29uc3QgcHJvamVjdHNEZXNrdG9wQ250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250Jyk7XG5cdHByb2plY3RzRGVza3RvcENudC5zdHlsZS5oZWlnaHQgPSBgQ2FsYyg2MDB2aCArICR7c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0fXB4KWA7XG5cblx0bGV0IHNjcm9sbFRvcCA9IHdpbmRvdy5zY3JvbGxZO1xuXHQvLyBsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3Bcblx0aWYgKHNjcm9sbFRvcCA+PSBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkLXByJyk7XG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCB8fCBzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJyk7XG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAwKWA7XG4gICAgcGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsIDQyMDBweClgO1xuXHR9XG5cblx0aWYgKHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkLXByJykpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAtJHtcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcblx0XHR9cHgpYDtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke1xuXHRcdFx0c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludFxuXHRcdH1weClgO1xuXHR9XG5cdGlmIChzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJztcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknO1xuXHR9XG4gIGlmICghcGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnLmZpeGVkLXByJykgJiYgc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XG4gICAgcGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgxMDAwdmgpYFxuXHR9XG59XG5cbmNvbnN0IGZpcnN0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKVxuY29uc3QgZmlyc3RTZWN0aW9uT2Zmc2V0VG9wID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcFxuY29uc3Qgc2Vjb25kU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJpc3RpY3MnKVxuY29uc3Qgc2VjdGlvbk9mZlNldCA9IGZpcnN0U2VjdGlvbi5vZmZzZXRUb3BcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKVxuY29uc3QgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodFxuY29uc3QgaGFuZGxlUGFyYWxsYXhTZWN0aW9uID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDk5MikgcmV0dXJuXG5cdGxldCBzY3JvbGxQZXJtaXNpb25cblx0Y29uc3Qgc2Nyb2xsVmFsdWUgPSB3aW5kb3cuc2Nyb2xsWVxuXHRjb25zdCByYXRlID0gc2Nyb2xsVmFsdWUgLSBzZWN0aW9uT2ZmU2V0XG5cdGNvbnN0IGZpcnN0QW5jaG9yID0gc2VjdGlvbk9mZlNldCAtIG5hdkhlaWdodCA8PSBzY3JvbGxWYWx1ZVxuXHRpZiAoZmlyc3RBbmNob3IgJiYgIXNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGF0aWMnKSkge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKTtcblx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKTtcblx0fVxuXG5cdGlmIChcblx0XHQhZmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygncGFyYWxsYXgtc3RpY2t5JykgJiZcblx0XHQhZmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygncGFyYWxsYXgtc3RhdGljJylcblx0KSB7XG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWA7XG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcblx0fVxuXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25SZWN0ID0gc2Vjb25kU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRjb25zdCBmaXJzdFNlY3Rpb25SZWN0ID0gZmlyc3RTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25Ub3AgPSBzZWNvbmRTZWN0aW9uUmVjdC50b3Bcblx0Y29uc3QgZmlyc3RTZWN0aW9uVG9wID0gZmlyc3RTZWN0aW9uUmVjdC50b3Bcblx0aWYgKHJhdGUgPiB2aWV3cG9ydFdpZHRoICYmIHNlY29uZFNlY3Rpb25Ub3AgPT09IGZpcnN0U2VjdGlvblRvcCkge1xuICAgIHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHt2aWV3cG9ydFdpZHRofXB4LCAwKWBcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncGFyYWxsYXgtc3RpY2t5Jylcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RhdGljJylcblx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3N0YXRpYycpXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2VcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgLSBuYXZIZWlnaHQgKiAyICsgMSxcbiAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICB9KVxuXHR9IFxuICBlbHNlIHtcblx0XHRpZiAoc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0XHRjb25zdCBzZWNvbmRPZmZTZXQgPSBzZWNvbmRTZWN0aW9uLm9mZnNldFRvcDtcblx0XHRcdGlmIChzZWNvbmRPZmZTZXQgLSBuYXZIZWlnaHQgPj0gc2Nyb2xsVmFsdWUpIHtcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpXG5cdFx0XHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGF0aWMnKVxuXHRcdFx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXRpYycpXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICAgICAgdG9wOiBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB2aWV3cG9ydFdpZHRoLFxuICAgICAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICAgICAgfSlcblx0XHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZVxuXHRcdFx0fVxuXHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgXG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9cHgpYFxuXHR9XG59XG5cbi8vIHBhcmFsbGF4IEl0ZW1zXG5cbmNvbnN0IHBhcmFsbGF4VGV4dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcmFjdGVyaXN0aWNzLWl0ZW0nKTtcbmNvbnN0IGhhbmRsZVBhcmFsbGF4SXRlbXMgPSAoZSkgPT4ge1xuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHR9XG5cdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRsZXQgeCA9IGUuY2xpZW50WDtcblx0bGV0IHkgPSBlLmNsaWVudFk7XG5cdGNvbnN0IG1pZGRsZVggPSBlLnRhcmdldC5vZmZzZXRXaWR0aCAvIDI7XG5cdGNvbnN0IG1pZGRsZVkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyO1xuXHRsZXQgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDQwO1xuXHRsZXQgZmluYWxZID0gKG1pZGRsZVkgLSB5KSAvIDQwO1xuXG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuXHRcdGlmICh0ZXh0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XG5cdFx0fVxuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpO1xuXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teScsIGAke2ZpbmFsWX1weGApO1xuXHRcdHRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXgnLCBgJHtmaW5hbFh9cHhgKTtcblx0fSk7XG59O1xuXG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZVBhcmFsbGF4SXRlbXMpO1xuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcblx0cGFyYWxsYXhUZXh0cy5mb3JFYWNoKCh0ZXh0KSA9PiB7XG5cdFx0dGV4dC5jbGFzc0xpc3QuYWRkKCdyZXNldC1wb3MnKTtcblx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2FkZC1wb3MnKTtcblx0fSk7XG59KTtcblxuLy8gZnVuY3Rpb25zIGFjdGlvbnNcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblx0aGVhZGVyUGFyYWxsYXhIYW5kbGVyKClcbiAgaWYodmlld3BvcnRXaWR0aCA8PSA3Njgpe1xuICAgIG5hdkhhbmRsZXIoKVxuICB9XG4gIHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcblx0aGFuZGxlUGFyYWxsYXhTZWN0aW9uKClcbn1cblxucHJvY2Vzc0J0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVuZ2VQcm9jZXNzKSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSlcbn0pXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuXHRsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcblx0XHRuYXZIYW5kbGVyKCk7XG5cdH1cblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSByZXR1cm47XG5cdGNhcmRzQWN0aXZhdG9ySGFuZGxlcigpO1xufSlcbiJdfQ==
