"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function a(){s.classList.remove("active"),e.classList.remove("active")}var e=document.querySelector(".navbar"),t=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".nav-list-background"),s=t.cloneNode(!0),t=(s.addEventListener("click",function(){console.log("reveal"),s.classList.toggle("active"),e.classList.toggle("active")}),t.replaceWith(s),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",a),e.replaceWith(t)}),n.cloneNode());t.addEventListener("click",a),n.replaceWith(t)},headerParallaxHandler=function(){var e,t,a;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.scrollY,t=.1*window.scrollY,a=1/(e/100+1),introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),e>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(a),racoon.style.opacity="".concat(a),intro.style.pointerEvents="all",intro.style.opacity="1"))},processesInfo=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){for(var e=0;e<processesInfo.length;e++)processBtns[e].classList.contains("active")&&(processTitle.textContent=processesInfo[e].heading,processText.textContent=processesInfo[e].text)},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,a;viewport<992||(a=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+a.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+a.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(a.offsetHeight,"px)"),e<=(a=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=a||a<e)&&parallaxSection.classList.remove("fixed-pr"),t<=a&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 4200px)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(a-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(a-e,"px)")),a<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=a&&(parallaxItems[1].style.transform="translateY(200vh)"))},firstSection=document.querySelector(".processes"),firstSectionOffsetTop=firstSection.offsetTop,secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,a,o,n;viewportWidth<992||(t=(e=window.scrollY)-sectionOffSet,sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),n=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),a=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),a=a.top,o=o.top,viewportWidth<t&&a===o?(secondSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),n=!1,window.scrollTo({top:firstSectionOffsetTop+window.innerHeight-2*navHeight+1,behavior:"instant"})):n=!secondSection.classList.contains("static")||(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),window.scrollTo({top:firstSectionOffsetTop+viewportWidth,behavior:"instant"}),n=!0),!1),n&&(secondSection.style.transform="translateX(-".concat(t,"px)"),firstSection.style.transform="translateX(-".concat(t,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,a=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(o-t)/40,s=(e-a)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(s,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var e=window.innerWidth;e<=768&&navHandler(),992<=e||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsIm1uYXZJdGVtcyIsImNsb3NlIiwiYnVyZ2VySWNvbiIsIm9sZEJ1cmdlckljb24iLCJjbG9uZU5vZGUiLCJvbGROYXZMaXN0QmFja2dyb3VuZCIsInJldmVhbCIsImNvbnNvbGUiLCJvbGRJdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJsb2ciLCJyZXBsYWNlV2l0aCIsIml0ZW0iLCJoZWFkZXJQYXJhbGxheEhhbmRsZXIiLCJzY3JvbGxZIiwicmF0ZSIsInN0eWxlIiwidHJhbnNmb3JtIiwib2Zmc2V0WSIsImlubmVySGVpZ2h0IiwicG9pbnRlckV2ZW50cyIsImNvbmNhdCIsIm9wYWNpdHkiLCJvcGFjaXR5VmFsdWUiLCJpbnRybyIsImhlYWRpbmciLCJ0ZXh0IiwiYnV0dG9uIiwicHJvY2Vzc1RpdGxlIiwicHJvY2Vzc1RleHQiLCJidG4iLCJzZXRDb250ZW50IiwicHJvY2Vzc0J0bnMiLCJjaGVuZ2VQcm9jZXNzIiwiZSIsInRhcmdldCIsImNsb3NlQWxsUHJvY2Vzc2VzIiwidG9nZ2xlIiwicGFyYWxsYXhTZWN0aW9uIiwicGFyYWxsYXhJdGVtcyIsInZpZXdwb3J0IiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcm9jZXNzZXNJbmZvIiwibGVuZ3RoIiwib2Zmc2V0VG9wIiwicHJvamVjdHNQYXJhbGxheEhhbmRsZXIiLCJ0ZXh0Q29udGVudCIsImkiLCJzZWN0aW9uSGVhZGluZyIsInNjcm9sbFRvcCIsInNlY29uZEFuY2hvclBvaW50IiwibmV4dFNlY3Rpb24iLCJwcmV2U2VjdGlvbiIsIm9mZnNldEhlaWdodCIsImZpcnN0QW5jaG9yUG9pbnQiLCJoZWlnaHQiLCJzZWNvbmRTZWN0aW9uIiwic2VjdGlvbk9mZlNldCIsImZpcnN0U2VjdGlvbiIsIm5hdiIsInNjcm9sbFBlcm1pc2lvbiIsInNjcm9sbFZhbHVlIiwiZmlyc3RBbmNob3IiLCJmaXJzdFNlY3Rpb25Ub3AiLCJmaXJzdFNlY3Rpb25SZWN0Iiwic2Vjb25kU2VjdGlvblRvcCIsImJlaGF2aW9yIiwibmF2SGVpZ2h0Iiwic2Vjb25kT2ZmU2V0Iiwic2Vjb25kU2VjdGlvblJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJwYXJhbGxheFRleHRzIiwiaGFuZGxlUGFyYWxsYXhJdGVtcyIsIngiLCJvZmZzZXRXaWR0aCIsIm1pZGRsZVgiLCJtaWRkbGVZIiwic2Nyb2xsVG8iLCJzZXRQcm9wZXJ0eSIsIm5hdkhhbmRsZXIiLCJoYW5kbGVQYXJhbGxheFNlY3Rpb24iLCJjbGllbnRYIiwieSIsImNhcmRPdXRzaWRlSGFuZGxlciIsImZpbmFsWSIsImZpbmFsWCIsIm9ubG9hZCIsImlubmVyV2lkdGgiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFVBQVlDLFNBQVNDLGlCQUFpQixhQUFhLEVBQ25EQyxTQUFXRixTQUFTRyxjQUFjLFlBQVksRUFEOUNKLE9BQVNDLFNBQVdHLGNBQUNGLFNBQWlCLEVBQ3RDQyxNQUFRRixTQUFXRyxjQUFjLFFBQUMsRUFDbENDLGNBQVNKLE9BQVNHLFdBRXBCRSxNQUFBQSxTQUFnQkMsaUJBQWlCLHdCQUFBLEVBSS9CQyxzQkFBd0IsV0FDN0JDLE1BQUtDLFFBQVEsU0FBQ0MsR0FDYkEsRUFBQUEsaUJBQUtDLFFBQXdCLFdBQzVCSCxNQUFBQSxRQUFNQyxTQUFBQSxHQUNMRyxFQUFBQyxVQUFPQSxTQUFVQyxRQUFTLEdBQ3pCRixFQUFHQyxVQUFBQSxPQUFVRSxRQUFPLENBRXRCLENBQUMsRUFDREwsRUFBQUEsVUFBS0csSUFBVUcs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QVMsV0FDZjFFLHNCQUFzQixFQUNsQnpCLGVBQWlCLEtBQ2xCNEYsV0FBVyxFQUVibkMsd0JBQXdCLEVBQ3pCb0Msc0JBQXNCLENBQ3ZCLEVBRUFqRCxZQUFZeEMsUUFBUSxTQUFDc0MsR0FBRyxPQUFLQSxFQUFJcEMsaUJBQWlCLFFBQVN1QyxhQUFhLENBQUMsQ0FBQSxFQUV6RTVDLE9BQU9LLGlCQUFpQixRQUFTLFNBQUF3QyxHQUNoQ2tELG1CQUFtQmxELENBQUMsQ0FDckIsQ0FBQyxFQUVEN0MsT0FBT0ssaUJBQWlCLFNBQVUsV0FDakNtQixzQkFBc0IsRUFDdEJnQyx3QkFBd0IsRUFDeEJvQyxzQkFBc0IsQ0FDdkIsQ0FBQyxFQUVENUYsT0FBT0ssaUJBQWlCLFNBQVUsV0FDakMsSUFBSU4sRUFBZ0JDLE9BQU9tRyxXQUN2QnBHLEdBQWlCLEtBQ3BCNEYsV0FBVyxFQUVTLEtBQWpCNUYsR0FDSkUsc0JBQXNCLENBQ3ZCLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpXG5jb25zdCBpbnRyb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyby1idG4nKVxuY29uc3QgcmFjb29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhY29vbicpXG5jb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpXG5sZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xuXG5jb25zdCBjYXJkc0FjdGl2YXRvckhhbmRsZXIgPSAoKSA9PiB7XG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XG5cdFx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3QgbmF2SGFuZGxlciA9ICgpID0+IHtcbiAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpXG4gIGNvbnN0IG9sZEJ1cmdlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWljb24nKVxuICBjb25zdCBtbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9iaWxlLW5hdiBhJylcbiAgY29uc3Qgb2xkTmF2TGlzdEJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWxpc3QtYmFja2dyb3VuZCcpXG4gIGNvbnN0IHJldmVhbCA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygncmV2ZWFsJyk7XG4gICAgYnVyZ2VySWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICAgIG5hdmJhci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICB9XG4gIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgIGJ1cmdlckljb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgfVxuICBjb25zdCBidXJnZXJJY29uID0gb2xkQnVyZ2VySWNvbi5jbG9uZU5vZGUodHJ1ZSlcbiAgYnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJldmVhbClcbiAgb2xkQnVyZ2VySWNvbi5yZXBsYWNlV2l0aChidXJnZXJJY29uKVxuICBtbmF2SXRlbXMuZm9yRWFjaChvbGRJdGVtID0+IHtcbiAgICBjb25zdCBpdGVtID0gb2xkSXRlbS5jbG9uZU5vZGUodHJ1ZSlcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpXG4gICAgb2xkSXRlbS5yZXBsYWNlV2l0aChpdGVtKVxuICB9KVxuICBjb25zdCBuYXZMaXN0QmFja2dyb3VuZCA9IG9sZE5hdkxpc3RCYWNrZ3JvdW5kLmNsb25lTm9kZSgpXG4gIG5hdkxpc3RCYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpXG4gIG9sZE5hdkxpc3RCYWNrZ3JvdW5kLnJlcGxhY2VXaXRoKG5hdkxpc3RCYWNrZ3JvdW5kKVxufVxuXG5jb25zdCBoZWFkZXJQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgNzY4KSB7XG5cdFx0Y29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKTtcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cuc2Nyb2xsWVxuXHRjb25zdCByYXRlID0gd2luZG93LnNjcm9sbFkgKiAwLjFcblx0Y29uc3Qgb3BhY2l0eVZhbHVlID0gMSAvICgob2Zmc2V0WSAvIDEwMCkgKyAxKVxuXG5cdGludHJvVGV4dFswXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE0fXB4KWBcblx0aW50cm9UZXh0WzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTN9cHgpYFxuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNn1weClgXG5cdGludHJvVGV4dFszXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE3fXB4KWBcblx0aW50cm9UZXh0WzRdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTl9cHgpYFxuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNy41fXB4KWBcblxuXG4gIGlmKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICBpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gICAgaW50cm8uc3R5bGUub3BhY2l0eSA9ICcwJ1xuICB9XG4gIGVsc2Uge1xuICAgIGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSBgJHtvcGFjaXR5VmFsdWV9YFxuICAgIHJhY29vbi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWBcbiAgICBpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2FsbCdcbiAgICBpbnRyby5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gIH1cbn1cblxuLy8gUHJvY2Vzc2VzIC0gbGlzdFxuY29uc3QgcHJvY2Vzc2VzSW5mbyA9IFtcbiAge1xuICAgIGhlYWRpbmc6ICdKYWsgcHJ6ZWJpZWdhasSFIHJvem1vd3k/JyxcbiAgICB0ZXh0OiAnWmFjenluYW15IG9kIG9rcmXFm2xlbmlhIMWbd2lhZGN6b25laiB1c8WCdWdpLiBKZcW8ZWxpIGplc3QgdG8gYnVkb3dhIGx1YiBwcm9qZWt0b3dhbmllLCB0byBweXRhbXkgY3p5IGlzdG5pZWplIGpha2llxZsgbG9nbywgYsSFZMW6IHdpenl0w7N3a2EgZmlybXkuIE5hc3TEmXBuaWUgemFweXRhbXkgbyB0cmXFm2NpLCBrdMOzcmUgbWlhxYJ5Ynkgc2nEmSB6bmFsZcW6xIcgbmEgc3Ryb25pZS4gTmEgcG9kc3Rhd2llIHRlZ28gdHdvcnp5bXkgd3nFgsSFY3puaWUgc3RydWt0dXLEmSBpIHd5Y2VuaWFteSBwcm9qZWt0LiBOYXN0xJlwbmllIHphY3p5bmFteSBwcm9qZWt0b3dhxIcuJyxcbiAgICBidXR0b246ICdLb25zdWx0YWNqYScsXG4gIH0sXG4gIHtcbiAgICBoZWFkaW5nOiAnSmFrIHd5Z2zEhWRhIHByZXplbnRhY2phIHByb2pla3R1PycsXG4gICAgdGV4dDogJ1BvIHNrb8WEY3plbml1IHByb2pla3R1IHN0cm9ueSwgcHJ6ZWRzdGF3aWFteSBnbyBUb2JpZSBkbyBvY2VuaWVuaWEuIFd0ZWR5IHByenlqbXVqZW15IHdzemVsa2llIHV3YWdpIGRvdC4gZG9ib3J1IGtvbG9yw7N3LCBidWRvd3kgc2VrY2ppIGl0ZC4gVMWCdW1hY3p5bXkgdGXFvCwgY3plbXUgcGV3bmUgZWxlbWVudHkgbXVzesSFIHphd2llcmHEhyBuaWVrdMOzcmUgY2VjaHkuIFDDs8W6bmllaiBuYW5vc2lteSB3c3plbGtpZSB6bWlhbnkuJyxcbiAgICBidXR0b246ICdQcmV6ZW50YWNqYScsXG4gIH0sXG4gIHtcbiAgICBoZWFkaW5nOiAnQ3p5bSBqZXN0IGV0YXAgemF0d2llcmR6ZW5pYT8nLFxuICAgIHRleHQ6ICdUbyBrcm9rLCB3IGt0w7NyeW0gZGVjeWR1amVzeiBzacSZIG5hIHBvZGrEmWNpZSBsdWIgb2RyenVjZW5pZSBuYXN6eWNoIHVzxYJ1Zy4gSmXFvGVsaSB6bGVjaXN6IG5hbSBzdHdvcnplbmllIHN0cm9ueSwgdG8gcHJ6ZWthxbxlbXkgQ2kgaWxlIHByYXdkb3BvZG9ibmllIHpham1pZSB0byBuYW0gY3phc3UuIERvZGF0a293byBixJlkemllbXkgcG90cnplYm93YWxpIGRva8WCYWRueWNoIHRyZcWbY2ksIGt0w7NyZSBtYWrEhSBzacSZIGZpbmFsbmllIHpuYWxlxbrEhyBuYSBUd29qZWogd2l0cnluaWUuJyxcbiAgICBidXR0b246ICdaYXR3aWVyZHplbmllJyxcbiAgfSxcbiAge1xuICAgIGhlYWRpbmc6ICdXeWtvbmFuaWUgcHJvamVrdHUhJyxcbiAgICB0ZXh0OiAnVGVuIGtyb2sgem9zdGF3IG5hbSEgT2QgcmF6dSB6YWJpZXJ6ZW15IHNpxJkgZG8gdHdvcnplbmlhIFR3b2plaiB3eW1hcnpvbmVqIHdpenl0w7N3a2kgaW50ZXJuZXRvd2VqLiBQb2RjemFzIHRlZ28gY3phc3UgbW/FvGVzeiBuYW0gcHJ6ZWthemHEhyB3c3plbGtpZSBkb2RhdGtvd2UgaW5mb3JtYWNqZSwgYSBteSB3ZcW6bWllbXkgamUgcG9kIHV3YWfEmS4gUG8gemFrb8WEY3pvbmVqIHByYWN5IHpvc3RhxYJvIHR5bGtvIHVtaWXFm2NpxIcgasSFIG5hIGhvc3Rpbmd1LicsXG4gICAgYnV0dG9uOiAnV3lrb25hbmllJyxcbiAgfVxuXVxuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJyk7XG5jb25zdCBwcm9jZXNzVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10ZXh0Jyk7XG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJyk7XG5jb25zdCBjaGVuZ2VQcm9jZXNzID0gKGUpID0+IHtcblx0Y29uc3QgYnRuID0gZS50YXJnZXQ7XG5cblx0aWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cmV0dXJuO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKCk7XG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldENvbnRlbnQoKTtcbn07XG5cbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG59O1xuXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xuICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvY2Vzc2VzSW5mby5sZW5ndGg7IGkrKyl7XG4gICAgaWYocHJvY2Vzc0J0bnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XG4gICAgICBwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLmhlYWRpbmdcbiAgICAgIHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gcHJvY2Vzc2VzSW5mb1tpXS50ZXh0XG4gICAgfVxuICB9XG5cblxufTtcblxuLyogUFJPSkVDVFMgUEFSQUxMQVggKi9cblxuY29uc3QgcGFyYWxsYXhTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250Jyk7XG5jb25zdCBwYXJhbGxheEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3RzLXBhcmFsbGF4Jyk7XG5jb25zdCBwcmV2U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlcycpO1xuY29uc3QgbmV4dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJyk7XG5sZXQgdmlld3BvcnQgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbmxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcDtcblxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuO1xuXHRjb25zdCBzZWN0aW9uSGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cyAuc2VjdGlvbl9faGVhZGluZycpO1xuXHRsZXQgZmlyc3RBbmNob3JQb2ludCA9IHByZXZTZWN0aW9uT2Zmc2V0ICsgcHJldlNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgc2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0O1xuXHRsZXQgc2Vjb25kQW5jaG9yUG9pbnQgPSBuZXh0U2VjdGlvbi5vZmZzZXRUb3AgLSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQgLyAyO1xuXHRjb25zdCBwcm9qZWN0c0Rlc2t0b3BDbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcblx0cHJvamVjdHNEZXNrdG9wQ250LnN0eWxlLmhlaWdodCA9IGBDYWxjKDYwMHZoICsgJHtzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHR9cHgpYDtcblxuXHRsZXQgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFk7XG5cdC8vIGxldCBzY3JvbGxUb0FuY2hvciA9IG5leHRTZWN0aW9uLm9mZnNldEhlaWdodCArIG5leHRTZWN0aW9uLm9mZnNldFRvcFxuXHRpZiAoc2Nyb2xsVG9wID49IGZpcnN0QW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZml4ZWQtcHInKTtcblx0fVxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50IHx8IHNjcm9sbFRvcCA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQtcHInKTtcblx0fVxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsIDApYDtcbiAgICBwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgNDIwMHB4KWA7XG5cdH1cblxuXHRpZiAocGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZml4ZWQtcHInKSkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsIC0ke1xuXHRcdFx0c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludFxuXHRcdH1weClgO1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsICR7XG5cdFx0XHRzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50XG5cdFx0fXB4KWA7XG5cdH1cblx0aWYgKHNjcm9sbFRvcCA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknO1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSc7XG5cdH1cbiAgaWYgKCFwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCcuZml4ZWQtcHInKSAmJiBzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcbiAgICAvL28gaWxvxZvEhyBzZWtjamkgKiAyMDB2aFxuICAgIHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoMjAwdmgpYFxuXHR9XG59XG5cbmNvbnN0IGZpcnN0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKVxuY29uc3QgZmlyc3RTZWN0aW9uT2Zmc2V0VG9wID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcFxuY29uc3Qgc2Vjb25kU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJpc3RpY3MnKVxuY29uc3Qgc2VjdGlvbk9mZlNldCA9IGZpcnN0U2VjdGlvbi5vZmZzZXRUb3BcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKVxuY29uc3QgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodFxuY29uc3QgaGFuZGxlUGFyYWxsYXhTZWN0aW9uID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDk5MikgcmV0dXJuXG5cdGxldCBzY3JvbGxQZXJtaXNpb25cblx0Y29uc3Qgc2Nyb2xsVmFsdWUgPSB3aW5kb3cuc2Nyb2xsWVxuXHRjb25zdCByYXRlID0gc2Nyb2xsVmFsdWUgLSBzZWN0aW9uT2ZmU2V0XG5cdGNvbnN0IGZpcnN0QW5jaG9yID0gc2VjdGlvbk9mZlNldCAtIG5hdkhlaWdodCA8PSBzY3JvbGxWYWx1ZVxuXHRpZiAoZmlyc3RBbmNob3IgJiYgIXNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGF0aWMnKSkge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKTtcblx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKTtcblx0fVxuXG5cdGlmIChcblx0XHQhZmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygncGFyYWxsYXgtc3RpY2t5JykgJiZcblx0XHQhZmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygncGFyYWxsYXgtc3RhdGljJylcblx0KSB7XG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWA7XG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcblx0fVxuXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25SZWN0ID0gc2Vjb25kU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRjb25zdCBmaXJzdFNlY3Rpb25SZWN0ID0gZmlyc3RTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25Ub3AgPSBzZWNvbmRTZWN0aW9uUmVjdC50b3Bcblx0Y29uc3QgZmlyc3RTZWN0aW9uVG9wID0gZmlyc3RTZWN0aW9uUmVjdC50b3Bcblx0aWYgKHJhdGUgPiB2aWV3cG9ydFdpZHRoICYmIHNlY29uZFNlY3Rpb25Ub3AgPT09IGZpcnN0U2VjdGlvblRvcCkge1xuICAgIHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHt2aWV3cG9ydFdpZHRofXB4LCAwKWBcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncGFyYWxsYXgtc3RpY2t5Jylcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RhdGljJylcblx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3N0YXRpYycpXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2VcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgLSBuYXZIZWlnaHQgKiAyICsgMSxcbiAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICB9KVxuXHR9IFxuICBlbHNlIHtcblx0XHRpZiAoc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0XHRjb25zdCBzZWNvbmRPZmZTZXQgPSBzZWNvbmRTZWN0aW9uLm9mZnNldFRvcDtcblx0XHRcdGlmIChzZWNvbmRPZmZTZXQgLSBuYXZIZWlnaHQgPj0gc2Nyb2xsVmFsdWUpIHtcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpXG5cdFx0XHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGF0aWMnKVxuXHRcdFx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXRpYycpXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICAgICAgdG9wOiBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB2aWV3cG9ydFdpZHRoLFxuICAgICAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICAgICAgfSlcblx0XHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZVxuXHRcdFx0fVxuXHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgXG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9cHgpYFxuXHR9XG59XG5cbi8vIHBhcmFsbGF4IEl0ZW1zXG5cbmNvbnN0IHBhcmFsbGF4VGV4dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcmFjdGVyaXN0aWNzLWl0ZW0nKTtcbmNvbnN0IGhhbmRsZVBhcmFsbGF4SXRlbXMgPSAoZSkgPT4ge1xuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHR9XG5cdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRsZXQgeCA9IGUuY2xpZW50WDtcblx0bGV0IHkgPSBlLmNsaWVudFk7XG5cdGNvbnN0IG1pZGRsZVggPSBlLnRhcmdldC5vZmZzZXRXaWR0aCAvIDI7XG5cdGNvbnN0IG1pZGRsZVkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyO1xuXHRsZXQgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDQwO1xuXHRsZXQgZmluYWxZID0gKG1pZGRsZVkgLSB5KSAvIDQwO1xuXG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuXHRcdGlmICh0ZXh0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XG5cdFx0fVxuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpO1xuXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teScsIGAke2ZpbmFsWX1weGApO1xuXHRcdHRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXgnLCBgJHtmaW5hbFh9cHhgKTtcblx0fSk7XG59O1xuXG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZVBhcmFsbGF4SXRlbXMpO1xuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcblx0cGFyYWxsYXhUZXh0cy5mb3JFYWNoKCh0ZXh0KSA9PiB7XG5cdFx0dGV4dC5jbGFzc0xpc3QuYWRkKCdyZXNldC1wb3MnKTtcblx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2FkZC1wb3MnKTtcblx0fSk7XG59KTtcblxuLy8gZnVuY3Rpb25zIGFjdGlvbnNcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblx0aGVhZGVyUGFyYWxsYXhIYW5kbGVyKClcbiAgaWYodmlld3BvcnRXaWR0aCA8PSA3Njgpe1xuICAgIG5hdkhhbmRsZXIoKVxuICB9XG4gIHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcblx0aGFuZGxlUGFyYWxsYXhTZWN0aW9uKClcbn1cblxucHJvY2Vzc0J0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVuZ2VQcm9jZXNzKSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSlcbn0pXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuXHRsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcblx0XHRuYXZIYW5kbGVyKCk7XG5cdH1cblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSByZXR1cm47XG5cdGNhcmRzQWN0aXZhdG9ySGFuZGxlcigpO1xufSlcbiJdfQ==
