"use strict";var burgerIcon=document.querySelector(".burger-icon"),navbar=document.querySelector(".mobile-nav"),introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),mnavItem=document.querySelectorAll(".mobile-nav a"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navRevealHandler=function(){burgerIcon.addEventListener("click",function(){burgerIcon.classList.toggle("active"),navbar.classList.toggle("active")})},navCloseHandler=function(){mnavItem.forEach(function(e){e.addEventListener("click",function(){burgerIcon.classList.remove("active"),navbar.classList.remove("active")})})},headerParallaxHandler=function(){var e,t,o;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.pageYOffset,t=.5*window.pageYOffset,o=e/100,introText[0].style.transform="translate(".concat(8*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(6*t,"px)"),introText[3].style.transform="translate(".concat(7*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(11*t,"px)"),introBtn.style.opacity="".concat(.5/o),200<=e?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=e?introText.forEach(function(e){return e.style.display="none"}):introText.forEach(function(e){return e.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(e){e.target.nextElementSibling.classList.contains("active")?e.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),e.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(e){e.classList.remove("active")})},accordionOutsideHandler=function(e){e.target.classList.contains("accordion-heading")||e.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-box"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active")),setContent()},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},processesSection=document.querySelector(".processes"),zmienna=processesSection.offsetTop,handleParallaxSection=function(){var e=window.scrollY,t=3*(e-zmienna),o=(console.log(zmienna),console.log(t),document.querySelector(".characteristics")),n=document.querySelector(".navbar").offsetHeight;console.log("scroll value ".concat(e," ")),zmienna-n<e?processesSection.classList.add("active-parallax"):processesSection.classList.remove("active-parallax"),processesSection.classList.contains("active-parallax")?0<=o.getBoundingClientRect().left&&(o.style.transform="translateX(-".concat(t,"px)"),processesSection.style.transform="translateX(-".concat(t,"px)")):(o.style.transform="translateX(0)",processesSection.style.transform="translateX(0)")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),section=document.querySelector(".projects"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,firstAnchorPoint=prevSectionOffset+prevSection.offsetHeight,secondAnchorPoint=nextSection.offsetTop-nextSection.offsetHeight,projectsParallaxHandler=function(){var e;viewport<992||(e=window.pageYOffset,nextSection.offsetHeight,nextSection.offsetTop,firstAnchorPoint<=e&&parallaxSection.classList.add("fixed-pr"),(secondAnchorPoint<=e||e<firstAnchorPoint)&&parallaxSection.classList.remove("fixed-pr"),secondAnchorPoint<=e?parallaxItems[0].classList.add("bottom"):parallaxItems[0].classList.remove("bottom"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(e-firstAnchorPoint,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(e-firstAnchorPoint,"px)")),!parallaxSection.classList.contains(".fixed-pr")&&secondAnchorPoint<=e?parallaxItems[1].classList.add("imgs-bottom"):parallaxItems[1].classList.remove("imgs-bottom"))},handleRemoveDOMElements=(window.onscroll=function(){projectsParallaxHandler()},function(){document.querySelector(".processes-mobile")});window.onload=function(){headerParallaxHandler(),setContent(),992<=viewportWidth&&handleRemoveDOMElements()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),accordions.forEach(function(e){return e.addEventListener("click",openAccordion)}),window.onclick=function(e){accordionOutsideHandler(e),cardOutsideHandler(e)},window.onscroll=function(){headerParallaxHandler(),projectsParallaxHandler()},navCloseHandler(),navRevealHandler(),window.onresize=function(){992<=window.innerWidth||cardsActivatorHandler()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VySWNvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdmJhciIsImludHJvVGV4dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtbmF2SXRlbSIsImNhcmRzIiwid2luZG93IiwiZm9yRWFjaCIsImVsIiwiY2xhc3NMaXN0IiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjb250YWlucyIsImFkZCIsImNhcmRPdXRzaWRlSGFuZGxlciIsImUiLCJ0YXJnZXQiLCJuYXZSZXZlYWxIYW5kbGVyIiwibmF2Q2xvc2VIYW5kbGVyIiwiaXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsInZpZXdwb3J0V2lkdGgiLCJvcGFjaXR5VmFsdWUiLCJpbnRyb0J0biIsIm9mZnNldFkiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsImNvbmNhdCIsIm9wYWNpdHkiLCJwYWdlWU9mZnNldCIsInJhdGUiLCJkaXNwbGF5IiwidGV4dCIsImFjY29yZGlvbnMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhY2NvcmRpb25Db250ZW50IiwiY2xvc2VBbGxBY2NvcmRpb25zIiwiYWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIiLCJwcm9jZXNzVGV4dCIsImJ0biIsImNsb3NlQWxsUHJvY2Vzc2VzIiwidG9nZ2xlIiwicHJvY2Vzc0J0bnMiLCJwcm9jZXNzVGl0bGUiLCJ0ZXh0Q29udGVudCIsInNldENvbnRlbnQiLCJwcm9jZXNzZXNTZWN0aW9uIiwiaGFuZGxlUGFyYWxsYXhTZWN0aW9uIiwic2Nyb2xsVmFsdWUiLCJzY3JvbGxZIiwiem1pZW5uYSIsImNvbnNvbGUiLCJsb2ciLCJjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uIiwibmF2SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2VjdGlvblJlY3QiLCJ2aWV3cG9ydCIsImlubmVyV2lkdGgiLCJwcmV2U2VjdGlvbk9mZnNldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZpcnN0QW5jaG9yUG9pbnQiLCJuZXh0U2VjdGlvbiIsIm9mZnNldFRvcCIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwicGFyYWxsYXhTZWN0aW9uIiwicGFyYWxsYXhJdGVtcyIsInNlY3Rpb24iLCJwcmV2U2VjdGlvbiIsInNlY29uZEFuY2hvclBvaW50Iiwic2Nyb2xsVG9wIiwiaGFuZGxlUmVtb3ZlRE9NRWxlbWVudHMiLCJhY2NvcmRpb24iLCJvbnNjcm9sbCIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNoZW5nZVByb2Nlc3MiLCJvcGVuQWNjb3JkaW9uIiwib25jbGljayIsIm9ucmVzaXplIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxXQUFhQyxTQUFTQyxjQUFjLGNBQWMsRUFDbERDLE9BQVNGLFNBQVNDLGNBQWMsYUFBYSxFQUE3Q0MsVUFBU0YsU0FBU0MsaUJBQWMsYUFBYyxFQUU5Q0UsU0FBWUgsU0FBU0ksY0FBQUEsWUFBaUIsRUFHdENDLFNBQVdMLFNBQVNJLGlCQUFpQixlQUFnQixFQUlyREUsY0FBZ0JDLE9BQUNILFdBR3RCRSxNQUFNRSxTQUFRSixpQkFBUSx3QkFBQSxFQUVwQkUsc0JBQWNHLFdBRmhCSCxNQUFNRSxRQUdJRSxTQUFBQSxHQUZUQyxFQUFLQyxpQkFHV0MsUUFBTyxXQUZ0QlAsTUFHQ0UsUUFBQSxTQUFBQyxHQUNDQSxFQUFBQyxVQUFBSSxTQUFBLFFBQUEsR0FGQUwsRUFHRkUsVUFBS0QsT0FBYyxRQUFRLENBRDNCLENBSURDLEVBSENBLEVBSUFMLFVBQU1FLElBQVEsUUFBQUMsQ0FIZixDQUFDLEVBRURFLEVBQUtDLGlCQUlILFdBQUEsV0FIRE4sTUFJRUUsUUFBQSxTQUFBQyxHQUNGRSxFQUFLRCxVQUFVSyxTQUFJLFFBQVMsR0FDNUJOLEVBQUNDLFVBQUFHLE9BQUEsUUFBQSxDQUVILENBQUEsRUFFREYsRUFBTUssVUFBQUEsSUFBa0IsUUFBRyxDQUMxQixDQUFBLENBSkEsQ0FBQyxDQUNGLEVBT0NBLG1CQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLE9BQUFSLFVB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SSxTQUFBLFdBQUEsR0FBQXlELG1CQUFBQyxFQUV4RXJDLGNBQVczQixHQUFRRSxVQUFBZ0UsSUFBQUEsYUFBUyxFQUF1RE4sY0FBQSxHQUFBMUQsVUFBQUcsT0FBQSxhQUFBLEVBdEJuRixFQVFNNEQseUJBbUJObEUsT0FBQ29FLFNBQUEsV0FFRHBFLHdCQUFrQixDQXpCbEIsRUFJZ0MsV0EyQmZQLFNBQUFDLGNBQUEsbUJBQUEsQ0F2QmpCLEdBRUFNLE9BNEJDcUUsT0FBQUEsV0FDQXRELHNCQUFBLEVBM0JBeUIsV0FBVSxFQUNXLEtBQWpCeEIsZUFBc0JrRCx3QkFBdUIsQ0FDbEQsRUFFQTdCLFlBQVlwQyxRQUFRLFNBQUFpQyxHQUFHLE9BQUlBLEVBQUk3QixpQkFBaUIsUUFBU2lFLGFBQWEsQ0FBQyxDQUFBLEVBRXZFMUMsV0FBVzNCLFFBQVEsU0FBQWtFLEdBQVMsT0FBSUEsRUFBVTlELGlCQUFpQixRQUFTa0UsYUFBYSxDQUFDLENBQUEsRUFFbEZ2RSxPQUFPd0UsUUFBVSxTQUFBOUQsR0FDaEJzQix3QkFBd0J0QixDQUFDLEVBQ3pCRCxtQkFBbUJDLENBQUMsQ0FDckIsRUFFQVYsT0FBT29FLFNBQVcsV0FDakJyRCxzQkFBcUIsRUFDckI0Qyx3QkFBdUIsQ0FFeEIsRUFFQTlDLGdCQUFlLEVBQ2ZELGlCQUFnQixFQUVoQlosT0FBT3lFLFNBQVcsV0FHSSxLQUZEekUsT0FBT3FELFlBRzNCZ0Isc0JBQXFCLENBQ3RCIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVyZ2VySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItaWNvbicpXHJcbmNvbnN0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2JylcclxuXHJcbmNvbnN0IGludHJvVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyby10ZXh0JylcclxuY29uc3QgaW50cm9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8tYnRuJylcclxuXHJcbmNvbnN0IG1uYXZJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpXHJcblxyXG5sZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcblxyXG5jb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlc19fY2FyZHMgLmNhcmQnKVxyXG5cclxuY29uc3QgY2FyZHNBY3RpdmF0b3JIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XHJcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRjYXJkcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0pXHJcblxyXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcclxuXHRcdFx0Y2FyZHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHR9KVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGNhcmRPdXRzaWRlSGFuZGxlciA9IGUgPT4ge1xyXG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcclxuXHRcdGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XHJcblx0XHRcdGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBuYXZSZXZlYWxIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0XHRuYXZiYXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBuYXZDbG9zZUhhbmRsZXIgPSAoKSA9PiB7XHJcblx0bW5hdkl0ZW0uZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGJ1cmdlckljb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdFx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHR9KVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGhlYWRlclBhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcclxuXHRpZiAodmlld3BvcnRXaWR0aCA8IDc2OCkge1xyXG5cdFx0Y29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKVxyXG5cdFx0aW50cm8uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKVxyXG5cdFx0cmV0dXJuXHJcblx0fVxyXG5cclxuXHRjb25zdCBvZmZzZXRZID0gd2luZG93LnBhZ2VZT2Zmc2V0XHJcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5wYWdlWU9mZnNldCAqIDAuNVxyXG5cdGNvbnN0IG9wYWNpdHlWYWx1ZSA9IG9mZnNldFkgLyAxMDBcclxuXHJcblx0aW50cm9UZXh0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogOH1weClgXHJcblx0aW50cm9UZXh0WzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTN9cHgpYFxyXG5cdGludHJvVGV4dFsyXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDZ9cHgpYFxyXG5cdGludHJvVGV4dFszXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDd9cHgpYFxyXG5cdGludHJvVGV4dFs0XS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC05fXB4KWBcclxuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxMX1weClgXHJcblxyXG5cdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSBgJHswLjUgLyBvcGFjaXR5VmFsdWV9YFxyXG5cdGlmIChvZmZzZXRZID49IDIwMCkge1xyXG5cdFx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IDBcclxuXHRcdGludHJvQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW50cm9CdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuXHR9XHJcblxyXG5cdGlmIChvZmZzZXRZID49IDgwMCkge1xyXG5cdFx0aW50cm9UZXh0LmZvckVhY2godGV4dCA9PiAodGV4dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW50cm9UZXh0LmZvckVhY2godGV4dCA9PiAodGV4dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJykpXHJcblx0fVxyXG59XHJcblxyXG4vLyBQcm9jZXNzZXMgLSBhY2NvcmRpb25zXHJcblxyXG5jb25zdCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbi1oZWFkaW5nJylcclxuXHJcbmNvbnN0IG9wZW5BY2NvcmRpb24gPSBlID0+IHtcclxuXHRpZiAoZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRjbG9zZUFsbEFjY29yZGlvbnMoKVxyXG5cdFx0ZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbG9zZUFsbEFjY29yZGlvbnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWNjb3JkaW9uQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24tY29udGVudCcpXHJcblx0YWNjb3JkaW9uQ29udGVudC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgYWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIgPSBlID0+IHtcclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24taGVhZGluZycpIHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uLWNvbnRlbnQnKSkgcmV0dXJuXHJcblx0Y2xvc2VBbGxBY2NvcmRpb25zKClcclxufVxyXG4vLyBQcm9jZXNzZXMgLSBsaXN0XHJcblxyXG5jb25zdCBwcm9jZXNzVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGl0bGUnKVxyXG5cclxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpXHJcblxyXG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1ib3gnKVxyXG5cclxuY29uc3QgY2hlbmdlUHJvY2VzcyA9IGUgPT4ge1xyXG5cdGNvbnN0IGJ0biA9IGUudGFyZ2V0XHJcblxyXG5cdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjbG9zZUFsbFByb2Nlc3NlcygpXHJcblx0XHRidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuXHR9XHJcblx0c2V0Q29udGVudCgpXHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xyXG5cdHByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSlcclxufVxyXG5cclxuY29uc3Qgc2V0Q29udGVudCA9ICgpID0+IHtcclxuXHRpZiAocHJvY2Vzc0J0bnNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayBwcnplYmllZ2FqxIUgcm96bW93eT8nXHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXHJcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1sxXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHd5Z2zEhWRhIHByZXplbnRhY2phIHByb2pla3R1PydcclxuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXHJcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1syXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnQ28gdG8gamVzdCB6YXR3aWVyZHplbmllPydcclxuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2V1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxyXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbM10uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ1d5a29uYW5pZSBwcm9qZWt0dSEnXHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9lbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNgXHJcblx0fVxyXG59XHJcblxyXG4vLyBwYXJhbGxheCBzZWN0aW9uXHJcbmNvbnN0IHByb2Nlc3Nlc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJyk7XHJcbmNvbnN0IHptaWVubmEgPSBwcm9jZXNzZXNTZWN0aW9uLm9mZnNldFRvcDtcclxuY29uc3QgaGFuZGxlUGFyYWxsYXhTZWN0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IHNjcm9sbFZhbHVlID0gd2luZG93LnNjcm9sbFk7XHJcblx0Y29uc3QgcmF0ZSA9IChzY3JvbGxWYWx1ZSAtIHptaWVubmEpICogMztcclxuXHRjb25zb2xlLmxvZyh6bWllbm5hKTtcclxuXHRjb25zb2xlLmxvZyhyYXRlKTtcclxuXHJcblx0Y29uc3QgY2hhcmFjdGVyaXN0aWNzU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJpc3RpY3MnKTtcclxuXHRjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XHJcblx0Y29uc3QgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcclxuXHRjb25zb2xlLmxvZyhgc2Nyb2xsIHZhbHVlICR7c2Nyb2xsVmFsdWV9IGApO1xyXG5cclxuXHRpZiAoem1pZW5uYSAtIG5hdkhlaWdodCA8IHNjcm9sbFZhbHVlKSB7XHJcblx0XHRwcm9jZXNzZXNTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1wYXJhbGxheCcpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRwcm9jZXNzZXNTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1wYXJhbGxheCcpO1xyXG5cdH1cclxuXHJcblx0aWYgKHByb2Nlc3Nlc1NlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUtcGFyYWxsYXgnKSkge1xyXG5cdFx0Y29uc3Qgc2VjdGlvblJlY3QgPSBjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdFx0aWYgKHNlY3Rpb25SZWN0LmxlZnQgPj0gMCkge1xyXG5cdFx0XHRjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9cHgpYDtcclxuXHRcdFx0cHJvY2Vzc2VzU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfXB4KWA7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGNoYXJhY3RlcmlzdGljc1NlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoMClgXHJcblx0XHRwcm9jZXNzZXNTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYFxyXG5cdH1cclxufVxyXG5cclxuXHJcbi8qIFBST0pFQ1RTIFBBUkFMTEFYICovXHJcblxyXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKVxyXG5jb25zdCBwYXJhbGxheEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3RzLXBhcmFsbGF4JylcclxuY29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cycpXHJcblxyXG5jb25zdCBwcmV2U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlcycpXHJcbmNvbnN0IG5leHRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpXHJcblxyXG5sZXQgdmlld3BvcnQgPSB3aW5kb3cuaW5uZXJXaWR0aFxyXG5cclxubGV0IHByZXZTZWN0aW9uT2Zmc2V0ID0gcHJldlNlY3Rpb24ub2Zmc2V0VG9wXHJcbmxldCBmaXJzdEFuY2hvclBvaW50ID0gcHJldlNlY3Rpb25PZmZzZXQgKyBwcmV2U2VjdGlvbi5vZmZzZXRIZWlnaHRcclxubGV0IHNlY29uZEFuY2hvclBvaW50ID0gbmV4dFNlY3Rpb24ub2Zmc2V0VG9wIC0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0XHJcblxyXG5jb25zdCBwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcclxuXHRpZiAodmlld3BvcnQgPCA5OTIpIHJldHVyblxyXG5cclxuXHRsZXQgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0XHJcblx0bGV0IHNjcm9sbFRvQW5jaG9yID0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgbmV4dFNlY3Rpb24ub2Zmc2V0VG9wXHJcblxyXG5cdC8qIFx0Y29uc29sZS5sb2coYFNjcm9sbCB0b3A6ICR7c2Nyb2xsVG9wfWApXHJcblx0Y29uc29sZS5sb2coYGZpcnN0QW5jaG9yOiAke2ZpcnN0QW5jaG9yUG9pbnR9YClcclxuXHRjb25zb2xlLmxvZyhgc2Vjb25kQW5jaG9yOiAke3NlY29uZEFuY2hvclBvaW50fWApXHJcblx0Y29uc29sZS5sb2coYHNjcm9sbFRvQW5jaG9yOiAke3Njcm9sbFRvQW5jaG9yfWApICovXHJcblxyXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkLXByJylcclxuXHJcblx0XHQvKiBcdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgXHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYCAqL1xyXG5cdH1cclxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50IHx8IHNjcm9sbFRvcCA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZC1wcicpXHJcblx0fVxyXG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMF0uY2xhc3NMaXN0LmFkZCgnYm90dG9tJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5jbGFzc0xpc3QucmVtb3ZlKCdib3R0b20nKVxyXG5cdH1cclxuXHJcblx0aWYgKHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkLXByJykpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsIC0ke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYFxyXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcclxuXHR9XHJcblxyXG5cdGlmICghcGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnLmZpeGVkLXByJykgJiYgc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLmNsYXNzTGlzdC5hZGQoJ2ltZ3MtYm90dG9tJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5jbGFzc0xpc3QucmVtb3ZlKCdpbWdzLWJvdHRvbScpXHJcblx0fVxyXG59XHJcbi8qIHd5d29sdWplIHBhcnJhbGF4IGZ1bmtjamUgbmEgc2Nyb2xsdSAqL1xyXG53aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XHJcblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbnMgYWN0aW9uc1xyXG5cclxuY29uc3QgaGFuZGxlUmVtb3ZlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0Y29uc3QgbW9iaWxlUHJvY2Vzc2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1tb2JpbGUnKVxyXG5cdC8vIG1vYmlsZVByb2Nlc3Nlcy5yZW1vdmUoKTtcclxuXHQvLyBkb2RhYyBkeW5hbWljem5hIHdlcmpzZSBuYSBQQy4uLlxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXHJcblx0c2V0Q29udGVudCgpXHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSBoYW5kbGVSZW1vdmVET01FbGVtZW50cygpXHJcbn1cclxuXHJcbnByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKVxyXG5cclxuYWNjb3JkaW9ucy5mb3JFYWNoKGFjY29yZGlvbiA9PiBhY2NvcmRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWNjb3JkaW9uKSlcclxuXHJcbndpbmRvdy5vbmNsaWNrID0gZSA9PiB7XHJcblx0YWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIoZSlcclxuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSlcclxufVxyXG5cclxud2luZG93Lm9uc2Nyb2xsID0gKCkgPT4ge1xyXG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXHJcblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKVxyXG5cdC8vaGFuZGxlUGFyYWxsYXhTZWN0aW9uKClcclxufVxyXG5cclxubmF2Q2xvc2VIYW5kbGVyKClcclxubmF2UmV2ZWFsSGFuZGxlcigpXHJcblxyXG53aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XHJcblx0bGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxyXG5cclxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVyblxyXG5cdGNhcmRzQWN0aXZhdG9ySGFuZGxlcigpXHJcbn1cclxuIl19
