"use strict";var burgerIcon=document.querySelector(".burger-icon"),navbar=document.querySelector(".mobile-nav"),introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),mnavItem=document.querySelectorAll(".mobile-nav a"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navRevealHandler=function(){burgerIcon.addEventListener("click",function(){burgerIcon.classList.toggle("active"),navbar.classList.toggle("active")})},navCloseHandler=function(){mnavItem.forEach(function(e){e.addEventListener("click",function(){burgerIcon.classList.remove("active"),navbar.classList.remove("active")})})},headerParallaxHandler=function(){var e,t,s;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.pageYOffset,t=.5*window.pageYOffset,s=e/100,introText[0].style.transform="translate(".concat(8*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(6*t,"px)"),introText[3].style.transform="translate(".concat(7*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(11*t,"px)"),introBtn.style.opacity="".concat(.5/s),200<=e?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=e?introText.forEach(function(e){return e.style.display="none"}):introText.forEach(function(e){return e.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(e){e.target.nextElementSibling.classList.contains("active")?e.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),e.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(e){e.classList.remove("active")})},accordionOutsideHandler=function(e){e.target.classList.contains("accordion-heading")||e.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-box"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active")),setContent()},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),section=document.querySelector(".projects"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,firstAnchorPoint=prevSectionOffset+prevSection.offsetHeight,secondAnchorPoint=nextSection.offsetTop-nextSection.offsetHeight,projectsParallaxHandler=function(){var e;viewport<992||(e=window.pageYOffset,nextSection.offsetHeight,nextSection.offsetTop,firstAnchorPoint<=e&&parallaxSection.classList.add("fixed-pr"),(secondAnchorPoint<=e||e<firstAnchorPoint)&&parallaxSection.classList.remove("fixed-pr"),secondAnchorPoint<=e?parallaxItems[0].classList.add("bottom"):parallaxItems[0].classList.remove("bottom"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(e-firstAnchorPoint,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(e-firstAnchorPoint,"px)")),!parallaxSection.classList.contains(".fixed-pr")&&secondAnchorPoint<=e?parallaxItems[1].classList.add("imgs-bottom"):parallaxItems[1].classList.remove("imgs-bottom"))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,s,o;viewportWidth<992||(e=window.scrollY,t=parseInt((e-sectionOffSet)/10),sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")?firstSection.classList.add("parallax-sticky"):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,(100<t&&s===o?(firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.style.marginTop="".concat(o+2*navHeight,"px"),secondSection.classList.add("static"),1):secondSection.classList.contains("static")&&(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),secondSection.style.marginTop="0",0),1))||(secondSection.style.transform="translateX(-".concat(t,"%)"),firstSection.style.transform="translateX(-".concat(t,"%)")),100<=t?secondSection.classList.remove("quick-fix"):t<=100&&secondSection.classList.add("quick-fix"))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,s=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(o-t)/40,a=(e-s)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(a,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})},handleRemoveDOMElements=(secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),function(){document.querySelector(".processes-mobile")});window.onload=function(){headerParallaxHandler(),setContent(),992<=viewportWidth&&handleRemoveDOMElements()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),accordions.forEach(function(e){return e.addEventListener("click",openAccordion)}),window.onclick=function(e){accordionOutsideHandler(e),cardOutsideHandler(e)},window.onscroll=function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()},navCloseHandler(),navRevealHandler(),window.onresize=function(){992<=window.innerWidth||cardsActivatorHandler()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VySWNvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdmJhciIsImludHJvVGV4dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnRyb0J0biIsInZpZXdwb3J0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIiwiY2FyZCIsImNhcmRzIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJlbCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwiY2FyZE91dHNpZGVIYW5kbGVyIiwiZSIsInRhcmdldCIsIm5hdlJldmVhbEhhbmRsZXIiLCJuYXZDbG9zZUhhbmRsZXIiLCJtbmF2SXRlbSIsInRvZ2dsZSIsIml0ZW0iLCJoZWFkZXJQYXJhbGxheEhhbmRsZXIiLCJpbnRybyIsInJhdGUiLCJwYWdlWU9mZnNldCIsIm9mZnNldFkiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNvbmNhdCIsIm9wYWNpdHkiLCJkaXNwbGF5Iiwib3BhY2l0eVZhbHVlIiwidGV4dCIsIm9wZW5BY2NvcmRpb24iLCJhY2NvcmRpb25zIiwiY2xvc2VBbGxBY2NvcmRpb25zIiwiYWNjb3JkaW9uQ29udGVudCIsIm5leHRFbGVtZW50U2libGluZyIsInByb2Nlc3NUaXRsZSIsImJ0biIsImNsb3NlQWxsUHJvY2Vzc2VzIiwic2V0Q29udGVudCIsInRleHRDb250ZW50IiwiY2hlbmdlUHJvY2VzcyIsInByb2Nlc3NCdG5zIiwicHJvY2Vzc1RleHQiLCJwYXJhbGxheEl0ZW1zIiwic2VjdGlvbiIsIm5leHRTZWN0aW9uIiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcmV2U2VjdGlvbiIsImZpcnN0QW5jaG9yUG9pbnQiLCJzZWNvbmRBbmNob3JQb2ludCIsIm9mZnNldFRvcCIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwic2Nyb2xsVG9wIiwic2Nyb2xsVG9BbmNob3IiLCJwYXJhbGxheFNlY3Rpb24iLCJ2aWV3cG9ydCIsIm9mZnNldEhlaWdodCIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInBhcnNlSW50Iiwic2Nyb2xsVmFsdWUiLCJzZWN0aW9uT2ZmU2V0IiwiZmlyc3RBbmNob3IiLCJzZWNvbmRTZWN0aW9uIiwiZmlyc3RTZWN0aW9uIiwiZmlyc3RTZWN0aW9uVG9wIiwiZmlyc3RTZWN0aW9uUmVjdCIsInNlY29uZE9mZlNldCIsIm5hdkhlaWdodCIsIm5hdiIsIm1hcmdpblRvcCIsInNjcm9sbFBlcm1pc2lvbiIsInNjcm9sbFkiLCJoYW5kbGVQYXJhbGxheEl0ZW1zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiY2xpZW50WCIsInNlY29uZFNlY3Rpb25Ub3AiLCJjbGllbnRZIiwib2Zmc2V0V2lkdGgiLCJtaWRkbGVYIiwieCIsIm1pZGRsZVkiLCJzZXRQcm9wZXJ0eSIsImFjY29yZGlvbk91dHNpZGVIYW5kbGVyIiwib25zY3JvbGwiLCJ5IiwicGFyYWxsYXhUZXh0cyIsImZpbmFsWSIsImZpbmFsWCIsImhhbmRsZVJlbW92ZURPTUVsZW1lbnRzIiwib25sb2FkIiwiYWNjb3JkaW9uIiwib25jbGljayIsIm9ucmVzaXplIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxXQUFhQyxTQUFTQyxjQUFjLGNBQWMsRUFDbERDLE9BQVNGLFNBQVNDLGNBQWMsYUFBYSxFQUE3Q0MsVUFBU0YsU0FBU0MsaUJBQWMsYUFBYyxFQUU5Q0UsU0FBWUgsU0FBU0ksY0FBQUEsWUFBaUIsRUFDdENDLFNBQVdMLFNBQVNDLGlCQUFjLGVBQWEsRUFHakRLLGNBQWdCQyxPQUFPQyxXQUlyQkMsTUFBQUEsU0FBQUEsaUJBQUFBLHdCQUE4QixFQUVsQ0Msc0JBQXNCLFdBRHZCQyxNQUVFQSxRQUFNQyxTQUFBQSxHQURQRixFQUFLRyxpQkFFYSxRQUFTLFdBRDFCRixNQUFNQyxRQUVERSxTQUFBQSxHQUNKQyxFQUFBRCxVQUFBRSxTQUFBLFFBQUEsR0FEQ0QsRUFFQUQsVUFBQUcs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b0IsV0FBVSxFQUNXLEtBQWpCekMsZUFBc0I0Rix3QkFBdUIsQ0FDbEQsRUFFQWhELFlBQVl0QyxRQUFRLFNBQUNpQyxHQUFHLE9BQUtBLEVBQUloQyxpQkFBaUIsUUFBU29DLGFBQWEsQ0FBQyxDQUFBLEVBRXpFVCxXQUFXNUIsUUFBUSxTQUFDd0YsR0FBUyxPQUM1QkEsRUFBVXZGLGlCQUFpQixRQUFTMEIsYUFBYSxDQUFDLENBQUEsRUFHbkRoQyxPQUFPOEYsUUFBVSxTQUFDakYsR0FDakJ3RSx3QkFBd0J4RSxDQUFDLEVBQ3pCRCxtQkFBbUJDLENBQUMsQ0FDckIsRUFFQWIsT0FBT3NGLFNBQVcsV0FDakJsRSxzQkFBcUIsRUFDckJpQyx3QkFBdUIsRUFDdkJNLHNCQUFxQixDQUN0QixFQUVBM0MsZ0JBQWUsRUFDZkQsaUJBQWdCLEVBRWhCZixPQUFPK0YsU0FBVyxXQUdJLEtBRkQvRixPQUFPQyxZQUczQkMsc0JBQXFCLENBQ3RCIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVyZ2VySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItaWNvbicpO1xuY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYnKTtcblxuY29uc3QgaW50cm9UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmludHJvLXRleHQnKTtcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpO1xuY29uc3QgbW5hdkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9iaWxlLW5hdiBhJyk7XG5cbmxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xuXG5jb25zdCBjYXJkc0FjdGl2YXRvckhhbmRsZXIgPSAoKSA9PiB7XG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XG5cdFx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3QgbmF2UmV2ZWFsSGFuZGxlciA9ICgpID0+IHtcblx0YnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHRcdG5hdmJhci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0fSk7XG59O1xuXG5jb25zdCBuYXZDbG9zZUhhbmRsZXIgPSAoKSA9PiB7XG5cdG1uYXZJdGVtLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0YnVyZ2VySWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdG5hdmJhci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBoZWFkZXJQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgNzY4KSB7XG5cdFx0Y29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKTtcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cucGFnZVlPZmZzZXQgKiAwLjU7XG5cdGNvbnN0IG9wYWNpdHlWYWx1ZSA9IG9mZnNldFkgLyAxMDA7XG5cblx0aW50cm9UZXh0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogOH1weClgO1xuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgO1xuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA2fXB4KWA7XG5cdGludHJvVGV4dFszXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDd9cHgpYDtcblx0aW50cm9UZXh0WzRdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTl9cHgpYDtcblx0aW50cm9UZXh0WzVdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTF9cHgpYDtcblxuXHRpbnRyb0J0bi5zdHlsZS5vcGFjaXR5ID0gYCR7MC41IC8gb3BhY2l0eVZhbHVlfWA7XG5cdGlmIChvZmZzZXRZID49IDIwMCkge1xuXHRcdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRcdGludHJvQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdH0gZWxzZSB7XG5cdFx0aW50cm9CdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdH1cblxuXHRpZiAob2Zmc2V0WSA+PSA4MDApIHtcblx0XHRpbnRyb1RleHQuZm9yRWFjaCgodGV4dCkgPT4gKHRleHQuc3R5bGUuZGlzcGxheSA9ICdub25lJykpO1xuXHR9IGVsc2Uge1xuXHRcdGludHJvVGV4dC5mb3JFYWNoKCh0ZXh0KSA9PiAodGV4dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJykpO1xuXHR9XG59O1xuXG4vLyBQcm9jZXNzZXMgLSBhY2NvcmRpb25zXG5cbmNvbnN0IGFjY29yZGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWhlYWRpbmcnKTtcblxuY29uc3Qgb3BlbkFjY29yZGlvbiA9IChlKSA9PiB7XG5cdGlmIChlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0fSBlbHNlIHtcblx0XHRjbG9zZUFsbEFjY29yZGlvbnMoKTtcblx0XHRlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdH1cbn07XG5cbmNvbnN0IGNsb3NlQWxsQWNjb3JkaW9ucyA9ICgpID0+IHtcblx0Y29uc3QgYWNjb3JkaW9uQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24tY29udGVudCcpO1xuXHRhY2NvcmRpb25Db250ZW50LmZvckVhY2goKGVsKSA9PiB7XG5cdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdH0pO1xufTtcblxuY29uc3QgYWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xuXHRpZiAoXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24taGVhZGluZycpIHx8XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24tY29udGVudCcpXG5cdClcblx0XHRyZXR1cm47XG5cdGNsb3NlQWxsQWNjb3JkaW9ucygpO1xufTtcbi8vIFByb2Nlc3NlcyAtIGxpc3RcblxuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJyk7XG5cbmNvbnN0IHByb2Nlc3NUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRleHQnKTtcblxuY29uc3QgcHJvY2Vzc0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvY2Vzc2VzLWxpc3QtYm94Jyk7XG5cbmNvbnN0IGNoZW5nZVByb2Nlc3MgPSAoZSkgPT4ge1xuXHRjb25zdCBidG4gPSBlLnRhcmdldDtcblxuXHRpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0fSBlbHNlIHtcblx0XHRjbG9zZUFsbFByb2Nlc3NlcygpO1xuXHRcdGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0fVxuXHRzZXRDb250ZW50KCk7XG59O1xuXG5jb25zdCBjbG9zZUFsbFByb2Nlc3NlcyA9ICgpID0+IHtcblx0cHJvY2Vzc0J0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xufTtcblxuY29uc3Qgc2V0Q29udGVudCA9ICgpID0+IHtcblx0aWYgKHByb2Nlc3NCdG5zWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5Pyc7XG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNlYXQsIHBvc3NpbXVzIGNvbnNlY3RldHVyLCB0ZW5ldHVyIHZvbHVwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YDtcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1sxXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nO1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gO1xuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzJdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnQ28gdG8gamVzdCB6YXR3aWVyZHplbmllPyc7XG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZXVtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gO1xuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzNdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnV3lrb25hbmllIHByb2pla3R1ISc7XG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNlYXQsIHBvc3NpbXVzIGNvbnNlY3RldHVyLCB0ZW5ldHVyIHZvbHVwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/ZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjYDtcblx0fVxufTtcblxuLyogUFJPSkVDVFMgUEFSQUxMQVggKi9cblxuY29uc3QgcGFyYWxsYXhTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250Jyk7XG5jb25zdCBwYXJhbGxheEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3RzLXBhcmFsbGF4Jyk7XG5jb25zdCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzJyk7XG5cbmNvbnN0IHByZXZTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2VzJyk7XG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcblxubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGg7XG5cbmxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcDtcbmxldCBmaXJzdEFuY2hvclBvaW50ID0gcHJldlNlY3Rpb25PZmZzZXQgKyBwcmV2U2VjdGlvbi5vZmZzZXRIZWlnaHQ7XG5sZXQgc2Vjb25kQW5jaG9yUG9pbnQgPSBuZXh0U2VjdGlvbi5vZmZzZXRUb3AgLSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQ7XG5cbmNvbnN0IHByb2plY3RzUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnQgPCA5OTIpIHJldHVybjtcblxuXHRsZXQgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXHRsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3A7XG5cblx0LyogXHRjb25zb2xlLmxvZyhgU2Nyb2xsIHRvcDogJHtzY3JvbGxUb3B9YClcblx0Y29uc29sZS5sb2coYGZpcnN0QW5jaG9yOiAke2ZpcnN0QW5jaG9yUG9pbnR9YClcblx0Y29uc29sZS5sb2coYHNlY29uZEFuY2hvcjogJHtzZWNvbmRBbmNob3JQb2ludH1gKVxuXHRjb25zb2xlLmxvZyhgc2Nyb2xsVG9BbmNob3I6ICR7c2Nyb2xsVG9BbmNob3J9YCkgKi9cblxuXHRpZiAoc2Nyb2xsVG9wID49IGZpcnN0QW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZml4ZWQtcHInKTtcblxuXHRcdC8qIFx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAtJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYCAqL1xuXHR9XG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQgfHwgc2Nyb2xsVG9wIDwgZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZC1wcicpO1xuXHR9XG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLmNsYXNzTGlzdC5hZGQoJ2JvdHRvbScpO1xuXHR9IGVsc2Uge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uY2xhc3NMaXN0LnJlbW92ZSgnYm90dG9tJyk7XG5cdH1cblxuXHRpZiAocGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZml4ZWQtcHInKSkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsIC0ke1xuXHRcdFx0c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludFxuXHRcdH1weClgO1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsICR7XG5cdFx0XHRzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50XG5cdFx0fXB4KWA7XG5cdH1cblxuXHRpZiAoXG5cdFx0IXBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJy5maXhlZC1wcicpICYmXG5cdFx0c2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50XG5cdCkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uY2xhc3NMaXN0LmFkZCgnaW1ncy1ib3R0b20nKTtcblx0fSBlbHNlIHtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ2ltZ3MtYm90dG9tJyk7XG5cdH1cbn07XG5cbmNvbnN0IGZpcnN0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcbmNvbnN0IHNlY29uZFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyaXN0aWNzJyk7XG5jb25zdCBzZWN0aW9uT2ZmU2V0ID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcDtcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbmNvbnN0IG5hdkhlaWdodCA9IG5hdi5vZmZzZXRIZWlnaHQ7XG5jb25zdCBoYW5kbGVQYXJhbGxheFNlY3Rpb24gPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgOTkyKSByZXR1cm47XG5cdGxldCBzY3JvbGxQZXJtaXNpb247XG5cdGNvbnN0IHNjcm9sbFZhbHVlID0gd2luZG93LnNjcm9sbFk7XG5cdGNvbnN0IHJhdGUgPSBwYXJzZUludCgoc2Nyb2xsVmFsdWUgLSBzZWN0aW9uT2ZmU2V0KSAvIDEwKTtcblx0Y29uc3QgZmlyc3RBbmNob3IgPSBzZWN0aW9uT2ZmU2V0IC0gbmF2SGVpZ2h0IDw9IHNjcm9sbFZhbHVlO1xuXG5cdGlmIChmaXJzdEFuY2hvciAmJiAhc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpO1xuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XG5cdH0gZWxzZSB7XG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0aWNreScpO1xuXHR9XG5cblx0aWYgKFxuXHRcdCFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGlja3knKSAmJlxuXHRcdCFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGF0aWMnKVxuXHQpIHtcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcblx0XHRmaXJzdFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoMClgO1xuXHR9XG5cblx0Y29uc3Qgc2Vjb25kU2VjdGlvblJlY3QgPSBzZWNvbmRTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRjb25zdCBmaXJzdFNlY3Rpb25SZWN0ID0gZmlyc3RTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRjb25zdCBzZWNvbmRTZWN0aW9uVG9wID0gc2Vjb25kU2VjdGlvblJlY3QudG9wO1xuXHRjb25zdCBmaXJzdFNlY3Rpb25Ub3AgPSBmaXJzdFNlY3Rpb25SZWN0LnRvcDtcblx0XG5cdGlmIChyYXRlID4gMTAwICYmIHNlY29uZFNlY3Rpb25Ub3AgPT09IGZpcnN0U2VjdGlvblRvcCkge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKTtcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RhdGljJyk7XG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS5tYXJnaW5Ub3AgPSBgJHtmaXJzdFNlY3Rpb25Ub3AgKyAobmF2SGVpZ2h0ICogMil9cHhgO1xuXHRcdHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnc3RhdGljJyk7XG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGF0aWMnKSkge1xuXHRcdFx0Y29uc3Qgc2Vjb25kT2ZmU2V0ID0gc2Vjb25kU2VjdGlvbi5vZmZzZXRUb3A7XG5cdFx0XHRpZiAoc2Vjb25kT2ZmU2V0IC0gbmF2SGVpZ2h0ID49IHNjcm9sbFZhbHVlKSB7XG5cdFx0XHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKTtcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0YXRpYycpO1xuXHRcdFx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXRpYycpO1xuXHRcdFx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLm1hcmdpblRvcCA9ICcwJztcblx0XHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xuXHRcdH1cblx0fVxuXG5cdGlmIChzY3JvbGxQZXJtaXNpb24pIHtcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9JSlgO1xuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfSUpYDtcblx0fVxuXG5cdGlmIChyYXRlID49IDEwMCkge1xuXHRcdHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncXVpY2stZml4Jyk7XG5cdH0gZWxzZSBpZiAocmF0ZSA8PSAxMDApIHtcblx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3F1aWNrLWZpeCcpO1xuXHR9XG59O1xuXG4vLyBwYXJhbGxheCBJdGVtc1xuXG5jb25zdCBwYXJhbGxheFRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3RlcmlzdGljcy1pdGVtJyk7XG5jb25zdCBoYW5kbGVQYXJhbGxheEl0ZW1zID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0fVxuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XG5cblx0bGV0IHggPSBlLmNsaWVudFg7XG5cdGxldCB5ID0gZS5jbGllbnRZO1xuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMjtcblx0bGV0IGZpbmFsWCA9IChtaWRkbGVYIC0geCkgLyA0MDtcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MDtcblxuXHRwYXJhbGxheFRleHRzLmZvckVhY2goKHRleHQpID0+IHtcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHRcdH1cblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRcdHRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXknLCBgJHtmaW5hbFl9cHhgKTtcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YCk7XG5cdH0pO1xufTtcblxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVQYXJhbGxheEl0ZW1zKTtcbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJyk7XG5cdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJyk7XG5cdH0pO1xufSk7XG5cbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXG5cbmNvbnN0IGhhbmRsZVJlbW92ZURPTUVsZW1lbnRzID0gKCkgPT4ge1xuXHRjb25zdCBtb2JpbGVQcm9jZXNzZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLW1vYmlsZScpO1xuXHQvLyBtb2JpbGVQcm9jZXNzZXMucmVtb3ZlKCk7XG5cdC8vIGRvZGFjIGR5bmFtaWN6bmEgd2VyanNlIG5hIFBDLi4uXG59O1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcblx0c2V0Q29udGVudCgpO1xuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIGhhbmRsZVJlbW92ZURPTUVsZW1lbnRzKCk7XG59O1xuXG5wcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKTtcblxuYWNjb3JkaW9ucy5mb3JFYWNoKChhY2NvcmRpb24pID0+XG5cdGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BY2NvcmRpb24pXG4pO1xuXG53aW5kb3cub25jbGljayA9IChlKSA9PiB7XG5cdGFjY29yZGlvbk91dHNpZGVIYW5kbGVyKGUpO1xuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSk7XG59O1xuXG53aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcbn07XG5cbm5hdkNsb3NlSGFuZGxlcigpO1xubmF2UmV2ZWFsSGFuZGxlcigpO1xuXG53aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG5cdGxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSByZXR1cm47XG5cdGNhcmRzQWN0aXZhdG9ySGFuZGxlcigpO1xufTtcbiJdfQ==
