"use strict";var burgerIcon=document.querySelector(".burger-icon"),navbar=document.querySelector(".mobile-nav"),introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),mnavItem=document.querySelectorAll(".mobile-nav a"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navRevealHandler=function(){burgerIcon.addEventListener("click",function(){burgerIcon.classList.toggle("active"),navbar.classList.toggle("active")})},navCloseHandler=function(){mnavItem.forEach(function(e){e.addEventListener("click",function(){burgerIcon.classList.remove("active"),navbar.classList.remove("active")})})},headerParallaxHandler=function(){var e,t,s;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.pageYOffset,t=.5*window.pageYOffset,s=e/100,introText[0].style.transform="translate(".concat(8*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(6*t,"px)"),introText[3].style.transform="translate(".concat(7*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(11*t,"px)"),introBtn.style.opacity="".concat(.5/s),200<=e?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=e?introText.forEach(function(e){return e.style.display="none"}):introText.forEach(function(e){return e.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(e){e.target.nextElementSibling.classList.contains("active")?e.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),e.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(e){e.classList.remove("active")})},accordionOutsideHandler=function(e){e.target.classList.contains("accordion-heading")||e.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-box"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active")),setContent()},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),section=document.querySelector(".projects"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,firstAnchorPoint=prevSectionOffset+prevSection.offsetHeight,secondAnchorPoint=nextSection.offsetTop-nextSection.offsetHeight,projectsParallaxHandler=function(){var e;viewport<992||(e=window.pageYOffset,nextSection.offsetHeight,nextSection.offsetTop,firstAnchorPoint<=e&&parallaxSection.classList.add("fixed-pr"),(secondAnchorPoint<=e||e<firstAnchorPoint)&&parallaxSection.classList.remove("fixed-pr"),secondAnchorPoint<=e?parallaxItems[0].classList.add("bottom"):parallaxItems[0].classList.remove("bottom"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(e-firstAnchorPoint,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(e-firstAnchorPoint,"px)")),!parallaxSection.classList.contains(".fixed-pr")&&secondAnchorPoint<=e?parallaxItems[1].classList.add("imgs-bottom"):parallaxItems[1].classList.remove("imgs-bottom"))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,s,o,n;viewportWidth<992||(e=window.scrollY,t=parseInt((e-sectionOffSet)/10),sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")&&(firstSection.classList.add("parallax-sticky"),n=!0),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,100<=t&&s===o?(firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),n=!1,secondSection.classList.add("static")):n=!secondSection.classList.contains("static")||(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),n=!0),!1),n&&(secondSection.style.transform="translateX(-".concat(t,"%)"),firstSection.style.transform="translateX(-".concat(t,"%)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,s=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(o-t)/40,a=(e-s)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(a,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})},handleRemoveDOMElements=(secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),function(){document.querySelector(".processes-mobile")});window.onload=function(){headerParallaxHandler(),setContent(),992<=viewportWidth&&handleRemoveDOMElements()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),accordions.forEach(function(e){return e.addEventListener("click",openAccordion)}),window.onclick=function(e){accordionOutsideHandler(e),cardOutsideHandler(e)},window.onscroll=function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()},navCloseHandler(),navRevealHandler(),window.onresize=function(){992<=window.innerWidth||cardsActivatorHandler()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VySWNvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdmJhciIsImludHJvVGV4dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnRyb0J0biIsInZpZXdwb3J0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIiwiY2FyZCIsImNhcmRzIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJlbCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwiY2FyZE91dHNpZGVIYW5kbGVyIiwiZSIsInRhcmdldCIsIm5hdlJldmVhbEhhbmRsZXIiLCJuYXZDbG9zZUhhbmRsZXIiLCJtbmF2SXRlbSIsInRvZ2dsZSIsIml0ZW0iLCJoZWFkZXJQYXJhbGxheEhhbmRsZXIiLCJpbnRybyIsInJhdGUiLCJwYWdlWU9mZnNldCIsIm9mZnNldFkiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNvbmNhdCIsIm9wYWNpdHkiLCJkaXNwbGF5Iiwib3BhY2l0eVZhbHVlIiwidGV4dCIsIm9wZW5BY2NvcmRpb24iLCJhY2NvcmRpb25zIiwiY2xvc2VBbGxBY2NvcmRpb25zIiwiYWNjb3JkaW9uQ29udGVudCIsIm5leHRFbGVtZW50U2libGluZyIsInByb2Nlc3NUaXRsZSIsImJ0biIsImNsb3NlQWxsUHJvY2Vzc2VzIiwic2V0Q29udGVudCIsInRleHRDb250ZW50IiwiY2hlbmdlUHJvY2VzcyIsInByb2Nlc3NCdG5zIiwicHJvY2Vzc1RleHQiLCJwYXJhbGxheEl0ZW1zIiwic2VjdGlvbiIsIm5leHRTZWN0aW9uIiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcmV2U2VjdGlvbiIsImZpcnN0QW5jaG9yUG9pbnQiLCJzZWNvbmRBbmNob3JQb2ludCIsIm9mZnNldFRvcCIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwic2Nyb2xsVG9wIiwic2Nyb2xsVG9BbmNob3IiLCJwYXJhbGxheFNlY3Rpb24iLCJ2aWV3cG9ydCIsIm9mZnNldEhlaWdodCIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInBhcnNlSW50Iiwic2Nyb2xsVmFsdWUiLCJzZWN0aW9uT2ZmU2V0IiwiZmlyc3RBbmNob3IiLCJzZWNvbmRTZWN0aW9uIiwic2Vjb25kU2VjdGlvblJlY3QiLCJmaXJzdFNlY3Rpb25SZWN0IiwiZmlyc3RTZWN0aW9uIiwiZmlyc3RTZWN0aW9uVG9wIiwic2Vjb25kU2VjdGlvblRvcCIsInNlY29uZE9mZlNldCIsIm5hdkhlaWdodCIsInNjcm9sbFBlcm1pc2lvbiIsIm5hdiIsInNjcm9sbFkiLCJwYXJhbGxheFRleHRzIiwiaGFuZGxlUGFyYWxsYXhJdGVtcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsIm1pZGRsZVkiLCJzZXRQcm9wZXJ0eSIsIngiLCJ5IiwiY2xpZW50WSIsIm9mZnNldFdpZHRoIiwiYWNjb3JkaW9uIiwiZmluYWxYIiwibWlkZGxlWCIsIm9uc2Nyb2xsIiwiZmluYWxZIiwiaGFuZGxlUmVtb3ZlRE9NRWxlbWVudHMiLCJvbmxvYWQiLCJvbmNsaWNrIiwiYWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIiLCJvbnJlc2l6ZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsV0FBYUMsU0FBU0MsY0FBYyxjQUFjLEVBQ2xEQyxPQUFTRixTQUFTQyxjQUFjLGFBQWEsRUFBN0NDLFVBQVNGLFNBQVNDLGlCQUFjLGFBQWMsRUFFOUNFLFNBQVlILFNBQVNJLGNBQUFBLFlBQWlCLEVBQ3RDQyxTQUFXTCxTQUFTQyxpQkFBYyxlQUFhLEVBR2pESyxjQUFnQkMsT0FBT0MsV0FJckJDLE1BQUFBLFNBQUFBLGlCQUFBQSx3QkFBOEIsRUFFbENDLHNCQUFzQixXQUR2QkMsTUFFRUEsUUFBTUMsU0FBQUEsR0FEUEYsRUFBS0csaUJBRWEsUUFBUyxXQUQxQkYsTUFBTUMsUUFFREUsU0FBQUEsR0FDSkMsRUFBQUQsVUFBQUUsU0FBQSxRQUFBLEdBRENELEVBRUFELFVBQUFHLE9B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QUNyQixFQUVBYixPQUFPd0YsU0FBVyxXQUNqQnBFLHNCQUFxQixFQUNyQmlDLHdCQUF1QixFQUN2Qk0sc0JBQXFCLENBQ3RCLEVBRUEzQyxnQkFBZSxFQUNmRCxpQkFBZ0IsRUFFaEJmLE9BQU84RixTQUFXLFdBR0ksS0FGRDlGLE9BQU9DLFlBRzNCQyxzQkFBcUIsQ0FDdEIiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBidXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJyk7XG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW5hdicpO1xuXG5jb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpO1xuY29uc3QgaW50cm9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8tYnRuJyk7XG5jb25zdCBtbmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtbmF2IGEnKTtcblxubGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxuY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VydmljZXNfX2NhcmRzIC5jYXJkJyk7XG5cbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcblx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRjYXJkcy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0fSk7XG5cblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXHR9KTtcbn07XG5cbmNvbnN0IGNhcmRPdXRzaWRlSGFuZGxlciA9IChlKSA9PiB7XG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcblx0XHRjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG5jb25zdCBuYXZSZXZlYWxIYW5kbGVyID0gKCkgPT4ge1xuXHRidXJnZXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGJ1cmdlckljb24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHR9KTtcbn07XG5cbmNvbnN0IG5hdkNsb3NlSGFuZGxlciA9ICgpID0+IHtcblx0bW5hdkl0ZW0uZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXHR9KTtcbn07XG5cbmNvbnN0IGhlYWRlclBhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA3NjgpIHtcblx0XHRjb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpO1xuXHRcdGludHJvLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkJyk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3Qgb2Zmc2V0WSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5wYWdlWU9mZnNldCAqIDAuNTtcblx0Y29uc3Qgb3BhY2l0eVZhbHVlID0gb2Zmc2V0WSAvIDEwMDtcblxuXHRpbnRyb1RleHRbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA4fXB4KWA7XG5cdGludHJvVGV4dFsxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC0zfXB4KWA7XG5cdGludHJvVGV4dFsyXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDZ9cHgpYDtcblx0aW50cm9UZXh0WzNdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogN31weClgO1xuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgO1xuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxMX1weClgO1xuXG5cdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSBgJHswLjUgLyBvcGFjaXR5VmFsdWV9YDtcblx0aWYgKG9mZnNldFkgPj0gMjAwKSB7XG5cdFx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0aW50cm9CdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0fSBlbHNlIHtcblx0XHRpbnRyb0J0bi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0fVxuXG5cdGlmIChvZmZzZXRZID49IDgwMCkge1xuXHRcdGludHJvVGV4dC5mb3JFYWNoKCh0ZXh0KSA9PiAodGV4dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSk7XG5cdH0gZWxzZSB7XG5cdFx0aW50cm9UZXh0LmZvckVhY2goKHRleHQpID0+ICh0ZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snKSk7XG5cdH1cbn07XG5cbi8vIFByb2Nlc3NlcyAtIGFjY29yZGlvbnNcblxuY29uc3QgYWNjb3JkaW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24taGVhZGluZycpO1xuXG5jb25zdCBvcGVuQWNjb3JkaW9uID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0ZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsQWNjb3JkaW9ucygpO1xuXHRcdGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0fVxufTtcblxuY29uc3QgY2xvc2VBbGxBY2NvcmRpb25zID0gKCkgPT4ge1xuXHRjb25zdCBhY2NvcmRpb25Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbi1jb250ZW50Jyk7XG5cdGFjY29yZGlvbkNvbnRlbnQuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0fSk7XG59O1xuXG5jb25zdCBhY2NvcmRpb25PdXRzaWRlSGFuZGxlciA9IChlKSA9PiB7XG5cdGlmIChcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbi1oZWFkaW5nJykgfHxcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbi1jb250ZW50Jylcblx0KVxuXHRcdHJldHVybjtcblx0Y2xvc2VBbGxBY2NvcmRpb25zKCk7XG59O1xuLy8gUHJvY2Vzc2VzIC0gbGlzdFxuXG5jb25zdCBwcm9jZXNzVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGl0bGUnKTtcblxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpO1xuXG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1ib3gnKTtcblxuY29uc3QgY2hlbmdlUHJvY2VzcyA9IChlKSA9PiB7XG5cdGNvbnN0IGJ0biA9IGUudGFyZ2V0O1xuXG5cdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKCk7XG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldENvbnRlbnQoKTtcbn07XG5cbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG59O1xuXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xuXHRpZiAocHJvY2Vzc0J0bnNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdKYWsgcHJ6ZWJpZWdhasSFIHJvem1vd3k/Jztcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gO1xuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzFdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHd5Z2zEhWRhIHByZXplbnRhY2phIHByb2pla3R1Pyc7XG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgcHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2A7XG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdDbyB0byBqZXN0IHphdHdpZXJkemVuaWU/Jztcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNldW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2A7XG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbM10uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdXeWtvbmFuaWUgcHJvamVrdHUhJztcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9lbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNgO1xuXHR9XG59O1xuXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xuXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcbmNvbnN0IHBhcmFsbGF4SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdHMtcGFyYWxsYXgnKTtcbmNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMnKTtcblxuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKTtcbmNvbnN0IG5leHRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xuXG5sZXQgdmlld3BvcnQgPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxubGV0IHByZXZTZWN0aW9uT2Zmc2V0ID0gcHJldlNlY3Rpb24ub2Zmc2V0VG9wO1xubGV0IGZpcnN0QW5jaG9yUG9pbnQgPSBwcmV2U2VjdGlvbk9mZnNldCArIHByZXZTZWN0aW9uLm9mZnNldEhlaWdodDtcbmxldCBzZWNvbmRBbmNob3JQb2ludCA9IG5leHRTZWN0aW9uLm9mZnNldFRvcCAtIG5leHRTZWN0aW9uLm9mZnNldEhlaWdodDtcblxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuO1xuXG5cdGxldCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cdGxldCBzY3JvbGxUb0FuY2hvciA9IG5leHRTZWN0aW9uLm9mZnNldEhlaWdodCArIG5leHRTZWN0aW9uLm9mZnNldFRvcDtcblxuXHQvKiBcdGNvbnNvbGUubG9nKGBTY3JvbGwgdG9wOiAke3Njcm9sbFRvcH1gKVxuXHRjb25zb2xlLmxvZyhgZmlyc3RBbmNob3I6ICR7Zmlyc3RBbmNob3JQb2ludH1gKVxuXHRjb25zb2xlLmxvZyhgc2Vjb25kQW5jaG9yOiAke3NlY29uZEFuY2hvclBvaW50fWApXG5cdGNvbnNvbGUubG9nKGBzY3JvbGxUb0FuY2hvcjogJHtzY3JvbGxUb0FuY2hvcn1gKSAqL1xuXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZC1wcicpO1xuXG5cdFx0LyogXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsIC0ke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYFxuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsICR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgICovXG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCB8fCBzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJyk7XG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uY2xhc3NMaXN0LmFkZCgnYm90dG9tJyk7XG5cdH0gZWxzZSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5jbGFzc0xpc3QucmVtb3ZlKCdib3R0b20nKTtcblx0fVxuXG5cdGlmIChwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmaXhlZC1wcicpKSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7XG5cdFx0XHRzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50XG5cdFx0fXB4KWA7XG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcblx0XHR9cHgpYDtcblx0fVxuXG5cdGlmIChcblx0XHQhcGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnLmZpeGVkLXByJykgJiZcblx0XHRzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnRcblx0KSB7XG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5jbGFzc0xpc3QuYWRkKCdpbWdzLWJvdHRvbScpO1xuXHR9IGVsc2Uge1xuXHRcdHBhcmFsbGF4SXRlbXNbMV0uY2xhc3NMaXN0LnJlbW92ZSgnaW1ncy1ib3R0b20nKTtcblx0fVxufTtcblxuY29uc3QgZmlyc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xuY29uc3Qgc2Vjb25kU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJpc3RpY3MnKTtcbmNvbnN0IHNlY3Rpb25PZmZTZXQgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wO1xuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuY29uc3QgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcbmNvbnN0IGhhbmRsZVBhcmFsbGF4U2VjdGlvbiA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA5OTIpIHJldHVybjtcblx0bGV0IHNjcm9sbFBlcm1pc2lvbjtcblx0Y29uc3Qgc2Nyb2xsVmFsdWUgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Y29uc3QgcmF0ZSA9IHBhcnNlSW50KChzY3JvbGxWYWx1ZSAtIHNlY3Rpb25PZmZTZXQpIC8gMTApO1xuXHRjb25zdCBmaXJzdEFuY2hvciA9IHNlY3Rpb25PZmZTZXQgLSBuYXZIZWlnaHQgPD0gc2Nyb2xsVmFsdWU7XG5cblx0aWYgKGZpcnN0QW5jaG9yICYmICFzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnc3RhdGljJykpIHtcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RpY2t5Jyk7XG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZTtcblx0fVxuXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25SZWN0ID0gc2Vjb25kU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0Y29uc3QgZmlyc3RTZWN0aW9uUmVjdCA9IGZpcnN0U2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0Y29uc3Qgc2Vjb25kU2VjdGlvblRvcCA9IHNlY29uZFNlY3Rpb25SZWN0LnRvcDtcblx0Y29uc3QgZmlyc3RTZWN0aW9uVG9wID0gZmlyc3RTZWN0aW9uUmVjdC50b3A7XG5cdGlmIChyYXRlID49IDEwMCAmJiBzZWNvbmRTZWN0aW9uVG9wID09PSBmaXJzdFNlY3Rpb25Ub3ApIHtcblx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncGFyYWxsYXgtc3RpY2t5Jyk7XG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0YXRpYycpO1xuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlO1xuXHRcdHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnc3RhdGljJyk7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGF0aWMnKSkge1xuXHRcdFx0Y29uc3Qgc2Vjb25kT2ZmU2V0ID0gc2Vjb25kU2VjdGlvbi5vZmZzZXRUb3A7XG5cdFx0XHRpZiAoc2Vjb25kT2ZmU2V0IC0gbmF2SGVpZ2h0ID49IHNjcm9sbFZhbHVlKSB7XG5cdFx0XHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKTtcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0YXRpYycpO1xuXHRcdFx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXRpYycpO1xuXHRcdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX0lKWA7XG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9JSlgO1xuXHR9XG59O1xuXG4vLyBwYXJhbGxheCBJdGVtc1xuXG5jb25zdCBwYXJhbGxheFRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3RlcmlzdGljcy1pdGVtJyk7XG5jb25zdCBoYW5kbGVQYXJhbGxheEl0ZW1zID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0fVxuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XG5cblx0bGV0IHggPSBlLmNsaWVudFg7XG5cdGxldCB5ID0gZS5jbGllbnRZO1xuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMjtcblx0bGV0IGZpbmFsWCA9IChtaWRkbGVYIC0geCkgLyA0MDtcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MDtcblxuXHRwYXJhbGxheFRleHRzLmZvckVhY2goKHRleHQpID0+IHtcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHRcdH1cblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRcdHRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXknLCBgJHtmaW5hbFl9cHhgKTtcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YCk7XG5cdH0pO1xufTtcblxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVQYXJhbGxheEl0ZW1zKTtcbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJyk7XG5cdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJyk7XG5cdH0pO1xufSk7XG5cbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXG5cbmNvbnN0IGhhbmRsZVJlbW92ZURPTUVsZW1lbnRzID0gKCkgPT4ge1xuXHRjb25zdCBtb2JpbGVQcm9jZXNzZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLW1vYmlsZScpO1xuXHQvLyBtb2JpbGVQcm9jZXNzZXMucmVtb3ZlKCk7XG5cdC8vIGRvZGFjIGR5bmFtaWN6bmEgd2VyanNlIG5hIFBDLi4uXG59O1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcblx0c2V0Q29udGVudCgpO1xuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIGhhbmRsZVJlbW92ZURPTUVsZW1lbnRzKCk7XG59O1xuXG5wcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKTtcblxuYWNjb3JkaW9ucy5mb3JFYWNoKChhY2NvcmRpb24pID0+XG5cdGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BY2NvcmRpb24pXG4pO1xuXG53aW5kb3cub25jbGljayA9IChlKSA9PiB7XG5cdGFjY29yZGlvbk91dHNpZGVIYW5kbGVyKGUpO1xuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSk7XG59O1xuXG53aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcbn07XG5cbm5hdkNsb3NlSGFuZGxlcigpO1xubmF2UmV2ZWFsSGFuZGxlcigpO1xuXG53aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG5cdGxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSByZXR1cm47XG5cdGNhcmRzQWN0aXZhdG9ySGFuZGxlcigpO1xufTtcbiJdfQ==
