"use strict";var burgerIcon=document.querySelector(".burger-icon"),navbar=document.querySelector(".mobile-nav"),introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),mnavItem=document.querySelectorAll(".mobile-nav a"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navRevealHandler=function(){burgerIcon.addEventListener("click",function(){burgerIcon.classList.toggle("active"),navbar.classList.toggle("active")})},navCloseHandler=function(){mnavItem.forEach(function(e){e.addEventListener("click",function(){burgerIcon.classList.remove("active"),navbar.classList.remove("active")})})},headerParallaxHandler=function(){var e,t,o;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.pageYOffset,t=.5*window.pageYOffset,o=e/100,introText[0].style.transform="translate(".concat(8*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(6*t,"px)"),introText[3].style.transform="translate(".concat(7*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(11*t,"px)"),introBtn.style.opacity="".concat(.5/o),200<=e?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=e?introText.forEach(function(e){return e.style.display="none"}):introText.forEach(function(e){return e.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(e){e.target.nextElementSibling.classList.contains("active")?e.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),e.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(e){e.classList.remove("active")})},accordionOutsideHandler=function(e){e.target.classList.contains("accordion-heading")||e.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-box"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active")),setContent()},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},processesSection=document.querySelector(".processes"),zmienna=processesSection.offsetTop,handleParallaxSection=function(){var e=window.scrollY,t=3*(e-zmienna),o=(console.log(zmienna),console.log(t),document.querySelector(".characteristics")),n=document.querySelector(".navbar").offsetHeight;console.log("scroll value ".concat(e," ")),zmienna-n<e?processesSection.classList.add("active-parallax"):processesSection.classList.remove("active-parallax"),processesSection.classList.contains("active-parallax")?0<=o.getBoundingClientRect().left&&(o.style.transform="translateX(-".concat(t,"px)"),processesSection.style.transform="translateX(-".concat(t,"px)")):(o.style.transform="translateX(0)",processesSection.style.transform="translateX(0)")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),section=document.querySelector(".projects"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,firstAnchorPoint=prevSectionOffset+prevSection.offsetHeight,secondAnchorPoint=nextSection.offsetTop-nextSection.offsetHeight,projectsParallaxHandler=function(){var e;viewport<992||(e=window.pageYOffset,nextSection.offsetHeight,nextSection.offsetTop,firstAnchorPoint<=e&&parallaxSection.classList.add("fixed-pr"),(secondAnchorPoint<=e||e<firstAnchorPoint)&&parallaxSection.classList.remove("fixed-pr"),secondAnchorPoint<=e?parallaxItems[0].classList.add("bottom"):parallaxItems[0].classList.remove("bottom"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(e-firstAnchorPoint,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(e-firstAnchorPoint,"px)")),!parallaxSection.classList.contains(".fixed-pr")&&secondAnchorPoint<=e?parallaxItems[1].classList.add("imgs-bottom"):parallaxItems[1].classList.remove("imgs-bottom"))},handleRemoveDOMElements=(window.onscroll=function(){projectsParallaxHandler()},function(){document.querySelector(".processes-mobile")});window.onload=function(){headerParallaxHandler(),setContent(),992<=viewportWidth&&handleRemoveDOMElements()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),accordions.forEach(function(e){return e.addEventListener("click",openAccordion)}),window.onclick=function(e){accordionOutsideHandler(e),cardOutsideHandler(e)},window.onscroll=function(){headerParallaxHandler(),projectsParallaxHandler()},navCloseHandler(),navRevealHandler(),window.onresize=function(){992<=window.innerWidth||cardsActivatorHandler()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VySWNvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdmJhciIsImludHJvVGV4dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtbmF2SXRlbSIsImNhcmRzIiwid2luZG93IiwiZm9yRWFjaCIsImVsIiwiY2xhc3NMaXN0IiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjb250YWlucyIsImFkZCIsImNhcmRPdXRzaWRlSGFuZGxlciIsImUiLCJ0YXJnZXQiLCJuYXZSZXZlYWxIYW5kbGVyIiwibmF2Q2xvc2VIYW5kbGVyIiwiaXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsInZpZXdwb3J0V2lkdGgiLCJvcGFjaXR5VmFsdWUiLCJpbnRyb0J0biIsIm9mZnNldFkiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsImNvbmNhdCIsIm9wYWNpdHkiLCJwYWdlWU9mZnNldCIsInJhdGUiLCJkaXNwbGF5IiwidGV4dCIsImFjY29yZGlvbnMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhY2NvcmRpb25Db250ZW50IiwiY2xvc2VBbGxBY2NvcmRpb25zIiwiYWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIiLCJwcm9jZXNzVGV4dCIsImJ0biIsImNsb3NlQWxsUHJvY2Vzc2VzIiwidG9nZ2xlIiwicHJvY2Vzc0J0bnMiLCJwcm9jZXNzVGl0bGUiLCJ0ZXh0Q29udGVudCIsInNldENvbnRlbnQiLCJwcm9jZXNzZXNTZWN0aW9uIiwiaGFuZGxlUGFyYWxsYXhTZWN0aW9uIiwic2Nyb2xsVmFsdWUiLCJzY3JvbGxZIiwiem1pZW5uYSIsImNvbnNvbGUiLCJsb2ciLCJjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uIiwibmF2SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2VjdGlvblJlY3QiLCJ2aWV3cG9ydCIsImlubmVyV2lkdGgiLCJwcmV2U2VjdGlvbk9mZnNldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZpcnN0QW5jaG9yUG9pbnQiLCJuZXh0U2VjdGlvbiIsIm9mZnNldFRvcCIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwicGFyYWxsYXhTZWN0aW9uIiwicGFyYWxsYXhJdGVtcyIsInNlY3Rpb24iLCJwcmV2U2VjdGlvbiIsInNlY29uZEFuY2hvclBvaW50Iiwic2Nyb2xsVG9wIiwiaGFuZGxlUmVtb3ZlRE9NRWxlbWVudHMiLCJtb2JpbGVQcm9jZXNzZXMiLCJhY2NvcmRpb24iLCJvcGVuQWNjb3JkaW9uIiwib25zY3JvbGwiLCJvbmxvYWQiLCJjaGVuZ2VQcm9jZXNzIiwib25jbGljayIsIm9ucmVzaXplIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxXQUFhQyxTQUFTQyxjQUFjLGNBQWMsRUFDbERDLE9BQVNGLFNBQVNDLGNBQWMsYUFBYSxFQUE3Q0MsVUFBU0YsU0FBU0MsaUJBQWMsYUFBYyxFQUU5Q0UsU0FBWUgsU0FBU0ksY0FBQUEsWUFBaUIsRUFHdENDLFNBQVdMLFNBQVNJLGlCQUFpQixlQUFnQixFQUlyREUsY0FBZ0JDLE9BQUNILFdBR3RCRSxNQUFNRSxTQUFRSixpQkFBUSx3QkFBQSxFQUVwQkUsc0JBQWNHLFdBRmhCSCxNQUFNRSxRQUdJRSxTQUFBQSxHQUZUQyxFQUFLQyxpQkFHV0MsUUFBTyxXQUZ0QlAsTUFHQ0UsUUFBQSxTQUFBQyxHQUNDQSxFQUFBQyxVQUFBSSxTQUFBLFFBQUEsR0FGQUwsRUFHRkUsVUFBS0QsT0FBYyxRQUFRLENBRDNCLENBSURDLEVBSENBLEVBSUFMLFVBQU1FLElBQVEsUUFBQUMsQ0FIZixDQUFDLEVBRURFLEVBQUtDLGlCQUlILFdBQUEsV0FIRE4sTUFJRUUsUUFBQSxTQUFBQyxHQUNGRSxFQUFLRCxVQUFVSyxTQUFJLFFBQVMsR0FDNUJOLEVBQUNDLFVBQUFHLE9BQUEsUUFBQSxDQUVILENBQUEsRUFFREYsRUFBTUssVUFBQUEsSUFBa0IsUUFBRyxDQUMxQixDQUFBLENBSkEsQ0FBQyxDQUNGLEVBT0NBLG1CQUFB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QUEsS0FBQSxHQUV2QjVCLENBQUFBLGdCQUFtQnpCLFVBQUFpRSxTQUFTLFdBQUEsR0FBQUosbUJBQUFDLEVBQUFKLGNBQUlPLEdBQVUvRCxVQUFBQSxJQUFBQSxhQUEwQmdFLEVBRXBFckUsY0FBYyxHQUFHRyxVQUFDRyxPQUFJLGFBQUEsRUF4QnRCLEVBbUNBTyx5QkFOQWIsT0FBT3NFLFNBQVcsV0ExQmpCWCx3QkEyQnFCLENBMUJ0QixFQStCaUIsV0FDQ2xFLFNBQUFDLGNBQUEsbUJBQUEsQ0F4QmxCLEdBK0JBTSxPQUFDdUUsT0FBQSxXQTVCQXhELHNCQUFxQixFQUNyQnlCLFdBQVUsRUFDVyxLQUFqQnhCLGVBQXNCa0Qsd0JBQXVCLENBQ2xELEVBRUE3QixZQUFZcEMsUUFBUSxTQUFBaUMsR0FBRyxPQUFJQSxFQUFJN0IsaUJBQWlCLFFBQVNtRSxhQUFhLENBQUMsQ0FBQSxFQUV2RTVDLFdBQVczQixRQUFRLFNBQUFtRSxHQUFTLE9BQUlBLEVBQVUvRCxpQkFBaUIsUUFBU2dFLGFBQWEsQ0FBQyxDQUFBLEVBRWxGckUsT0FBT3lFLFFBQVUsU0FBQS9ELEdBQ2hCc0Isd0JBQXdCdEIsQ0FBQyxFQUN6QkQsbUJBQW1CQyxDQUFDLENBQ3JCLEVBRUFWLE9BQU9zRSxTQUFXLFdBQ2pCdkQsc0JBQXFCLEVBQ3JCNEMsd0JBQXVCLENBRXhCLEVBRUE5QyxnQkFBZSxFQUNmRCxpQkFBZ0IsRUFFaEJaLE9BQU8wRSxTQUFXLFdBR0ksS0FGRDFFLE9BQU9xRCxZQUczQnNCLHNCQUFxQixDQUN0QiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWljb24nKVxyXG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW5hdicpXHJcblxyXG5jb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpXHJcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpXHJcblxyXG5jb25zdCBtbmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtbmF2IGEnKVxyXG5cclxubGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxyXG5cclxuY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VydmljZXNfX2NhcmRzIC5jYXJkJylcclxuXHJcbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcclxuXHRjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xyXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0Y2FyZHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHR9KVxyXG5cclxuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB7XHJcblx0XHRcdGNhcmRzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdFx0fSlcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSBlID0+IHtcclxuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XHJcblx0XHRjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgbmF2UmV2ZWFsSGFuZGxlciA9ICgpID0+IHtcclxuXHRidXJnZXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0YnVyZ2VySWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgbmF2Q2xvc2VIYW5kbGVyID0gKCkgPT4ge1xyXG5cdG1uYXZJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRcdG5hdmJhci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0fSlcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBoZWFkZXJQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA3NjgpIHtcclxuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJylcclxuXHRcdGludHJvLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkJylcclxuXHRcdHJldHVyblxyXG5cdH1cclxuXHJcblx0Y29uc3Qgb2Zmc2V0WSA9IHdpbmRvdy5wYWdlWU9mZnNldFxyXG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cucGFnZVlPZmZzZXQgKiAwLjVcclxuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSBvZmZzZXRZIC8gMTAwXHJcblxyXG5cdGludHJvVGV4dFswXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDh9cHgpYFxyXG5cdGludHJvVGV4dFsxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC0zfXB4KWBcclxuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA2fXB4KWBcclxuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA3fXB4KWBcclxuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgXHJcblx0aW50cm9UZXh0WzVdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTF9cHgpYFxyXG5cclxuXHRpbnRyb0J0bi5zdHlsZS5vcGFjaXR5ID0gYCR7MC41IC8gb3BhY2l0eVZhbHVlfWBcclxuXHRpZiAob2Zmc2V0WSA+PSAyMDApIHtcclxuXHRcdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSAwXHJcblx0XHRpbnRyb0J0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0fSBlbHNlIHtcclxuXHRcdGludHJvQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0fVxyXG5cclxuXHRpZiAob2Zmc2V0WSA+PSA4MDApIHtcclxuXHRcdGludHJvVGV4dC5mb3JFYWNoKHRleHQgPT4gKHRleHQuc3R5bGUuZGlzcGxheSA9ICdub25lJykpXHJcblx0fSBlbHNlIHtcclxuXHRcdGludHJvVGV4dC5mb3JFYWNoKHRleHQgPT4gKHRleHQuc3R5bGUuZGlzcGxheSA9ICdibG9jaycpKVxyXG5cdH1cclxufVxyXG5cclxuLy8gUHJvY2Vzc2VzIC0gYWNjb3JkaW9uc1xyXG5cclxuY29uc3QgYWNjb3JkaW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24taGVhZGluZycpXHJcblxyXG5jb25zdCBvcGVuQWNjb3JkaW9uID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2xvc2VBbGxBY2NvcmRpb25zKClcclxuXHRcdGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2xvc2VBbGxBY2NvcmRpb25zID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFjY29yZGlvbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWNvbnRlbnQnKVxyXG5cdGFjY29yZGlvbkNvbnRlbnQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGFjY29yZGlvbk91dHNpZGVIYW5kbGVyID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uLWhlYWRpbmcnKSB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbi1jb250ZW50JykpIHJldHVyblxyXG5cdGNsb3NlQWxsQWNjb3JkaW9ucygpXHJcbn1cclxuLy8gUHJvY2Vzc2VzIC0gbGlzdFxyXG5cclxuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJylcclxuXHJcbmNvbnN0IHByb2Nlc3NUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRleHQnKVxyXG5cclxuY29uc3QgcHJvY2Vzc0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvY2Vzc2VzLWxpc3QtYm94JylcclxuXHJcbmNvbnN0IGNoZW5nZVByb2Nlc3MgPSBlID0+IHtcclxuXHRjb25zdCBidG4gPSBlLnRhcmdldFxyXG5cclxuXHRpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2xvc2VBbGxQcm9jZXNzZXMoKVxyXG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0fVxyXG5cdHNldENvbnRlbnQoKVxyXG59XHJcblxyXG5jb25zdCBjbG9zZUFsbFByb2Nlc3NlcyA9ICgpID0+IHtcclxuXHRwcm9jZXNzQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXHJcbn1cclxuXHJcbmNvbnN0IHNldENvbnRlbnQgPSAoKSA9PiB7XHJcblx0aWYgKHByb2Nlc3NCdG5zWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdKYWsgcHJ6ZWJpZWdhasSFIHJvem1vd3k/J1xyXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNlYXQsIHBvc3NpbXVzIGNvbnNlY3RldHVyLCB0ZW5ldHVyIHZvbHVwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxyXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nXHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCBwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxyXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0NvIHRvIGplc3QgemF0d2llcmR6ZW5pZT8nXHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNldW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2BcclxuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzNdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdXeWtvbmFuaWUgcHJvamVrdHUhJ1xyXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNlYXQsIHBvc3NpbXVzIGNvbnNlY3RldHVyLCB0ZW5ldHVyIHZvbHVwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/ZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjYFxyXG5cdH1cclxufVxyXG5cclxuLy8gcGFyYWxsYXggc2VjdGlvblxyXG5jb25zdCBwcm9jZXNzZXNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xyXG5jb25zdCB6bWllbm5hID0gcHJvY2Vzc2VzU2VjdGlvbi5vZmZzZXRUb3A7XHJcbmNvbnN0IGhhbmRsZVBhcmFsbGF4U2VjdGlvbiA9ICgpID0+IHtcclxuXHRjb25zdCBzY3JvbGxWYWx1ZSA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cdGNvbnN0IHJhdGUgPSAoc2Nyb2xsVmFsdWUgLSB6bWllbm5hKSAqIDM7XHJcblx0Y29uc29sZS5sb2coem1pZW5uYSk7XHJcblx0Y29uc29sZS5sb2cocmF0ZSk7XHJcblxyXG5cdGNvbnN0IGNoYXJhY3RlcmlzdGljc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyaXN0aWNzJyk7XHJcblx0Y29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xyXG5cdGNvbnN0IG5hdkhlaWdodCA9IG5hdi5vZmZzZXRIZWlnaHQ7XHJcblx0Y29uc29sZS5sb2coYHNjcm9sbCB2YWx1ZSAke3Njcm9sbFZhbHVlfSBgKTtcclxuXHJcblx0aWYgKHptaWVubmEgLSBuYXZIZWlnaHQgPCBzY3JvbGxWYWx1ZSkge1xyXG5cdFx0cHJvY2Vzc2VzU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtcGFyYWxsYXgnKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cHJvY2Vzc2VzU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtcGFyYWxsYXgnKTtcclxuXHR9XHJcblxyXG5cdGlmIChwcm9jZXNzZXNTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlLXBhcmFsbGF4JykpIHtcclxuXHRcdGNvbnN0IHNlY3Rpb25SZWN0ID0gY2hhcmFjdGVyaXN0aWNzU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdGlmIChzZWN0aW9uUmVjdC5sZWZ0ID49IDApIHtcclxuXHRcdFx0Y2hhcmFjdGVyaXN0aWNzU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfXB4KWA7XHJcblx0XHRcdHByb2Nlc3Nlc1NlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYFxyXG5cdFx0cHJvY2Vzc2VzU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWBcclxuXHR9XHJcbn1cclxuXHJcblxyXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xyXG5cclxuY29uc3QgcGFyYWxsYXhTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250JylcclxuY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpXHJcbmNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMnKVxyXG5cclxuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKVxyXG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKVxyXG5cclxubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGhcclxuXHJcbmxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcFxyXG5sZXQgZmlyc3RBbmNob3JQb2ludCA9IHByZXZTZWN0aW9uT2Zmc2V0ICsgcHJldlNlY3Rpb24ub2Zmc2V0SGVpZ2h0XHJcbmxldCBzZWNvbmRBbmNob3JQb2ludCA9IG5leHRTZWN0aW9uLm9mZnNldFRvcCAtIG5leHRTZWN0aW9uLm9mZnNldEhlaWdodFxyXG5cclxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XHJcblx0aWYgKHZpZXdwb3J0IDwgOTkyKSByZXR1cm5cclxuXHJcblxyXG5cdGxldCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXRcclxuXHRsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3BcclxuXHJcblx0LyogXHRjb25zb2xlLmxvZyhgU2Nyb2xsIHRvcDogJHtzY3JvbGxUb3B9YClcclxuXHRjb25zb2xlLmxvZyhgZmlyc3RBbmNob3I6ICR7Zmlyc3RBbmNob3JQb2ludH1gKVxyXG5cdGNvbnNvbGUubG9nKGBzZWNvbmRBbmNob3I6ICR7c2Vjb25kQW5jaG9yUG9pbnR9YClcclxuXHRjb25zb2xlLmxvZyhgc2Nyb2xsVG9BbmNob3I6ICR7c2Nyb2xsVG9BbmNob3J9YCkgKi9cclxuXHJcblx0aWYgKHNjcm9sbFRvcCA+PSBmaXJzdEFuY2hvclBvaW50KSB7XHJcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZml4ZWQtcHInKVxyXG5cclxuXHRcdC8qIFx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAtJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcclxuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwcHgsICR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgICovXHJcblx0fVxyXG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQgfHwgc2Nyb2xsVG9wIDwgZmlyc3RBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJylcclxuXHR9XHJcblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5jbGFzc0xpc3QuYWRkKCdib3R0b20nKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2JvdHRvbScpXHJcblx0fVxyXG5cclxuXHRpZiAocGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZml4ZWQtcHInKSkge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgXHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYFxyXG5cdH1cclxuXHJcblx0aWYgKCFwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCcuZml4ZWQtcHInKSAmJiBzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMV0uY2xhc3NMaXN0LmFkZCgnaW1ncy1ib3R0b20nKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ2ltZ3MtYm90dG9tJylcclxuXHR9XHJcbn1cclxuLyogd3l3b2x1amUgcGFycmFsYXggZnVua2NqZSBuYSBzY3JvbGx1ICovXHJcbndpbmRvdy5vbnNjcm9sbCA9ICgpID0+IHtcclxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXHJcblxyXG5jb25zdCBoYW5kbGVSZW1vdmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHRjb25zdCBtb2JpbGVQcm9jZXNzZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLW1vYmlsZScpXHJcblx0Ly8gbW9iaWxlUHJvY2Vzc2VzLnJlbW92ZSgpO1xyXG5cdC8vIGRvZGFjIGR5bmFtaWN6bmEgd2VyanNlIG5hIFBDLi4uXHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcblx0aGVhZGVyUGFyYWxsYXhIYW5kbGVyKClcclxuXHRzZXRDb250ZW50KClcclxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIGhhbmRsZVJlbW92ZURPTUVsZW1lbnRzKClcclxufVxyXG5cclxucHJvY2Vzc0J0bnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlbmdlUHJvY2VzcykpXHJcblxyXG5hY2NvcmRpb25zLmZvckVhY2goYWNjb3JkaW9uID0+IGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BY2NvcmRpb24pKVxyXG5cclxud2luZG93Lm9uY2xpY2sgPSBlID0+IHtcclxuXHRhY2NvcmRpb25PdXRzaWRlSGFuZGxlcihlKVxyXG5cdGNhcmRPdXRzaWRlSGFuZGxlcihlKVxyXG59XHJcblxyXG53aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XHJcblx0aGVhZGVyUGFyYWxsYXhIYW5kbGVyKClcclxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXHJcblx0Ly9oYW5kbGVQYXJhbGxheFNlY3Rpb24oKVxyXG59XHJcblxyXG5uYXZDbG9zZUhhbmRsZXIoKVxyXG5uYXZSZXZlYWxIYW5kbGVyKClcclxuXHJcbndpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHtcclxuXHRsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcblxyXG5cdGlmICh2aWV3cG9ydFdpZHRoID49IDk5MikgcmV0dXJuXHJcblx0Y2FyZHNBY3RpdmF0b3JIYW5kbGVyKClcclxufVxyXG4iXX0=
