<<<<<<< HEAD
"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function s(){n.classList.remove("active"),e.classList.remove("active")}var e=document.querySelector(".mobile-nav"),t=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),a=document.querySelector(".nav-list-background"),n=t.cloneNode(!0),t=(n.addEventListener("click",function(){console.log("reveal"),n.classList.toggle("active"),e.classList.toggle("active")}),t.replaceWith(n),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",s),e.replaceWith(t)}),a.cloneNode());t.addEventListener("click",s),a.replaceWith(t)},headerParallaxHandler=function(){var e,t,s;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.pageYOffset,t=.5*window.pageYOffset,s=e/100,introText[0].style.transform="translate(".concat(8*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(6*t,"px)"),introText[3].style.transform="translate(".concat(7*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(11*t,"px)"),introBtn.style.opacity="".concat(.5/s),200<=e?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=e?introText.forEach(function(e){return e.style.display="none"}):introText.forEach(function(e){return e.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(e){e.target.nextElementSibling.classList.contains("active")?e.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),e.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(e){e.classList.remove("active")})},accordionOutsideHandler=function(e){e.target.classList.contains("accordion-heading")||e.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,s;viewport<992||(s=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+s.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+s.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(s.offsetHeight,"px)"),e<=(s=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=s||s<e)&&parallaxSection.classList.remove("fixed-pr"),t<=s&&(parallaxItems[0].style.transform="translateY(0)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(s-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(s-e,"px)")),window.scrollY<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=s&&(parallaxItems[1].style.transform="translateY(1000vh)"))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,s,o,a,n;viewportWidth<992||(e=window.scrollY,t=parseInt((e-sectionOffSet)/10),sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),n=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,a=document.querySelector(".pricing"),100<t&&s===o?(firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),n=!1,secondSection.style.marginTop="300px",console.log(a.offsetTop-secondSection.offsetTop),console.log(secondSection.offsetTop),console.log(a.offsetTop)):n=!secondSection.classList.contains("static")||(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),secondSection.style.marginTop="0",n=!0),!1),n&&(secondSection.style.transform="translateX(-".concat(t,"%)"),firstSection.style.transform="translateX(-".concat(t,"%)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,s=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,a=(o-t)/40,n=(e-s)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(n,"px")),e.style.setProperty("--transform-x","".concat(a,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),accordions.forEach(function(e){return e.addEventListener("click",openAccordion)}),window.addEventListener("click",function(e){accordionOutsideHandler(e),cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var e=window.innerWidth;e<=768&&navHandler(),992<=e||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsIm1uYXZJdGVtcyIsImNsb3NlIiwiYnVyZ2VySWNvbiIsIm9sZEJ1cmdlckljb24iLCJjbG9uZU5vZGUiLCJvbGROYXZMaXN0QmFja2dyb3VuZCIsInJldmVhbCIsImNvbnNvbGUiLCJ0b2dnbGUiLCJvbGRJdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJsb2ciLCJuYXZiYXIiLCJyZXBsYWNlV2l0aCIsIml0ZW0iLCJoZWFkZXJQYXJhbGxheEhhbmRsZXIiLCJwYWdlWU9mZnNldCIsInJhdGUiLCJzdHlsZSIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJjb25jYXQiLCJvcGFjaXR5VmFsdWUiLCJvZmZzZXRZIiwiZGlzcGxheSIsInRleHQiLCJhY2NvcmRpb25zIiwidGFyZ2V0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZSIsImNsb3NlQWxsQWNjb3JkaW9ucyIsImFjY29yZGlvbkNvbnRlbnQiLCJhY2NvcmRpb25PdXRzaWRlSGFuZGxlciIsInByb2Nlc3NUZXh0IiwiY2hlbmdlUHJvY2VzcyIsInNldENvbnRlbnQiLCJjbG9zZUFsbFByb2Nlc3NlcyIsInByb2Nlc3NCdG5zIiwicHJvY2Vzc1RpdGxlIiwidGV4dENvbnRlbnQiLCJidG4iLCJwYXJhbGxheFNlY3Rpb24iLCJwYXJhbGxheEl0ZW1zIiwibmV4dFNlY3Rpb24iLCJpbm5lcldpZHRoIiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcmV2U2VjdGlvbiIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwidmlld3BvcnQiLCJzZWN0aW9uSGVhZGluZyIsImZpcnN0QW5jaG9yUG9pbnQiLCJzY3JvbGxUb3AiLCJzZWNvbmRBbmNob3JQb2ludCIsIm9mZnNldFRvcCIsInNjcm9sbFkiLCJvZmZzZXRIZWlnaHQiLCJuYXYiLCJzY3JvbGxQZXJtaXNpb24iLCJzZWN0aW9uT2ZmU2V0IiwibmF2SGVpZ2h0Iiwic2Nyb2xsVmFsdWUiLCJmaXJzdEFuY2hvciIsInNlY29uZFNlY3Rpb24iLCJmaXJzdFNlY3Rpb24iLCJmaXJzdFNlY3Rpb25Ub3AiLCJmaXJzdFNlY3Rpb25SZWN0IiwibWFyZ2luVG9wIiwicHJpY2luZyIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInNlY29uZFNlY3Rpb25Ub3AiLCJzZWNvbmRPZmZTZXQiLCJzZWNvbmRTZWN0aW9uUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsInBhcmFsbGF4VGV4dHMiLCJoYW5kbGVQYXJhbGxheEl0ZW1zIiwiY2xpZW50WCIsImNsaWVudFkiLCJtaWRkbGVYIiwib2Zmc2V0V2lkdGgiLCJmaW5hbFgiLCJzZXRQcm9wZXJ0eSIsImFjY29yZGlvbiIsIngiLCJmaW5hbFkiLCJtaWRkbGVZIiwieSIsIm5hdkhhbmRsZXIiLCJvbmxvYWQiLCJvcGVuQWNjb3JkaW9uIiwiY2FyZE91dHNpZGVIYW5kbGVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxpQkFBaUIsYUFBYSxFQUNuREMsU0FBV0YsU0FBU0csY0FBYyxZQUFZLEVBRDlDSixjQUFZQyxPQUFTQyxXQUV2QkcsTUFBQUEsU0FBZ0JDLGlCQUFpQix3QkFBQSxFQUkvQkMsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUNDLEdBQ2JBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FBVUUsUUFBTyxDQUV0QixDQUFDLEVBQ0RMLEVBQUFBLFVBQUtH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SkUsc0JBQXFCLENBQ3RCLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpO1xyXG5jb25zdCBpbnRyb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyby1idG4nKTtcclxubGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHJcbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xyXG5cclxuY29uc3QgY2FyZHNBY3RpdmF0b3JIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcclxuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xyXG5cdFx0XHRjYXJkcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xyXG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcclxuXHRcdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcclxuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IG5hdkhhbmRsZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYnKTtcclxuXHRjb25zdCBvbGRCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJyk7XHJcblx0Y29uc3QgbW5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpO1xyXG5cdGNvbnN0IG9sZE5hdkxpc3RCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWJhY2tncm91bmQnKTtcclxuXHRjb25zdCByZXZlYWwgPSAoKSA9PiB7XHJcblx0XHRjb25zb2xlLmxvZygncmV2ZWFsJyk7XHJcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cdH07XHJcblx0Y29uc3QgY2xvc2UgPSAoKSA9PiB7XHJcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdH07XHJcblx0Y29uc3QgYnVyZ2VySWNvbiA9IG9sZEJ1cmdlckljb24uY2xvbmVOb2RlKHRydWUpO1xyXG5cdGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZlYWwpO1xyXG5cdG9sZEJ1cmdlckljb24ucmVwbGFjZVdpdGgoYnVyZ2VySWNvbik7XHJcblx0bW5hdkl0ZW1zLmZvckVhY2goKG9sZEl0ZW0pID0+IHtcclxuXHRcdGNvbnN0IGl0ZW0gPSBvbGRJdGVtLmNsb25lTm9kZSh0cnVlKTtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XHJcblx0XHRvbGRJdGVtLnJlcGxhY2VXaXRoKGl0ZW0pO1xyXG5cdH0pO1xyXG5cdGNvbnN0IG5hdkxpc3RCYWNrZ3JvdW5kID0gb2xkTmF2TGlzdEJhY2tncm91bmQuY2xvbmVOb2RlKCk7XHJcblx0bmF2TGlzdEJhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XHJcblx0b2xkTmF2TGlzdEJhY2tncm91bmQucmVwbGFjZVdpdGgobmF2TGlzdEJhY2tncm91bmQpO1xyXG59O1xyXG5cclxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgNzY4KSB7XHJcblx0XHRjb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpO1xyXG5cdFx0aW50cm8uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5wYWdlWU9mZnNldCAqIDAuNTtcclxuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSBvZmZzZXRZIC8gMTAwO1xyXG5cclxuXHRpbnRyb1RleHRbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA4fXB4KWA7XHJcblx0aW50cm9UZXh0WzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTN9cHgpYDtcclxuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA2fXB4KWA7XHJcblx0aW50cm9UZXh0WzNdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogN31weClgO1xyXG5cdGludHJvVGV4dFs0XS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC05fXB4KWA7XHJcblx0aW50cm9UZXh0WzVdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTF9cHgpYDtcclxuXHJcblx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAkezAuNSAvIG9wYWNpdHlWYWx1ZX1gO1xyXG5cdGlmIChvZmZzZXRZID49IDIwMCkge1xyXG5cdFx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IDA7XHJcblx0XHRpbnRyb0J0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpbnRyb0J0bi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHR9XHJcblxyXG5cdGlmIChvZmZzZXRZID49IDgwMCkge1xyXG5cdFx0aW50cm9UZXh0LmZvckVhY2goKHRleHQpID0+ICh0ZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW50cm9UZXh0LmZvckVhY2goKHRleHQpID0+ICh0ZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snKSk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gUHJvY2Vzc2VzIC0gYWNjb3JkaW9uc1xyXG5cclxuY29uc3QgYWNjb3JkaW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24taGVhZGluZycpO1xyXG5cclxuY29uc3Qgb3BlbkFjY29yZGlvbiA9IChlKSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNsb3NlQWxsQWNjb3JkaW9ucygpO1xyXG5cdFx0ZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNsb3NlQWxsQWNjb3JkaW9ucyA9ICgpID0+IHtcclxuXHRjb25zdCBhY2NvcmRpb25Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbi1jb250ZW50Jyk7XHJcblx0YWNjb3JkaW9uQ29udGVudC5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBhY2NvcmRpb25PdXRzaWRlSGFuZGxlciA9IChlKSA9PiB7XHJcblx0aWYgKFxyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24taGVhZGluZycpIHx8XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbi1jb250ZW50JylcclxuXHQpXHJcblx0XHRyZXR1cm47XHJcblx0Y2xvc2VBbGxBY2NvcmRpb25zKCk7XHJcbn07XHJcbi8vIFByb2Nlc3NlcyAtIGxpc3RcclxuXHJcbmNvbnN0IHByb2Nlc3NUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10aXRsZScpO1xyXG5cclxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpO1xyXG5cclxuY29uc3QgcHJvY2Vzc0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvY2Vzc2VzLWxpc3QtaXRlbScpO1xyXG5cclxuY29uc3QgY2hlbmdlUHJvY2VzcyA9IChlKSA9PiB7XHJcblx0Y29uc3QgYnRuID0gZS50YXJnZXQ7XHJcblxyXG5cdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjbG9zZUFsbFByb2Nlc3NlcygpO1xyXG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cdH1cclxuXHRzZXRDb250ZW50KCk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZUFsbFByb2Nlc3NlcyA9ICgpID0+IHtcclxuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xyXG5cdGlmIChwcm9jZXNzQnRuc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5Pyc7XHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gO1xyXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nO1xyXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgcHRhcyBlc3QgaWxsbyBub2JpcyBoYXJ1bSBwcmFlc2VudGl1bSBhc3BlcmlvcmVzISBDdW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2A7XHJcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1syXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnQ28gdG8gamVzdCB6YXR3aWVyZHplbmllPyc7XHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNldW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2A7XHJcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1szXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnV3lrb25hbmllIHByb2pla3R1ISc7XHJcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9lbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNgO1xyXG5cdH1cclxufTtcclxuXHJcbi8qIFBST0pFQ1RTIFBBUkFMTEFYICovXHJcblxyXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcclxuY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpO1xyXG5jb25zdCBwcmV2U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlcycpO1xyXG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcclxubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbmxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcDtcclxuXHJcbmNvbnN0IHByb2plY3RzUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuO1xyXG5cdGNvbnN0IHNlY3Rpb25IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzIC5zZWN0aW9uX19oZWFkaW5nJyk7XHJcblx0bGV0IGZpcnN0QW5jaG9yUG9pbnQgPVxyXG5cdFx0cHJldlNlY3Rpb25PZmZzZXQgKyBwcmV2U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQ7XHJcblx0bGV0IHNlY29uZEFuY2hvclBvaW50ID1cclxuXHRcdG5leHRTZWN0aW9uLm9mZnNldFRvcCAtXHJcblx0XHRuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgK1xyXG5cdFx0c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0IC8gMjtcclxuXHRjb25zdCBwcm9qZWN0c0Rlc2t0b3BDbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcclxuXHRwcm9qZWN0c0Rlc2t0b3BDbnQuc3R5bGUuaGVpZ2h0ID0gYENhbGMoNjAwdmggKyAke3NlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodH1weClgO1xyXG5cclxuXHRsZXQgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFk7XHJcblx0Ly8gbGV0IHNjcm9sbFRvQW5jaG9yID0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgbmV4dFNlY3Rpb24ub2Zmc2V0VG9wXHJcblx0aWYgKHNjcm9sbFRvcCA+PSBmaXJzdEFuY2hvclBvaW50KSB7XHJcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZml4ZWQtcHInKTtcclxuXHR9XHJcblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCB8fCBzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XHJcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQtcHInKTtcclxuXHR9XHJcblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgwKWA7XHJcblx0fVxyXG5cclxuXHRpZiAocGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZml4ZWQtcHInKSkge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7XHJcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcclxuXHRcdH1weClgO1xyXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtcclxuXHRcdFx0c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludFxyXG5cdFx0fXB4KWA7XHJcblx0fVxyXG5cdGlmICh3aW5kb3cuc2Nyb2xsWSA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSc7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknO1xyXG5cdH1cclxuXHJcblx0aWYgKFxyXG5cdFx0IXBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJy5maXhlZC1wcicpICYmXHJcblx0XHRzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnRcclxuXHQpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoMTAwMHZoKWA7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgZmlyc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xyXG5jb25zdCBzZWNvbmRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpO1xyXG5jb25zdCBzZWN0aW9uT2ZmU2V0ID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcDtcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xyXG5jb25zdCBuYXZIZWlnaHQgPSBuYXYub2Zmc2V0SGVpZ2h0O1xyXG5jb25zdCBoYW5kbGVQYXJhbGxheFNlY3Rpb24gPSAoKSA9PiB7XHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA5OTIpIHJldHVybjtcclxuXHRsZXQgc2Nyb2xsUGVybWlzaW9uO1xyXG5cdGNvbnN0IHNjcm9sbFZhbHVlID0gd2luZG93LnNjcm9sbFk7XHJcblx0Y29uc3QgcmF0ZSA9IHBhcnNlSW50KChzY3JvbGxWYWx1ZSAtIHNlY3Rpb25PZmZTZXQpIC8gMTApO1xyXG5cdGNvbnN0IGZpcnN0QW5jaG9yID0gc2VjdGlvbk9mZlNldCAtIG5hdkhlaWdodCA8PSBzY3JvbGxWYWx1ZTtcclxuXHJcblx0aWYgKGZpcnN0QW5jaG9yICYmICFzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnc3RhdGljJykpIHtcclxuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdwYXJhbGxheC1zdGlja3knKTtcclxuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XHJcblx0fSBlbHNlIHtcclxuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKTtcclxuXHR9XHJcblxyXG5cdGlmIChcclxuXHRcdCFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGlja3knKSAmJlxyXG5cdFx0IWZpcnN0U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3BhcmFsbGF4LXN0YXRpYycpXHJcblx0KSB7XHJcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcclxuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWA7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzZWNvbmRTZWN0aW9uUmVjdCA9IHNlY29uZFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0Y29uc3QgZmlyc3RTZWN0aW9uUmVjdCA9IGZpcnN0U2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRjb25zdCBzZWNvbmRTZWN0aW9uVG9wID0gc2Vjb25kU2VjdGlvblJlY3QudG9wO1xyXG5cdGNvbnN0IGZpcnN0U2VjdGlvblRvcCA9IGZpcnN0U2VjdGlvblJlY3QudG9wO1xyXG5cdGNvbnN0IHByaWNpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJpY2luZycpO1xyXG5cdGlmIChyYXRlID4gMTAwICYmIHNlY29uZFNlY3Rpb25Ub3AgPT09IGZpcnN0U2VjdGlvblRvcCkge1xyXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0aWNreScpO1xyXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0YXRpYycpO1xyXG5cdFx0c2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzdGF0aWMnKTtcclxuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlO1xyXG5cdFx0XHJcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLm1hcmdpblRvcCA9IGAzMDBweGBcclxuXHRcdGNvbnNvbGUubG9nKHByaWNpbmcub2Zmc2V0VG9wIC0gc2Vjb25kU2VjdGlvbi5vZmZzZXRUb3ApO1xyXG5cdFx0Y29uc29sZS5sb2coc2Vjb25kU2VjdGlvbi5vZmZzZXRUb3ApO1xyXG5cdFx0Y29uc29sZS5sb2cocHJpY2luZy5vZmZzZXRUb3ApO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XHJcblx0XHRcdGNvbnN0IHNlY29uZE9mZlNldCA9IHNlY29uZFNlY3Rpb24ub2Zmc2V0VG9wO1xyXG5cdFx0XHRpZiAoc2Vjb25kT2ZmU2V0IC0gbmF2SGVpZ2h0ID49IHNjcm9sbFZhbHVlKSB7XHJcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpO1xyXG5cdFx0XHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGF0aWMnKTtcclxuXHRcdFx0XHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3N0YXRpYycpO1xyXG5cdFx0XHRcdHNlY29uZFNlY3Rpb24uc3R5bGUubWFyZ2luVG9wID0gYDBgO1xyXG5cdFx0XHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xyXG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfSUpYDtcclxuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtyYXRlfSUpYDtcclxuXHR9XHJcblxyXG5cdC8vIGlmIChyYXRlID49IDEwMCkge1xyXG5cdC8vIFx0c2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdxdWljay1maXgnKTtcclxuXHQvLyB9IGVsc2UgaWYgKHJhdGUgPD0gMTAwKSB7XHJcblx0Ly8gXHRzZWNvbmRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3F1aWNrLWZpeCcpO1xyXG5cdC8vIH1cclxufTtcclxuXHJcbi8vIHBhcmFsbGF4IEl0ZW1zXHJcblxyXG5jb25zdCBwYXJhbGxheFRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3RlcmlzdGljcy1pdGVtJyk7XHJcbmNvbnN0IGhhbmRsZVBhcmFsbGF4SXRlbXMgPSAoZSkgPT4ge1xyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcclxuXHR9XHJcblx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpO1xyXG5cclxuXHRsZXQgeCA9IGUuY2xpZW50WDtcclxuXHRsZXQgeSA9IGUuY2xpZW50WTtcclxuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xyXG5cdGNvbnN0IG1pZGRsZVkgPSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyO1xyXG5cdGxldCBmaW5hbFggPSAobWlkZGxlWCAtIHgpIC8gNDA7XHJcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MDtcclxuXHJcblx0cGFyYWxsYXhUZXh0cy5mb3JFYWNoKCh0ZXh0KSA9PiB7XHJcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XHJcblx0XHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XHJcblx0XHR9XHJcblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcclxuXHJcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS15JywgYCR7ZmluYWxZfXB4YCk7XHJcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YCk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZVBhcmFsbGF4SXRlbXMpO1xyXG5zZWNvbmRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xyXG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xyXG5cdFx0dGV4dC5jbGFzc0xpc3QuYWRkKCdyZXNldC1wb3MnKTtcclxuXHRcdHRleHQuY2xhc3NMaXN0LnJlbW92ZSgnYWRkLXBvcycpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xyXG5cdGlmICh2aWV3cG9ydFdpZHRoIDw9IDc2OCkge1xyXG5cdFx0bmF2SGFuZGxlcigpO1xyXG5cdH1cclxufTtcclxuXHJcbnByb2Nlc3NCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlbmdlUHJvY2VzcykpO1xyXG5cclxuYWNjb3JkaW9ucy5mb3JFYWNoKChhY2NvcmRpb24pID0+XHJcblx0YWNjb3JkaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFjY29yZGlvbilcclxuKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0YWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIoZSk7XHJcblx0Y2FyZE91dHNpZGVIYW5kbGVyKGUpO1xyXG59KTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0aGVhZGVyUGFyYWxsYXhIYW5kbGVyKCk7XHJcblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKTtcclxuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcclxufSk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG5cdGxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPD0gNzY4KSB7XHJcblx0XHRuYXZIYW5kbGVyKCk7XHJcblx0fVxyXG5cdGlmICh2aWV3cG9ydFdpZHRoID49IDk5MikgcmV0dXJuO1xyXG5cdGNhcmRzQWN0aXZhdG9ySGFuZGxlcigpO1xyXG59KTtcclxuIl19
=======
"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function s(){n.classList.remove("active"),e.classList.remove("active")}var e=document.querySelector(".mobile-nav"),t=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),a=document.querySelector(".nav-list-background"),n=t.cloneNode(!0),t=(n.addEventListener("click",function(){console.log("reveal"),n.classList.toggle("active"),e.classList.toggle("active")}),t.replaceWith(n),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",s),e.replaceWith(t)}),a.cloneNode());t.addEventListener("click",s),a.replaceWith(t)},headerParallaxHandler=function(){var e,t,s;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.scrollY,t=.1*window.scrollY,s=e/100,introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),introBtn.style.opacity="".concat(.5/s),e>window.innerHeight?introBtn.style.display="none":introBtn.style.display="block")},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,s;viewport<992||(s=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+s.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+s.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(s.offsetHeight,"px)"),e<=(s=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=s||s<e)&&parallaxSection.classList.remove("fixed-pr"),t<=s&&(parallaxItems[0].style.transform="translateY(0)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(s-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(s-e,"px)")),window.scrollY<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=s&&(parallaxItems[1].style.transform="translateY(1000vh)"))},firstSection=document.querySelector(".processes"),firstSectionOffsetTop=firstSection.offsetTop,secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,s,o,a;viewportWidth<992||(t=(e=window.scrollY)-sectionOffSet,sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),a=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,document.createElement("div").style.height="100vh",viewportWidth<t&&s===o?(secondSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),a=!1,console.log(firstSectionOffsetTop+window.innerHeight),window.scrollTo({top:firstSectionOffsetTop+window.innerHeight-2*navHeight+1,behavior:"instant"})):a=!secondSection.classList.contains("static")||(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),window.scrollTo({top:firstSectionOffsetTop+viewportWidth,behavior:"instant"}),a=!0),!1),a&&(secondSection.style.transform="translateX(-".concat(t,"px)"),firstSection.style.transform="translateX(-".concat(t,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,s=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,a=(o-t)/40,n=(e-s)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(n,"px")),e.style.setProperty("--transform-x","".concat(a,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var e=window.innerWidth;e<=768&&navHandler(),992<=e||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsImUiLCJtbmF2SXRlbXMiLCJjbG9zZSIsImJ1cmdlckljb24iLCJvbGRCdXJnZXJJY29uIiwiY2xvbmVOb2RlIiwib2xkTmF2TGlzdEJhY2tncm91bmQiLCJyZXZlYWwiLCJjb25zb2xlIiwib2xkSXRlbSIsIm5hdkxpc3RCYWNrZ3JvdW5kIiwibG9nIiwicmVwbGFjZVdpdGgiLCJpdGVtIiwiaGVhZGVyUGFyYWxsYXhIYW5kbGVyIiwic2Nyb2xsWSIsInJhdGUiLCJzdHlsZSIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJjb25jYXQiLCJvcGFjaXR5VmFsdWUiLCJvZmZzZXRZIiwiaW5uZXJIZWlnaHQiLCJkaXNwbGF5IiwiY2xvc2VBbGxQcm9jZXNzZXMiLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NCdG5zIiwiYnRuIiwidGV4dENvbnRlbnQiLCJzZXRDb250ZW50IiwicHJvY2Vzc1RpdGxlIiwicGFyYWxsYXhTZWN0aW9uIiwicGFyYWxsYXhJdGVtcyIsIm5leHRTZWN0aW9uIiwiaW5uZXJXaWR0aCIsInByZXZTZWN0aW9uT2Zmc2V0IiwicHJldlNlY3Rpb24iLCJwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciIsInByb2plY3RzRGVza3RvcENudCIsInNlY3Rpb25IZWFkaW5nIiwic2Nyb2xsVG9wIiwiZmlyc3RBbmNob3JQb2ludCIsIm9mZnNldFRvcCIsInNlY29uZEFuY2hvclBvaW50Iiwidmlld3BvcnQiLCJvZmZzZXRIZWlnaHQiLCJzZWN0aW9uT2ZmU2V0IiwiZmlyc3RTZWN0aW9uIiwibmF2Iiwic2Nyb2xsUGVybWlzaW9uIiwiZmlyc3RBbmNob3IiLCJzZWNvbmRTZWN0aW9uIiwiZmlyc3RTZWN0aW9uT2Zmc2V0VG9wIiwic2Vjb25kU2VjdGlvblJlY3QiLCJmaXJzdFNlY3Rpb25SZWN0IiwiZHVtbXkiLCJzZWNvbmRTZWN0aW9uVG9wIiwiZmlyc3RTZWN0aW9uVG9wIiwiY3JlYXRlRWxlbWVudCIsInNjcm9sbFZhbHVlIiwidG9wIiwibmF2SGVpZ2h0IiwiaGVpZ2h0IiwiYmVoYXZpb3IiLCJwYXJhbGxheFRleHRzIiwiaGFuZGxlUGFyYWxsYXhJdGVtcyIsInRhcmdldCIsInRleHQiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwibWlkZGxlWCIsIm9mZnNldFdpZHRoIiwib25sb2FkIiwiZmluYWxZIiwiaGFuZGxlUGFyYWxsYXhTZWN0aW9uIiwic2V0UHJvcGVydHkiLCJmaW5hbFgiLCJjYXJkT3V0c2lkZUhhbmRsZXIiLCJuYXZIYW5kbGVyIiwiY2hlbmdlUHJvY2VzcyJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsaUJBQWlCLGFBQWEsRUFDbkRDLFNBQVdGLFNBQVNHLGNBQWMsWUFBWSxFQUQ5Q0osY0FBWUMsT0FBU0MsV0FFdkJHLE1BQUFBLFNBQWdCQyxpQkFBaUIsd0JBQUEsRUFJL0JDLHNCQUF3QixXQUM3QkMsTUFBS0MsUUFBUSxTQUFBQyxHQUNaQSxFQUFBQSxpQkFBS0MsUUFBd0IsV0FDNUJILE1BQUFBLFFBQU1DLFNBQUFBLEdBQ0xHLEVBQUFDLFVBQU9BLFNBQVVDLFFBQVMsR0FDekJGLEVBQUdDLFVBQUFBLE9BQVVFLFFBQU8sQ0FFdEIsQ0FBQyxFQUNETCxFQUFBQSxVQUFLRyxJQUFVRyxRQUFJLENBQ3BCLENBQUMsRUFFRE4sRUFDQ0YsaUJBQWMsV0FBTSxXQUFwQkEsTUFDQ0MsUUFBT0ksU0FBQUEsR0FBSEQsRUFDSEEsVUFBR0MsU0FBaUIsUUFBUSxHQUE1QkQsRUFDREMsVUFBQUUsT0FBQSxRQUFB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QkFBaUIsUUFBUyxTQUFBTSxHQUNoQ2dGLG1CQUFtQmhGLENBQUMsQ0FDckIsQ0FBQyxFQUVEWCxPQUFPSyxpQkFBaUIsU0FBVSxXQUNqQ29CLHNCQUFzQixFQUN0QndCLHdCQUF3QixFQUN4QnVDLHNCQUFzQixDQUN2QixDQUFDLEVBRUR4RixPQUFPSyxpQkFBaUIsU0FBVSxXQUNoQyxJQUFJTixFQUFnQkMsT0FBTzhDLFdBQ3hCL0MsR0FBaUIsS0FDbEI2RixXQUFXLEVBRU8sS0FBakI3RixHQUNKRSxzQkFBc0IsQ0FDdkIsQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludHJvVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyby10ZXh0JylcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpXG5sZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpXG5cbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcblx0Y2FyZHMuZm9yRWFjaChjYXJkID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHR9KVxuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0fSlcblx0fSlcbn1cblxuY29uc3QgY2FyZE91dHNpZGVIYW5kbGVyID0gZSA9PiB7XG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcblx0XHRjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdH0pXG5cdH1cbn1cblxuY29uc3QgbmF2SGFuZGxlciA9ICgpID0+IHtcbiAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYnKVxuICBjb25zdCBvbGRCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJylcbiAgY29uc3QgbW5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpXG4gIGNvbnN0IG9sZE5hdkxpc3RCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWJhY2tncm91bmQnKVxuICBjb25zdCByZXZlYWwgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3JldmVhbCcpO1xuICAgIGJ1cmdlckljb24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgfVxuICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICBidXJnZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgbmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gIH1cbiAgY29uc3QgYnVyZ2VySWNvbiA9IG9sZEJ1cmdlckljb24uY2xvbmVOb2RlKHRydWUpXG4gIGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZlYWwpXG4gIG9sZEJ1cmdlckljb24ucmVwbGFjZVdpdGgoYnVyZ2VySWNvbilcbiAgbW5hdkl0ZW1zLmZvckVhY2gob2xkSXRlbSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IG9sZEl0ZW0uY2xvbmVOb2RlKHRydWUpXG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKVxuICAgIG9sZEl0ZW0ucmVwbGFjZVdpdGgoaXRlbSlcbiAgfSlcbiAgY29uc3QgbmF2TGlzdEJhY2tncm91bmQgPSBvbGROYXZMaXN0QmFja2dyb3VuZC5jbG9uZU5vZGUoKVxuICBuYXZMaXN0QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKVxuICBvbGROYXZMaXN0QmFja2dyb3VuZC5yZXBsYWNlV2l0aChuYXZMaXN0QmFja2dyb3VuZClcbn1cblxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDc2OCkge1xuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJylcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRjb25zdCBvZmZzZXRZID0gd2luZG93LnNjcm9sbFlcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5zY3JvbGxZICogMC4xXG5cdGNvbnN0IG9wYWNpdHlWYWx1ZSA9IG9mZnNldFkgLyAxMDBcblxuXHRpbnRyb1RleHRbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNH1weClgXG5cdGludHJvVGV4dFsxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC0zfXB4KWBcblx0aW50cm9UZXh0WzJdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTZ9cHgpYFxuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxN31weClgXG5cdGludHJvVGV4dFs0XS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIC05fXB4KWBcblx0aW50cm9UZXh0WzVdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTcuNX1weClgXG5cblx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAkezAuNSAvIG9wYWNpdHlWYWx1ZX1gXG4gIGlmKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpe1xuICAgIGludHJvQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgfSBlbHNlIHtcbiAgICBpbnRyb0J0bi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICB9XG59XG5cbi8vIFByb2Nlc3NlcyAtIGFjY29yZGlvbnNcblxuXG4vLyBQcm9jZXNzZXMgLSBsaXN0XG5cbmNvbnN0IHByb2Nlc3NUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10aXRsZScpXG5cbmNvbnN0IHByb2Nlc3NUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRleHQnKVxuXG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJylcblxuY29uc3QgY2hlbmdlUHJvY2VzcyA9IGUgPT4ge1xuXHRjb25zdCBidG4gPSBlLnRhcmdldFxuXG5cdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgIHJldHVyblxuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKClcblx0XHRidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcblx0fVxuXHRzZXRDb250ZW50KClcbn1cblxuY29uc3QgY2xvc2VBbGxQcm9jZXNzZXMgPSAoKSA9PiB7XG5cdHByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSlcbn1cblxuY29uc3Qgc2V0Q29udGVudCA9ICgpID0+IHtcblx0aWYgKHByb2Nlc3NCdG5zWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5Pydcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdKYWsgd3lnbMSFZGEgcHJlemVudGFjamEgcHJvamVrdHU/J1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdDbyB0byBqZXN0IHphdHdpZXJkemVuaWU/J1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2V1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzNdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnV3lrb25hbmllIHByb2pla3R1ISdcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9lbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNgXG5cdH1cbn1cblxuLyogUFJPSkVDVFMgUEFSQUxMQVggKi9cblxuY29uc3QgcGFyYWxsYXhTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250JylcbmNvbnN0IHBhcmFsbGF4SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdHMtcGFyYWxsYXgnKVxuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKVxuY29uc3QgbmV4dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJylcbmxldCB2aWV3cG9ydCA9IHdpbmRvdy5pbm5lcldpZHRoXG5sZXQgcHJldlNlY3Rpb25PZmZzZXQgPSBwcmV2U2VjdGlvbi5vZmZzZXRUb3BcblxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuXG4gIGNvbnN0IHNlY3Rpb25IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzIC5zZWN0aW9uX19oZWFkaW5nJylcbiAgbGV0IGZpcnN0QW5jaG9yUG9pbnQgPSBwcmV2U2VjdGlvbk9mZnNldCArIHByZXZTZWN0aW9uLm9mZnNldEhlaWdodCArIHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodFxuICBsZXQgc2Vjb25kQW5jaG9yUG9pbnQgPSBuZXh0U2VjdGlvbi5vZmZzZXRUb3AgLSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQgLyAyXG4gIGNvbnN0IHByb2plY3RzRGVza3RvcENudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1kZXNrdG9wLWNudCcpXG4gIHByb2plY3RzRGVza3RvcENudC5zdHlsZS5oZWlnaHQgPSBgQ2FsYyg2MDB2aCArICR7c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0fXB4KWBcblxuXHRsZXQgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFlcblx0Ly8gbGV0IHNjcm9sbFRvQW5jaG9yID0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgbmV4dFNlY3Rpb24ub2Zmc2V0VG9wXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZC1wcicpXG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCB8fCBzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJylcblx0fVxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgwKWBcblx0fVxuXG5cdGlmIChwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmaXhlZC1wcicpKSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcblx0fVxuICBpZiAod2luZG93LnNjcm9sbFkgPCBmaXJzdEFuY2hvclBvaW50KXtcbiAgICBwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknXG4gICAgcGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJ1xuICB9XG5cblx0aWYgKCFwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCcuZml4ZWQtcHInKSAmJiBzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKDEwMDB2aClgXG5cdH1cbn1cblxuY29uc3QgZmlyc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpXG5jb25zdCBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wXG5jb25zdCBzZWNvbmRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpXG5jb25zdCBzZWN0aW9uT2ZmU2V0ID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcFxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpXG5jb25zdCBuYXZIZWlnaHQgPSBuYXYub2Zmc2V0SGVpZ2h0XG5jb25zdCBoYW5kbGVQYXJhbGxheFNlY3Rpb24gPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgOTkyKSByZXR1cm5cblx0bGV0IHNjcm9sbFBlcm1pc2lvblxuXHRjb25zdCBzY3JvbGxWYWx1ZSA9IHdpbmRvdy5zY3JvbGxZXG5cdGNvbnN0IHJhdGUgPSBzY3JvbGxWYWx1ZSAtIHNlY3Rpb25PZmZTZXRcblx0Y29uc3QgZmlyc3RBbmNob3IgPSBzZWN0aW9uT2ZmU2V0IC0gbmF2SGVpZ2h0IDw9IHNjcm9sbFZhbHVlXG5cdGlmIChmaXJzdEFuY2hvciAmJiAhc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZVxuXHR9IGVsc2Uge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKVxuXHR9XG5cblx0aWYgKCFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGlja3knKSAmJiAhZmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygncGFyYWxsYXgtc3RhdGljJykpIHtcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYFxuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWBcblx0fVxuXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25SZWN0ID0gc2Vjb25kU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRjb25zdCBmaXJzdFNlY3Rpb25SZWN0ID0gZmlyc3RTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25Ub3AgPSBzZWNvbmRTZWN0aW9uUmVjdC50b3Bcblx0Y29uc3QgZmlyc3RTZWN0aW9uVG9wID0gZmlyc3RTZWN0aW9uUmVjdC50b3BcbiAgY29uc3QgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBkdW1teS5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnXG5cdGlmIChyYXRlID4gdmlld3BvcnRXaWR0aCAmJiBzZWNvbmRTZWN0aW9uVG9wID09PSBmaXJzdFNlY3Rpb25Ub3ApIHtcbiAgICBzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLSR7dmlld3BvcnRXaWR0aH1weCwgMClgXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0aWNreScpXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0YXRpYycpXG5cdFx0c2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzdGF0aWMnKVxuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlXG4gICAgY29uc29sZS5sb2coZmlyc3RTZWN0aW9uT2Zmc2V0VG9wICsgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgLSBuYXZIZWlnaHQgKiAyICsgMSxcbiAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICB9KVxuXHR9IFxuICBlbHNlIHtcblx0XHRpZiAoc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0XHRjb25zdCBzZWNvbmRPZmZTZXQgPSBzZWNvbmRTZWN0aW9uLm9mZnNldFRvcFxuXHRcdFx0aWYgKHNlY29uZE9mZlNldCAtIG5hdkhlaWdodCA+PSBzY3JvbGxWYWx1ZSkge1xuXHRcdFx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RpY2t5Jylcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0YXRpYycpXG5cdFx0XHRcdHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnc3RhdGljJylcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICB0b3A6IGZpcnN0U2VjdGlvbk9mZnNldFRvcCArIHZpZXdwb3J0V2lkdGgsXG4gICAgICAgICAgYmVoYXZpb3I6ICdpbnN0YW50J1xuICAgICAgICB9KVxuXHRcdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlXG5cdFx0XHR9XG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSBmYWxzZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlXG5cdFx0fVxuXHR9XG5cblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgXG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9cHgpYFxuXHR9XG59XG5cbi8vIHBhcmFsbGF4IEl0ZW1zXG5cbmNvbnN0IHBhcmFsbGF4VGV4dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcmFjdGVyaXN0aWNzLWl0ZW0nKVxuY29uc3QgaGFuZGxlUGFyYWxsYXhJdGVtcyA9IGUgPT4ge1xuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpXG5cdH1cblx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpXG5cblx0bGV0IHggPSBlLmNsaWVudFhcblx0bGV0IHkgPSBlLmNsaWVudFlcblx0Y29uc3QgbWlkZGxlWCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMlxuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMlxuXHRsZXQgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDQwXG5cdGxldCBmaW5hbFkgPSAobWlkZGxlWSAtIHkpIC8gNDBcblxuXHRwYXJhbGxheFRleHRzLmZvckVhY2godGV4dCA9PiB7XG5cdFx0aWYgKHRleHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKVxuXHRcdH1cblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKVxuXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teScsIGAke2ZpbmFsWX1weGApXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teCcsIGAke2ZpbmFsWH1weGApXG5cdH0pXG59XG5cbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlUGFyYWxsYXhJdGVtcylcbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCh0ZXh0ID0+IHtcblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ3Jlc2V0LXBvcycpXG5cdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJylcblx0fSlcbn0pXG5cbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXG4gIGlmKHZpZXdwb3J0V2lkdGggPD0gNzY4KXtcbiAgICBuYXZIYW5kbGVyKClcbiAgfVxuICBwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpXG59XG5cbnByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0Y2FyZE91dHNpZGVIYW5kbGVyKGUpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKVxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICBsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gIGlmKHZpZXdwb3J0V2lkdGggPD0gNzY4KXtcbiAgICBuYXZIYW5kbGVyKClcbiAgfVxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVyblxuXHRjYXJkc0FjdGl2YXRvckhhbmRsZXIoKVxufSlcbiJdfQ==
>>>>>>> 577858d2c5d94134cbb46c8481ab661f2262ea9f
