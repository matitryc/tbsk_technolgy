"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function s(){n.classList.remove("active"),e.classList.remove("active")}var e=document.querySelector(".navbar"),t=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),a=document.querySelector(".nav-list-background"),n=t.cloneNode(!0),t=(n.addEventListener("click",function(){console.log("reveal"),n.classList.toggle("active"),e.classList.toggle("active")}),t.replaceWith(n),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",s),e.replaceWith(t)}),a.cloneNode());t.addEventListener("click",s),a.replaceWith(t)},headerParallaxHandler=function(){var e,t;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(t=window.scrollY,e=.1*window.scrollY,t=1/(t/100+1),introText[0].style.transform="translate(".concat(14*e,"px)"),introText[1].style.transform="translate(".concat(-3*e,"px)"),introText[2].style.transform="translate(".concat(16*e,"px)"),introText[3].style.transform="translate(".concat(17*e,"px)"),introText[4].style.transform="translate(".concat(-9*e,"px)"),introText[5].style.transform="translate(".concat(17.5*e,"px)"),introBtn.style.opacity="".concat(t),racoon.style.opacity="".concat(t))},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,s;viewport<992||(s=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+s.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+s.offsetHeight/2,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(s.offsetHeight,"px)"),e<=(s=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=s||s<e)&&parallaxSection.classList.remove("fixed-pr"),t<=s&&(parallaxItems[0].style.transform="translateY(0)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(s-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(s-e,"px)")),window.scrollY<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=s&&(parallaxItems[1].style.transform="translateY(1000vh)"))},firstSection=document.querySelector(".processes"),firstSectionOffsetTop=firstSection.offsetTop,secondSection=document.querySelector(".characteristics"),sectionOffSet=firstSection.offsetTop,nav=document.querySelector(".navbar"),navHeight=nav.offsetHeight,handleParallaxSection=function(){var e,t,s,o,a;viewportWidth<992||(t=(e=window.scrollY)-sectionOffSet,sectionOffSet-navHeight<=e&&!secondSection.classList.contains("static")?(firstSection.classList.add("parallax-sticky"),a=!0):firstSection.classList.remove("parallax-sticky"),firstSection.classList.contains("parallax-sticky")||firstSection.classList.contains("parallax-static")||(secondSection.style.transform="translateX(0)",firstSection.style.transform="translateX(0)"),s=secondSection.getBoundingClientRect(),o=firstSection.getBoundingClientRect(),s=s.top,o=o.top,document.createElement("div").style.height="100vh",viewportWidth<t&&s===o?(secondSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),firstSection.classList.remove("parallax-sticky"),firstSection.classList.add("parallax-static"),secondSection.classList.add("static"),a=!1,console.log(firstSectionOffsetTop+window.innerHeight),window.scrollTo({top:firstSectionOffsetTop+window.innerHeight-2*navHeight+1,behavior:"instant"})):a=!secondSection.classList.contains("static")||(e<=secondSection.offsetTop-navHeight&&(firstSection.classList.add("parallax-sticky"),firstSection.classList.remove("parallax-static"),secondSection.classList.remove("static"),window.scrollTo({top:firstSectionOffsetTop+viewportWidth,behavior:"instant"}),a=!0),!1),a&&(secondSection.style.transform="translateX(-".concat(t,"px)"),firstSection.style.transform="translateX(-".concat(t,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,s=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,a=(o-t)/40,n=(e-s)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(n,"px")),e.style.setProperty("--transform-x","".concat(a,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){var e=window.innerWidth;e<=768&&navHandler(),992<=e||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImNhcmRzQWN0aXZhdG9ySGFuZGxlciIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsImUiLCJtbmF2SXRlbXMiLCJjbG9zZSIsImJ1cmdlckljb24iLCJvbGRCdXJnZXJJY29uIiwiY2xvbmVOb2RlIiwib2xkTmF2TGlzdEJhY2tncm91bmQiLCJyZXZlYWwiLCJjb25zb2xlIiwib2xkSXRlbSIsIm5hdkxpc3RCYWNrZ3JvdW5kIiwibG9nIiwicmVwbGFjZVdpdGgiLCJpdGVtIiwiaGVhZGVyUGFyYWxsYXhIYW5kbGVyIiwic2Nyb2xsWSIsInJhdGUiLCJzdHlsZSIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJjb25jYXQiLCJvcGFjaXR5VmFsdWUiLCJyYWNvb24iLCJwcm9jZXNzVGl0bGUiLCJjbG9zZUFsbFByb2Nlc3NlcyIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0J0bnMiLCJidG4iLCJ0ZXh0Q29udGVudCIsInNldENvbnRlbnQiLCJwYXJhbGxheFNlY3Rpb24iLCJwYXJhbGxheEl0ZW1zIiwibmV4dFNlY3Rpb24iLCJpbm5lcldpZHRoIiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcmV2U2VjdGlvbiIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwicHJvamVjdHNEZXNrdG9wQ250Iiwic2VjdGlvbkhlYWRpbmciLCJzY3JvbGxUb3AiLCJmaXJzdEFuY2hvclBvaW50Iiwib2Zmc2V0VG9wIiwic2Vjb25kQW5jaG9yUG9pbnQiLCJ2aWV3cG9ydCIsIm9mZnNldEhlaWdodCIsInNlY3Rpb25PZmZTZXQiLCJmaXJzdFNlY3Rpb24iLCJuYXYiLCJzY3JvbGxQZXJtaXNpb24iLCJmaXJzdEFuY2hvciIsInNlY29uZFNlY3Rpb24iLCJmaXJzdFNlY3Rpb25PZmZzZXRUb3AiLCJzZWNvbmRTZWN0aW9uUmVjdCIsImZpcnN0U2VjdGlvblJlY3QiLCJkdW1teSIsInNlY29uZFNlY3Rpb25Ub3AiLCJmaXJzdFNlY3Rpb25Ub3AiLCJjcmVhdGVFbGVtZW50Iiwic2Nyb2xsVmFsdWUiLCJ0b3AiLCJuYXZIZWlnaHQiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImJlaGF2aW9yIiwicGFyYWxsYXhUZXh0cyIsImhhbmRsZVBhcmFsbGF4SXRlbXMiLCJ0YXJnZXQiLCJ0ZXh0IiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsIm1pZGRsZVgiLCJvZmZzZXRXaWR0aCIsIm9ubG9hZCIsImZpbmFsWSIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInNldFByb3BlcnR5IiwiZmluYWxYIiwiY2FyZE91dHNpZGVIYW5kbGVyIiwibmF2SGFuZGxlciIsImNoZW5nZVByb2Nlc3MiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFVBQVlDLFNBQVNDLGlCQUFpQixhQUFhLEVBQ25EQyxTQUFXRixTQUFTRyxjQUFjLFlBQVksRUFEOUNKLE9BQVNDLFNBQVdHLGNBQUNGLFNBQWlCLEVBQ3RDQyxjQUFXRixPQUFTRyxXQUV0QkMsTUFBQUEsU0FBZ0JDLGlCQUFpQix3QkFBQSxFQUkvQkMsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUFDLEdBQ1pBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FBVUUsUUFBTyxDQUV0QixDQUFDLEVBQ0RMLEVBQUFBLFVBQUtHLElBQVVHLFFBQUksQ0FDcEIsQ0FBQyxFQUVETixFQUNDRixpQkFBYyxXQUFNLFdBQXBCQSxNQUNDQyxRQUFPSSxTQUFBQSxHQUFIRCxFQUNIQSxVQUFHQyxTQUFpQixRQUFRLEdBQTVCRCxFQUNEQyxVQUFBRSxPQUFBLFFBQUEsQ0FDRCxDQUFDLEVBQ0RMLEVBQ0NHLFVBQUFHLElBQUEsUUFBQSxDQUNILENBQUMsQ0FDRCxDQUFBLENBRUQsRUFFRVIsbUJBQWMsU0FBQVMsR0FDYlAsRUFBQUEsT0FBS0csVUFBVUUsU0FBTyxNQUFTLEdBRGhDUCxNQUVFQyxRQUFBLFNBQUFDLEdBQ0hBLEVBQUFHLFVBQUFFLE9BQUEsUUFBQSxDQUNBLENBQUEsQ0FBRCxFQUtRRyxXQUFZakIsV0FVakIsU0FBQWtCLElBQ0RDLEVBQU1BLFVBQWFDLE9BQWEsUUFBQ0MsRUFDakNGLEVBQUFBLFVBQVdULE9BQUFBLFFBQWlCLENBQzVCVSxDQVpBLElBQU1FLEVBQUFBLFNBQW9CbkIsY0FBWUEsU0FBQUEsRUFDaENvQixFQUFBQSxTQUFlcEIsY0FBQSxjQUFBLEVBQ25CcUIsRUFBWXhCLFNBQVNDLGlCQUFBLGVBQUEsRUFDckJrQixFQUEyQm5CLFNBQVNHLGNBQUMsc0JBQUEsRUFVdkNjLEVBQWtCRyxFQUFBSyxVQUFXLENBQUEsQ0FBQSxFQVE5QkMsR0FWQ1AsRUFHWVQsaUJBQVdXLFFBVmRULFdBQ1JZLFFBQUFHLElBQUEsUUFBQSxFQUNEUixFQUFjUCxVQUFSTSxPQUFjLFFBQUEsRUFDbEJDLEVBQUFBLFVBQVdQLE9BQVVFLFFBQU8sQ0FGOUIsQ0FTc0MsRUFGdENNLEVBR09WLFlBQWlCUyxDQUFTRCxFQUZqQ0QsRUFHVVcsUUFBQUEsU0FBQUEsR0FDUixJQUFBQyxFQUFBSixFQUFBSixVQUFBLENBQUEsQ0FBQSxFQUNGUSxFQUFNSCxpQkFBb0JKLFFBQUFBLENBQUFBLEVBQzFCSSxFQUFBQSxZQUFrQmhCLENBQUFBLENBQ2xCWSxDQUFBQSxFQUNEQSxFQUFBRCxVQUFBLEdBRURLLEVBQU1JLGlCQUFBQSxRQUFBQSxDQUFBQSxFQUNMUixFQUFvQk0sWUFBS0YsQ0FBQSxDQUgxQixFQU1FSSxzQkFBQSxXQUhELElBYUEvQixFQUNBQSxFQVZBSyxjQUFBLElBRWdCQyxTQUFPMEIsY0FBTyxRQUFBLEVBQ3hCQyxVQUFPM0IsT0FBTzBCLE9BQVUsR0FLOUJoQyxFQUFha0MsT0FBTUMsUUFDbkJuQyxFQUE0QixHQUFoQk0sT0FBTzZCLFFBQ25CbkMsRUFBbUJtQyxHQUFBQSxFQUFTLElBQUEsR0FKNUJuQyxVQU9Ta0MsR0FBQUEsTUFBTUUsVUFBTyxhQUFBQyxPQUFvQixHQUFkQyxFQUFjLEtBQUEsRUFOMUN0QyxVQU9Ra0MsR0FBS0EsTUFBQ0UsVUFBT0MsYUFBQUEsT0FBb0IsQ0FBQSxFQUFkQyxFQUFjLEtBQUEsRUFDekN0QyxVQUFBLEdBQUFrQyxNQUFBQyxVQUFBLGFBQUFFLE9BQUEsR0FBQUosRUFBQSxLQUFBLEVBTkFqQyxVQUFVLEdBQUdrQyxNQUFNQyxVQUFTLGFBQUFFLE9BQXVCLEdBQVBKLEVBQVMsS0FBQSxFQVF0RGpDLFVBQUEsR0FBQWtDLE1BQUFDLFVBQUEsYUFBQUUsT0FBQSxDQUFBLEVBQUFKLEVBQUEsS0FBQSxFQU5DakMsVUFBVSxHQUFHa0MsTUFBTUMsVUFBUyxhQUFBRSxPQUF1QixLQUFQSixFQUFXLEtBQUEsRUFFdkQ5QixTQUFTK0IsTUFBTUUsUUFBTyxHQUFBQyxPQUFNQyxDQUFZLEVBU3pDQyxPQUFNQyxNQUFBQSxRQUFldkMsR0FBQUEsT0FBU0csQ0FBQUEsRUFFOUIsRUFVRXFDLGFBQWlCeEMsU0FBRUcsY0FBQSwwQkFBQSxFQUVwQnNDLFlBQUF6QyxTQUFBRyxjQUFBLHlCQUFBLEVBRUF1QyxZQUFBMUMsU0FBQUMsaUJBQUEsc0JBQUEsRUFHQXlDLGNBQW9CLFNBQUExQixHQUFHMkIsRUFBSUEsRUFBSS9CLE9BQy9CK0IsRUFBQS9CLFVBQUFDLFNBQUEsUUFBQSxJQVJDMkIsa0JBWWFJLEVBWGJELEVBWUFGLFVBQVlHLE9BQUFBLFFBQVcsRUFWeEJDLFdBWUNOLEVBWEYsRUFjRUEsa0JBQWFLLFdBWGRGLFlBWUNELFFBQVlHLFNBQUFBLEdBQUFBLE9BQVdELEVBQUEvQixVQUFBRSxPQUFBLFFBQUEsQ0FBQSxDQUFBLENBWHpCLEVBY0UyQixXQUFZRyxXQUNiRixZQUFBLEdBQUE5QixVQUFBQyxTQUFBLFFBQUEsR0FDQTBCLGFBQUFLLFlBQUEsMkJBWENILFlBQVlHLFlBQVcsMmRBYXpCRixZQUFBLEdBQUE5QixVQUFBQyxTQUFBLFFBQUEsR0FYRTBCLGFBQWFLLFlBQWMsb0NBYTdCSCxZQUFNSyxZQUFrQjlDLHNPQUNsQitDLFlBQWdCL0MsR0FBQUEsVUFBU0MsU0FBaUIsUUFBQSxHQUNoRHNDLGFBQWlCSyxZQUFZekMsNEJBQzdCc0MsWUFBTU8sWUFBY2hELGlVQUNSMEMsWUFBVU8sR0FBQUEsVUFBVXBDLFNBQUEsUUFBQSxJQUNoQzBCLGFBQUlXLFlBQW9CQyxzQkFFeEJWLFlBQU1XLFlBQUFBLG1uQkFYTixFQWlCRUMsZ0JBQW1CcEIsU0FBWTlCLGNBQUEsdUJBQW1CbUQsRUFFL0NDLGNBQVlsRCxTQUFPMEIsaUJBQU8sb0JBQUEsRUFDOUJvQixZQUFBbkQsU0FBQUcsY0FBQSxXQUFBLEVBQ0lvRCxZQUFhQyxTQUFBQSxjQUFrQixZQUFBLEVBQ2xDVixTQUFBQSxPQUFnQmxDLFdBQ2pCc0Msa0JBQUFDLFlBQUFNLFVBRUNYLHdCQUEwQmhDLFdBYjNCLElBZ0JDaUMsRUFDRFcsRUFLQUgsRUFSQUksU0FBQSxNQUNJSixFQUFhRyxTQUFBQSxjQUFtQiw2QkFBQSxFQUNuQ1gsRUFBaUJkLGtCQUFla0IsWUFBa0JTLGFBQUFOLEVBQUFNLGFBQ25ERixFQUFBVixZQUFBUyxVQUFBVCxZQUFBWSxhQUFBTixFQUFBTSxhQUFBLEVBRW9CaEQsU0FBVUMsY0FBb0IsdUJBQUUsRUFDbENvQixNQUFNQyxPQUFBQSxnQkFBQUEsT0FBU29CLEVBQXNCQyxhQUFZQyxLQUFBQSxFQUlsREEsSUFGakJELEVBQUFsRCxPQUFBMEIsVUFaQ2UsZ0JBZWdCbEMsVUFBU3NCLElBQUFBLFVBQVksR0FHakNZLEdBQUxTLEdBQStCMUMsRUFBUzJDLElBZnZDVixnQkFnQmNsQyxVQUFTc0IsT0FBQUEsVUFBUyxFQUVqQ3dCLEdBQUFILElBRURSLGNBQWtCLEdBQUcvQyxNQUFBQSxVQUFTRyxpQkFHeEIwRCxnQkFBZ0JDLFVBQUFBLFNBQWFMLFVBQVMsSUFDNUNWLGNBQVkvQyxHQUFTRyxNQUFBQSxVQUFjLG1CQUFBaUMsT0FBVW1CLEVBQUFDLEVBQUEsS0FBQSxFQUM3Q1QsY0FBa0JnQixHQUFHOUIsTUFBQzJCLFVBQVksa0JBQUF4QixPQUFBbUIsRUFBQUMsRUFBQSxLQUFBLEdBRTdCcEQsT0FBQUEsUUFBZ0JvRCxJQUNwQlQsY0FBSWlCLEdBQWUvQixNQUFBQyxVQUFBLGtCQUNuQmEsY0FBaUIsR0FBRzFDLE1BQU8wQixVQUFPLG1CQUdsQyxDQUFJa0MsZ0JBQWdCQyxVQUFBQSxTQUFjdEQsV0FBVUMsR0FBb0I2QyxHQUFYSCxJQWhCcERSLGNBaUJZLEdBQUNuQyxNQUFBQSxVQUFjLHNCQWY3QixFQW1CQ2tELGFBQUE5RCxTQUFBRyxjQUFBLFlBQUEsRUFFSWdFLHNCQUF3QnRELGFBQVM0QyxVQUNwQ1MsY0FBY2pDLFNBQU1DLGNBQVMsa0JBQWtCLEVBQy9DNEIsY0FBa0JBLGFBQVVMLFVBQzdCTSxJQUFBL0QsU0FBQUcsY0FBQSxTQUFBLEVBRU1pRSxVQUFBQSxJQUFBQSxhQUNBQyxzQkFBbUJQLFdBbEJ6QixJQXFCT1EsRUFDRHRDLEVBSEF1QyxFQUNBQyxFQWtETlIsRUFuREE1RCxjQUFNbUUsTUFHQXZDLEdBRENzQyxFQUFRdEUsT0FBU3lFLFNBQ0ZaLGNBQ1h6RCxjQUFpQm1FLFdBQWdCRyxHQUMzQnpDLENBQUFBLGNBQWVyQixVQUFBQyxTQUFBdUIsUUFBaUJoQyxHQWxCaEQwRCxhQW1CQUEsVUFBYWxELElBQVVFLGlCQUFPLEVBbEI5QmtELEVBbUJhcEQsQ0FBQUEsR0FqQmJrRCxhQW1CQUUsVUFBa0JsRCxPQUFLLGlCQUFBLEVBR25CNkQsYUFBS1IsVUFBQUEsU0FBd0I5RCxpQkFBa0IsR0FBR3VFLGFBQWlCaEUsVUFBQUMsU0FBQSxpQkFBQSxJQWxCdkVxRCxjQW1CY2pDLE1BQUFDLFVBQUEsZ0JBbEJkNEIsYUFtQkk3QixNQUFBQyxVQUFBLGlCQUlIa0MsRUFBcUJGLGNBQWNULHNCQUFTLEVBQzVDWSxFQUFtQk8sYUFBYUYsc0JBQWEsRUFuQnpDSCxFQW9CVTNELEVBQWMrRCxJQW5CeEJILEVBb0JVNUQsRUFBaUIrRCxJQUM5QlQsU0FBY3RELGNBQWlCLEtBQUEsRUFDM0JQLE1BQU13RSxPQUFTLFFBQ2JGLGNBcEJMM0MsR0FvQlVtQyxJQUF3Qi9ELEdBbkJuQzhELGNBb0JjakMsTUFBRUMsVUFBQSxjQUFBRSxPQUFBaEMsY0FBQSxRQUFBLEVBbkJsQjBELGFBb0JRbEQsVUFBQUUsT0FBQSxpQkFBQSxFQW5CUmdELGFBb0JFRSxVQUFlakQsSUFBRyxpQkFBSSxFQW5CeEJtRCxjQW9CQ3RELFVBQUFHLElBQUEsUUFBQSxFQW5CRGlELEVBb0JDQSxDQUFBQSxFQUNEeEMsUUFBT0csSUFBQXdDLHNCQUFBOUQsT0FBQXlFLFdBQUEsRUFuQkx6RSxPQW9CRDJELFNBQUFBLENBQ0RXLElBQUFSLHNCQUFBOUQsT0FBQXlFLFlBQUEsRUFBQUYsVUFBQSxFQUNERyxTQUFBLFNBRUEsQ0FBQSxHQWdCQWYsRUFiQUUsQ0FBQUEsY0FBQXRELFVBQUFDLFNBQUEsUUFBQSxJQW5Ca0M2RCxHQW9CbENSLGNBQUFULFVBcEJxQm1CLFlBc0J0QmQsYUFBQWxELFVBQUFHLElBQUEsaUJBQUEsRUFwQkkrQyxhQUFhbEQsVUFBVUUsT0FBTyxpQkFBaUIsRUFzQjdDa0UsY0FBYXBFLFVBQVdFLE9BQUNiLFFBQUFBLEVBQ3pCZ0YsT0FBQUEsU0FBbUIsQ0FDbEJDLElBQU90RSxzQkFBbUJSLGNBQzdCOEUsU0FBT3RFLFNBQ1YsQ0FBQSxFQUNFc0UsRUFBaUJuRSxDQUFBQSxHQUdGLENBQUEsR0FPaEJpRCxJQXRCQUUsY0F1Qk10RCxNQUFVRSxVQUFPLGVBQUFzQixPQUFZSixFQUFBLEtBQUEsRUF0Qm5DOEIsYUF1QkE3QixNQUFBQyxVQUFBLGVBQUFFLE9BQUFKLEVBQUEsS0FBQSxHQXJCRixFQTZCQWtDLGNBQWN4RCxTQUFpQlQsaUJBQWFnRix1QkFBb0IsRUFDaEVmLG9CQUFjeEQsU0FBQUEsR0FDYnNFLEVBQUFBLE9BQUFBLFVBQXNCbkUsU0FBQSxXQUFRLEdBeEI3QkcsRUF5QkFtRSxPQUFLdkUsVUFBVUcsT0FBSSxXQUFZLEVBdkJoQ0MsRUF5QkNrRSxPQUFDdEUsVUFBQUcsSUFBQSxTQUFBLEVBdkJGLElBQUlxRSxFQUFJcEUsRUFBRXFFLFFBMEJYQyxFQUFBdEUsRUFBQXVFLFFBeEJPQyxFQUFVeEUsRUFBRWtFLE9BQU9PLFlBQWMsRUEwQmpDQyxFQUFTMUUsRUFBQWtFLE9BQUF0QixhQUFNLEVBQ3JCOUIsR0FBQUEsRUFBdUJzRCxHQUFBLEdBQ3RCTyxHQUFHdkYsRUFBaUJrRixHQUFJLEdBdkJ6Qk4sY0F5QkN4RSxRQUFBLFNBQUEyRSxHQUNBL0IsRUFBQUEsVUFBQUEsU0FBeUIsV0FBQSxHQUMxQndDLEVBQUFBLFVBQUFBLE9BQXVCLFdBQUEsRUFHeEJsRCxFQUFBQSxVQUFZbEMsSUFBUSxTQUFBbUMsRUFBb0R3QyxFQUFBbEQsTUFBQTRELFlBQUEsZ0JBQUEsR0FBQXpELE9BQUF1RCxFQUFBLElBQUEsQ0FBQSxFQUV4RXRGLEVBQU9LLE1BQUFBLFlBQWlCLGdCQUFTLEdBQUEwQixPQUFDMEQsRUFBSSxJQUFBLENBQUEsQ0F4QnJDLENBeUJBQyxDQUNELEVBdkJBN0IsY0EwQkNwQyxpQkFBdUIsWUFBQW1ELG1CQUFBLEVBekJ4QmYsY0EwQkNkLGlCQUF5QixXQUFBLFdBekJ6QjRCLGNBMEJBWSxRQUFxQixTQUFBVCxHQUNwQkEsRUFBQXZFLFVBQUFHLElBQUEsV0FBQSxFQUVGVixFQUFPSyxVQUFBQSxPQUFpQixTQUFRLENBMUIvQixDQTJCQyxDQTFCRixDQUFDLEVBSURMLE9BMkJDQyxPQUFBQSxXQUNBd0Isc0JBQUMsRUExQkcxQixlQUFpQixLQUNsQjRGLFdBQVcsRUFFYjVDLHdCQUF3QixFQUN6QndDLHNCQUFzQixDQUN2QixFQUVBbEQsWUFBWWxDLFFBQVEsU0FBQW1DLEdBQUcsT0FBSUEsRUFBSWpDLGlCQUFpQixRQUFTdUYsYUFBYSxDQUFDLENBQUEsRUFFdkU1RixPQUFPSyxpQkFBaUIsUUFBUyxTQUFBTSxHQUNoQytFLG1CQUFtQi9FLENBQUMsQ0FDckIsQ0FBQyxFQUVEWCxPQUFPSyxpQkFBaUIsU0FBVSxXQUNqQ29CLHNCQUFzQixFQUN0QnNCLHdCQUF3QixFQUN4QndDLHNCQUFzQixDQUN2QixDQUFDLEVBRUR2RixPQUFPSyxpQkFBaUIsU0FBVSxXQUNoQyxJQUFJTixFQUFnQkMsT0FBTzRDLFdBQ3hCN0MsR0FBaUIsS0FDbEI0RixXQUFXLEVBRU8sS0FBakI1RixHQUNKRSxzQkFBc0IsQ0FDdkIsQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludHJvVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyby10ZXh0JylcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpXG5jb25zdCByYWNvb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmFjb29uJylcbmxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGhcblxuY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VydmljZXNfX2NhcmRzIC5jYXJkJylcblxuY29uc3QgY2FyZHNBY3RpdmF0b3JIYW5kbGVyID0gKCkgPT4ge1xuXHRjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRjYXJkcy5mb3JFYWNoKGVsID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdH0pXG5cblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHR9KVxuXHR9KVxufVxuXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSBlID0+IHtcblx0aWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQnKSkge1xuXHRcdGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdFx0fSlcblx0fVxufVxuXG5jb25zdCBuYXZIYW5kbGVyID0gKCkgPT4ge1xuICBjb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJylcbiAgY29uc3Qgb2xkQnVyZ2VySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItaWNvbicpXG4gIGNvbnN0IG1uYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtbmF2IGEnKVxuICBjb25zdCBvbGROYXZMaXN0QmFja2dyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbGlzdC1iYWNrZ3JvdW5kJylcbiAgY29uc3QgcmV2ZWFsID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdyZXZlYWwnKTtcbiAgICBidXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG4gICAgbmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG4gIH1cbiAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgYnVyZ2VySWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIG5hdmJhci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICB9XG4gIGNvbnN0IGJ1cmdlckljb24gPSBvbGRCdXJnZXJJY29uLmNsb25lTm9kZSh0cnVlKVxuICBidXJnZXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmV2ZWFsKVxuICBvbGRCdXJnZXJJY29uLnJlcGxhY2VXaXRoKGJ1cmdlckljb24pXG4gIG1uYXZJdGVtcy5mb3JFYWNoKG9sZEl0ZW0gPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSBvbGRJdGVtLmNsb25lTm9kZSh0cnVlKVxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSlcbiAgICBvbGRJdGVtLnJlcGxhY2VXaXRoKGl0ZW0pXG4gIH0pXG4gIGNvbnN0IG5hdkxpc3RCYWNrZ3JvdW5kID0gb2xkTmF2TGlzdEJhY2tncm91bmQuY2xvbmVOb2RlKClcbiAgbmF2TGlzdEJhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSlcbiAgb2xkTmF2TGlzdEJhY2tncm91bmQucmVwbGFjZVdpdGgobmF2TGlzdEJhY2tncm91bmQpXG59XG5cbmNvbnN0IGhlYWRlclBhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA3NjgpIHtcblx0XHRjb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpXG5cdFx0aW50cm8uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKVxuXHRcdHJldHVyblxuXHR9XG5cblx0Y29uc3Qgb2Zmc2V0WSA9IHdpbmRvdy5zY3JvbGxZXG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cuc2Nyb2xsWSAqIDAuMVxuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSAxIC8gKChvZmZzZXRZIC8gMTAwKSArIDEpXG5cblx0aW50cm9UZXh0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTR9cHgpYFxuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgXG5cdGludHJvVGV4dFsyXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE2fXB4KWBcblx0aW50cm9UZXh0WzNdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTd9cHgpYFxuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgXG5cdGludHJvVGV4dFs1XS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE3LjV9cHgpYFxuXG5cdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSBgJHtvcGFjaXR5VmFsdWV9YFxuICByYWNvb24uc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHlWYWx1ZX1gXG59XG5cbi8vIFByb2Nlc3NlcyAtIGFjY29yZGlvbnNcblxuXG4vLyBQcm9jZXNzZXMgLSBsaXN0XG5cbmNvbnN0IHByb2Nlc3NUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10aXRsZScpXG5cbmNvbnN0IHByb2Nlc3NUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRleHQnKVxuXG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJylcblxuY29uc3QgY2hlbmdlUHJvY2VzcyA9IGUgPT4ge1xuXHRjb25zdCBidG4gPSBlLnRhcmdldFxuXG5cdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgIHJldHVyblxuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKClcblx0XHRidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcblx0fVxuXHRzZXRDb250ZW50KClcbn1cblxuY29uc3QgY2xvc2VBbGxQcm9jZXNzZXMgPSAoKSA9PiB7XG5cdHByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSlcbn1cblxuY29uc3Qgc2V0Q29udGVudCA9ICgpID0+IHtcblx0aWYgKHByb2Nlc3NCdG5zWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5Pydcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdKYWsgd3lnbMSFZGEgcHJlemVudGFjamEgcHJvamVrdHU/J1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9gXG5cdH0gZWxzZSBpZiAocHJvY2Vzc0J0bnNbMl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9ICdDbyB0byBqZXN0IHphdHdpZXJkemVuaWU/J1xuXHRcdHByb2Nlc3NUZXh0LnRleHRDb250ZW50ID0gYExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDdW1xdWUgbmFtIGRvbG9yZSB2b2x1cHRhdGUgcXVpc3F1YW0gZXN0IGltcGVkaXQgbW9sZXN0aWFlIGxhYm9yaW9zYW0sIHVuZGUgcmVwcmVoZW5kZXJpdCB1bGxhbSwgbmVzY2l1bnQgbm9iaXMgcmVwZWxsYXQgcmVwZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2V1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzNdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnV3lrb25hbmllIHByb2pla3R1ISdcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIENvbnNlcXVhdHVyIG9mZmljaWlzIHNhZXBlLCBjdW1xdWUgcGxhY2VhdCwgcG9zc2ltdXMgY29uc2VjdGV0dXIsIHRlbmV0dXIgdm9sdXB0YXMgZXN0IGlsbG8gbm9iaXMgaGFydW0gcHJhZXNlbnRpdW0gYXNwZXJpb3JlcyEgQ3VtcXVlIGF1dGVtIG9kaXQgdmVuaWFtLCB0ZW5ldHVyIGlsbG8gdGVtcG9yYT9lbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNgXG5cdH1cbn1cblxuLyogUFJPSkVDVFMgUEFSQUxMQVggKi9cblxuY29uc3QgcGFyYWxsYXhTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250JylcbmNvbnN0IHBhcmFsbGF4SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdHMtcGFyYWxsYXgnKVxuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKVxuY29uc3QgbmV4dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJylcbmxldCB2aWV3cG9ydCA9IHdpbmRvdy5pbm5lcldpZHRoXG5sZXQgcHJldlNlY3Rpb25PZmZzZXQgPSBwcmV2U2VjdGlvbi5vZmZzZXRUb3BcblxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuXG4gIGNvbnN0IHNlY3Rpb25IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzIC5zZWN0aW9uX19oZWFkaW5nJylcbiAgbGV0IGZpcnN0QW5jaG9yUG9pbnQgPSBwcmV2U2VjdGlvbk9mZnNldCArIHByZXZTZWN0aW9uLm9mZnNldEhlaWdodCArIHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodFxuICBsZXQgc2Vjb25kQW5jaG9yUG9pbnQgPSBuZXh0U2VjdGlvbi5vZmZzZXRUb3AgLSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQgLyAyXG4gIGNvbnN0IHByb2plY3RzRGVza3RvcENudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1kZXNrdG9wLWNudCcpXG4gIHByb2plY3RzRGVza3RvcENudC5zdHlsZS5oZWlnaHQgPSBgQ2FsYyg2MDB2aCArICR7c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0fXB4KWBcblxuXHRsZXQgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFlcblx0Ly8gbGV0IHNjcm9sbFRvQW5jaG9yID0gbmV4dFNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICsgbmV4dFNlY3Rpb24ub2Zmc2V0VG9wXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZC1wcicpXG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCB8fCBzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJylcblx0fVxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgwKWBcblx0fVxuXG5cdGlmIChwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmaXhlZC1wcicpKSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcblx0fVxuICBpZiAod2luZG93LnNjcm9sbFkgPCBmaXJzdEFuY2hvclBvaW50KXtcbiAgICBwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknXG4gICAgcGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJ1xuICB9XG5cblx0aWYgKCFwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCcuZml4ZWQtcHInKSAmJiBzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKDEwMDB2aClgXG5cdH1cbn1cblxuY29uc3QgZmlyc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpXG5jb25zdCBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wXG5jb25zdCBzZWNvbmRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpXG5jb25zdCBzZWN0aW9uT2ZmU2V0ID0gZmlyc3RTZWN0aW9uLm9mZnNldFRvcFxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpXG5jb25zdCBuYXZIZWlnaHQgPSBuYXYub2Zmc2V0SGVpZ2h0XG5jb25zdCBoYW5kbGVQYXJhbGxheFNlY3Rpb24gPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgOTkyKSByZXR1cm5cblx0bGV0IHNjcm9sbFBlcm1pc2lvblxuXHRjb25zdCBzY3JvbGxWYWx1ZSA9IHdpbmRvdy5zY3JvbGxZXG5cdGNvbnN0IHJhdGUgPSBzY3JvbGxWYWx1ZSAtIHNlY3Rpb25PZmZTZXRcblx0Y29uc3QgZmlyc3RBbmNob3IgPSBzZWN0aW9uT2ZmU2V0IC0gbmF2SGVpZ2h0IDw9IHNjcm9sbFZhbHVlXG5cdGlmIChmaXJzdEFuY2hvciAmJiAhc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0aWNreScpXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZVxuXHR9IGVsc2Uge1xuXHRcdGZpcnN0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwYXJhbGxheC1zdGlja3knKVxuXHR9XG5cblx0aWYgKCFmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwYXJhbGxheC1zdGlja3knKSAmJiAhZmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygncGFyYWxsYXgtc3RhdGljJykpIHtcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYFxuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwKWBcblx0fVxuXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25SZWN0ID0gc2Vjb25kU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRjb25zdCBmaXJzdFNlY3Rpb25SZWN0ID0gZmlyc3RTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdGNvbnN0IHNlY29uZFNlY3Rpb25Ub3AgPSBzZWNvbmRTZWN0aW9uUmVjdC50b3Bcblx0Y29uc3QgZmlyc3RTZWN0aW9uVG9wID0gZmlyc3RTZWN0aW9uUmVjdC50b3BcbiAgY29uc3QgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBkdW1teS5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnXG5cdGlmIChyYXRlID4gdmlld3BvcnRXaWR0aCAmJiBzZWNvbmRTZWN0aW9uVG9wID09PSBmaXJzdFNlY3Rpb25Ub3ApIHtcbiAgICBzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLSR7dmlld3BvcnRXaWR0aH1weCwgMClgXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0aWNreScpXG5cdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3BhcmFsbGF4LXN0YXRpYycpXG5cdFx0c2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzdGF0aWMnKVxuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IGZhbHNlXG4gICAgY29uc29sZS5sb2coZmlyc3RTZWN0aW9uT2Zmc2V0VG9wICsgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBmaXJzdFNlY3Rpb25PZmZzZXRUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgLSBuYXZIZWlnaHQgKiAyICsgMSxcbiAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICB9KVxuXHR9IFxuICBlbHNlIHtcblx0XHRpZiAoc2Vjb25kU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXRpYycpKSB7XG5cdFx0XHRjb25zdCBzZWNvbmRPZmZTZXQgPSBzZWNvbmRTZWN0aW9uLm9mZnNldFRvcFxuXHRcdFx0aWYgKHNlY29uZE9mZlNldCAtIG5hdkhlaWdodCA+PSBzY3JvbGxWYWx1ZSkge1xuXHRcdFx0XHRmaXJzdFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncGFyYWxsYXgtc3RpY2t5Jylcblx0XHRcdFx0Zmlyc3RTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BhcmFsbGF4LXN0YXRpYycpXG5cdFx0XHRcdHNlY29uZFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnc3RhdGljJylcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICB0b3A6IGZpcnN0U2VjdGlvbk9mZnNldFRvcCArIHZpZXdwb3J0V2lkdGgsXG4gICAgICAgICAgYmVoYXZpb3I6ICdpbnN0YW50J1xuICAgICAgICB9KVxuXHRcdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlXG5cdFx0XHR9XG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSBmYWxzZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzY3JvbGxQZXJtaXNpb24gPSB0cnVlXG5cdFx0fVxuXHR9XG5cblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgXG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9cHgpYFxuXHR9XG59XG5cbi8vIHBhcmFsbGF4IEl0ZW1zXG5cbmNvbnN0IHBhcmFsbGF4VGV4dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcmFjdGVyaXN0aWNzLWl0ZW0nKVxuY29uc3QgaGFuZGxlUGFyYWxsYXhJdGVtcyA9IGUgPT4ge1xuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpXG5cdH1cblx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWRkLXBvcycpXG5cblx0bGV0IHggPSBlLmNsaWVudFhcblx0bGV0IHkgPSBlLmNsaWVudFlcblx0Y29uc3QgbWlkZGxlWCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMlxuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMlxuXHRsZXQgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDQwXG5cdGxldCBmaW5hbFkgPSAobWlkZGxlWSAtIHkpIC8gNDBcblxuXHRwYXJhbGxheFRleHRzLmZvckVhY2godGV4dCA9PiB7XG5cdFx0aWYgKHRleHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xuXHRcdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKVxuXHRcdH1cblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKVxuXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teScsIGAke2ZpbmFsWX1weGApXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teCcsIGAke2ZpbmFsWH1weGApXG5cdH0pXG59XG5cbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlUGFyYWxsYXhJdGVtcylcbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCh0ZXh0ID0+IHtcblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ3Jlc2V0LXBvcycpXG5cdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJylcblx0fSlcbn0pXG5cbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXG4gIGlmKHZpZXdwb3J0V2lkdGggPD0gNzY4KXtcbiAgICBuYXZIYW5kbGVyKClcbiAgfVxuICBwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpXG59XG5cbnByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0Y2FyZE91dHNpZGVIYW5kbGVyKGUpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKVxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICBsZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gIGlmKHZpZXdwb3J0V2lkdGggPD0gNzY4KXtcbiAgICBuYXZIYW5kbGVyKClcbiAgfVxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVyblxuXHRjYXJkc0FjdGl2YXRvckhhbmRsZXIoKVxufSlcbiJdfQ==
