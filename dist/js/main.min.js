"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),nav=document.querySelector(".navbar"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function o(){s.classList.remove("active"),t.classList.remove("active"),n.setAttribute("aria-expanded","false")}var t=document.querySelector(".navbar"),e=document.querySelector(".burger-icon"),a=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".mobile-nav .nav-list"),r=document.querySelector(".nav-list-background"),s=e.cloneNode(!0),e=(s.addEventListener("click",function(){s.classList.toggle("active"),t.classList.toggle("active");var e="false"!=(e=n.getAttribute("aria-expanded"));n.setAttribute("aria-expanded",!e)}),e.replaceWith(s),a.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",o),e.replaceWith(t)}),r.cloneNode());e.addEventListener("click",o),r.replaceWith(e)},headerParallaxHandler=function(){var e,t,o;viewportWidth<768?(document.querySelector(".intro").classList.remove("fixed"),introBtn.style.opacity="1",racoon.style.opacity="1",introText.forEach(function(e){e.style.transform="translate(0, 0)"})):(e=window.scrollY,t=.1*window.scrollY,o=1/(e/100+1),introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),e>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(o),racoon.style.opacity="".concat(o),intro.style.pointerEvents="all",intro.style.opacity="1"))},processesInfo=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){for(var e=0;e<processesInfo.length;e++)if(processBtns[e].classList.contains("active"))return processTitle.textContent=processesInfo[e].heading,void(processText.textContent=processesInfo[e].text)},prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),projectsParallaxHandler=function(){var e,t,o,a,n;viewportWidth<992?nextSection.style.transform="translate(0, 0)":(e=document.querySelector(".projects-desktop-cnt"),t=document.querySelectorAll(".projects-parallax"),o=prevSection.offsetTop,n=document.querySelector(".projects .section__heading"),o=o+prevSection.offsetHeight+n.offsetHeight+nav.offsetHeight,a=nextSection.offsetTop-nextSection.offsetHeight+n.offsetHeight,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(n.offsetHeight,"px)"),o<=(n=window.scrollY)&&e.classList.add("fixed-pr"),(a<=n||n<o)&&e.classList.remove("fixed-pr"),a<=n&&(t[0].style.transform="translate(0, 0)",t[1].style.transform="translate(0, 4200px)"),e.classList.contains("fixed-pr")&&(t[0].style.transform="translate(0px, -".concat(n-o,"px)"),t[1].style.transform="translate(0px, ".concat(n-o,"px)")),n<o&&(t[0].style.transform="translate(0, 0)",t[1].style.transform="translate(0, 0)"),!e.classList.contains(".fixed-pr")&&a<=n&&(t[1].style.transform="translateY(200vh)"))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),parallaxHero=document.querySelector(".parallax-hero"),handleParallaxSection=function(){var e,t,o;viewportWidth<992?(secondSection.style.transform="translate(0, 0)",parallaxHero.style.height="0"):(o=firstSection.offsetTop,t=nav.offsetHeight,parallaxHero.style.height="".concat(viewportWidth+t-window.innerHeight,"px"),o=window.scrollY-o,viewportWidth<o?(e=!1,firstSection.style.transform="translate(-".concat(viewportWidth,"px, ").concat(viewportWidth,"px)"),secondSection.style.transform="translate(0, ".concat(viewportWidth-window.innerHeight+t,"px)")):o<=0?(e=!1,firstSection.style.transform="translate(0, 0)",secondSection.style.transform="translate(100%, -100%)"):e=!0,e&&(firstSection.style.transform="translate(-".concat(o,"px, ").concat(o,"px)"),secondSection.style.transform="translate(Calc(100% - ".concat(o,"px), Calc(-100% + ").concat(o,"px))")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,o=e.clientY,a=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(a-t)/40,r=(e-o)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(r,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){viewportWidth=window.innerWidth,headerParallaxHandler(),viewportWidth<=768&&navHandler(),992<=viewportWidth||(projectsParallaxHandler(),cardsActivatorHandler())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwiaW50cm8iLCJ3aW5kb3ciLCJ2aWV3cG9ydFdpZHRoIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIiwiY2FyZHMiLCJmb3JFYWNoIiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwibW5hdkl0ZW1zIiwiY2xvc2UiLCJidXJnZXJJY29uIiwib2xkQnVyZ2VySWNvbiIsImNsb25lTm9kZSIsInJlcGxhY2VXaXRoIiwibmF2TGlzdCIsIm9sZE5hdkxpc3RCYWNrZ3JvdW5kIiwicmV2ZWFsIiwidG9nZ2xlIiwibmF2YmFyIiwib2xkSXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsImlzRXhwYW5kZWQiLCJnZXRBdHRyaWJ1dGUiLCJpdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsIm9wYWNpdHkiLCJ0ZXh0IiwicmF0ZSIsInBvaW50ZXJFdmVudHMiLCJjb25jYXQiLCJvcGFjaXR5VmFsdWUiLCJvZmZzZXRZIiwiaW5uZXJIZWlnaHQiLCJwcm9jZXNzZXNJbmZvIiwiaGVhZGluZyIsImJ1dHRvbiIsInByb2Nlc3NUaXRsZSIsImNoZW5nZVByb2Nlc3MiLCJidG4iLCJjbG9zZUFsbFByb2Nlc3NlcyIsInByb2Nlc3NCdG5zIiwiZSIsInRhcmdldCIsImxlbmd0aCIsInRleHRDb250ZW50Iiwic2V0Q29udGVudCIsInByZXZTZWN0aW9uIiwibmV4dFNlY3Rpb24iLCJpIiwicHJvY2Vzc1RleHQiLCJwYXJhbGxheFNlY3Rpb24iLCJwcm9qZWN0c0Rlc2t0b3BDbnQiLCJoZWlnaHQiLCJzY3JvbGxUb3AiLCJzY3JvbGxZIiwiZmlyc3RBbmNob3JQb2ludCIsInNlY29uZEFuY2hvclBvaW50IiwicGFyYWxsYXhJdGVtcyIsIm9mZnNldFRvcCIsInByZXZTZWN0aW9uT2Zmc2V0Iiwic2VjdGlvbkhlYWRpbmciLCJvZmZzZXRIZWlnaHQiLCJuYXYiLCJwYXJhbGxheEhlcm8iLCJoYW5kbGVQYXJhbGxheFNlY3Rpb24iLCJzZWNvbmRTZWN0aW9uIiwiZmlyc3RTZWN0aW9uIiwic2Nyb2xsVmFsdWUiLCJzZWN0aW9uT2ZmU2V0Iiwic2Nyb2xsUGVybWlzaW9uIiwiaGFuZGxlUGFyYWxsYXhJdGVtcyIsIm1pZGRsZVkiLCJtaWRkbGVYIiwieCIsInNldFByb3BlcnR5IiwibmF2SGVpZ2h0IiwicGFyYWxsYXhUZXh0cyIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwiY2FyZE91dHNpZGVIYW5kbGVyIiwieSIsImNsaWVudFkiLCJvZmZzZXRXaWR0aCIsImlubmVyV2lkdGgiLCJuYXZIYW5kbGVyIiwiZmluYWxZIiwiZmluYWxYIiwib25sb2FkIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxpQkFBaUIsYUFBYSxFQUNuREMsU0FBV0YsU0FBU0csY0FBYyxZQUFZLEVBRDlDSixPQUFTQyxTQUFXRyxjQUFDRixTQUFpQixFQUN0Q0MsTUFBUUYsU0FBV0csY0FBYyxRQUFDLEVBQ2xDQyxJQUFNSixTQUFXRyxjQUFjLFNBQUMsRUFDaENFLGNBQWdCQyxPQUFDSCxXQUVuQkksTUFBQUEsU0FBZ0JELGlCQUFpQix3QkFBQSxFQUkvQkUsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUNDLEdBQ2JBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FBVUUsUUFBTyxDQUV0QixDQUFDLEVBQ0RMLEVBQUFBLFVBQUtHLElBQVVHLFFBQUksQ0FDcEIsQ0FBQyxFQUVETixFQUNDRixpQkFBYyxXQUFRLFdBQXRCQSxNQUNDQyxRQUFPSSxTQUFBQSxHQUFIRCxF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dEIsQ0FBQyxFQUVEdEUsT0FBT00saUJBQWlCLFNBQVUsV0FDakNMLGNBQWdCRCxPQUFPd0YsV0FDdEJoRSxzQkFBcUIsRUFDbEJ2QixlQUFpQixLQUNwQndGLFdBQVUsRUFFVSxLQUFqQnhGLGdCQUNIa0Ysd0JBQXVCLEVBQ3hCakYsc0JBQXFCLEVBQ3RCLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpO1xyXG5jb25zdCBpbnRyb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyby1idG4nKTtcclxuY29uc3QgcmFjb29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhY29vbicpO1xyXG5jb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpO1xyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XHJcbmxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG5jb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlc19fY2FyZHMgLmNhcmQnKTtcclxuXHJcbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcclxuXHRjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRjYXJkcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcclxuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgY2FyZE91dHNpZGVIYW5kbGVyID0gKGUpID0+IHtcclxuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XHJcblx0XHRjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcblx0XHRcdGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBuYXZIYW5kbGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcclxuXHRjb25zdCBvbGRCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJyk7XHJcblx0Y29uc3QgbW5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpO1xyXG4gIGNvbnN0IG5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW5hdiAubmF2LWxpc3QnKVxyXG5cdGNvbnN0IG9sZE5hdkxpc3RCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWJhY2tncm91bmQnKTtcclxuXHRjb25zdCByZXZlYWwgPSAoKSA9PiB7XHJcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgbGV0IGlzRXhwYW5kZWQgPSBuYXZMaXN0LmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpXHJcbiAgICBpZihpc0V4cGFuZGVkID09ICdmYWxzZScpe1xyXG4gICAgICBpc0V4cGFuZGVkID0gZmFsc2VcclxuICAgIH0gXHJcbiAgICBlbHNlIHtcclxuICAgICAgaXNFeHBhbmRlZCA9IHRydWVcclxuICAgIH1cclxuICAgIG5hdkxpc3Quc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgIWlzRXhwYW5kZWQpXHJcblx0fTtcclxuXHRjb25zdCBjbG9zZSA9ICgpID0+IHtcclxuXHRcdGJ1cmdlckljb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICBuYXZMaXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXHJcblx0fTtcclxuXHRjb25zdCBidXJnZXJJY29uID0gb2xkQnVyZ2VySWNvbi5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0YnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJldmVhbCk7XHJcblx0b2xkQnVyZ2VySWNvbi5yZXBsYWNlV2l0aChidXJnZXJJY29uKTtcclxuXHRtbmF2SXRlbXMuZm9yRWFjaCgob2xkSXRlbSkgPT4ge1xyXG5cdFx0Y29uc3QgaXRlbSA9IG9sZEl0ZW0uY2xvbmVOb2RlKHRydWUpO1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKTtcclxuXHRcdG9sZEl0ZW0ucmVwbGFjZVdpdGgoaXRlbSk7XHJcblx0fSk7XHJcblx0Y29uc3QgbmF2TGlzdEJhY2tncm91bmQgPSBvbGROYXZMaXN0QmFja2dyb3VuZC5jbG9uZU5vZGUoKTtcclxuXHRuYXZMaXN0QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKTtcclxuXHRvbGROYXZMaXN0QmFja2dyb3VuZC5yZXBsYWNlV2l0aChuYXZMaXN0QmFja2dyb3VuZCk7XHJcbn07XHJcblxyXG5jb25zdCBoZWFkZXJQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA3NjgpIHtcclxuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJyk7XHJcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpO1xyXG4gICAgaW50cm9CdG4uc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgcmFjb29uLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgIGludHJvVGV4dC5mb3JFYWNoKHRleHQgPT4ge1xyXG4gICAgICB0ZXh0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknXHJcbiAgICB9KVxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Y29uc3Qgb2Zmc2V0WSA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cuc2Nyb2xsWSAqIDAuMTtcclxuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSAxIC8gKG9mZnNldFkgLyAxMDAgKyAxKTtcclxuXHJcblx0aW50cm9UZXh0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTR9cHgpYDtcclxuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgO1xyXG5cdGludHJvVGV4dFsyXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE2fXB4KWA7XHJcblx0aW50cm9UZXh0WzNdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogMTd9cHgpYDtcclxuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgO1xyXG5cdGludHJvVGV4dFs1XS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDE3LjV9cHgpYDtcclxuXHJcblx0aWYgKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuXHRcdGludHJvLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XHJcblx0XHRpbnRyby5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpbnRyb0J0bi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWA7XHJcblx0XHRyYWNvb24uc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHlWYWx1ZX1gO1xyXG5cdFx0aW50cm8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnO1xyXG5cdFx0aW50cm8uc3R5bGUub3BhY2l0eSA9ICcxJztcclxuXHR9XHJcbn07XHJcblxyXG4vLyBQcm9jZXNzZXMgLSBsaXN0XHJcbmNvbnN0IHByb2Nlc3Nlc0luZm8gPSBbXHJcblx0e1xyXG5cdFx0aGVhZGluZzogJ0phayBwcnplYmllZ2FqxIUgcm96bW93eT8nLFxyXG5cdFx0dGV4dDogJ1phY3p5bmFteSBvZCBva3JlxZtsZW5pYSDFm3dpYWRjem9uZWogdXPFgnVnaS4gSmXFvGVsaSBqZXN0IHRvIGJ1ZG93YSBsdWIgcHJvamVrdG93YW5pZSwgdG8gcHl0YW15IGN6eSBpc3RuaWVqZSBqYWtpZcWbIGxvZ28sIGLEhWTFuiB3aXp5dMOzd2thIGZpcm15LiBOYXN0xJlwbmllIHphcHl0YW15IG8gdHJlxZtjaSwga3TDs3JlIG1pYcWCeWJ5IHNpxJkgem5hbGXFusSHIG5hIHN0cm9uaWUuIE5hIHBvZHN0YXdpZSB0ZWdvIHR3b3J6eW15IHd5xYLEhWN6bmllIHN0cnVrdHVyxJkgaSB3eWNlbmlhbXkgcHJvamVrdC4gTmFzdMSZcG5pZSB6YWN6eW5hbXkgcHJvamVrdG93YcSHLicsXHJcblx0XHRidXR0b246ICdLb25zdWx0YWNqYScsXHJcblx0fSxcclxuXHR7XHJcblx0XHRoZWFkaW5nOiAnSmFrIHd5Z2zEhWRhIHByZXplbnRhY2phIHByb2pla3R1PycsXHJcblx0XHR0ZXh0OiAnUG8gc2tvxYRjemVuaXUgcHJvamVrdHUgc3Ryb255LCBwcnplZHN0YXdpYW15IGdvIFRvYmllIGRvIG9jZW5pZW5pYS4gV3RlZHkgcHJ6eWptdWplbXkgd3N6ZWxraWUgdXdhZ2kgZG90LiBkb2JvcnUga29sb3LDs3csIGJ1ZG93eSBzZWtjamkgaXRkLiBUxYJ1bWFjenlteSB0ZcW8LCBjemVtdSBwZXduZSBlbGVtZW50eSBtdXN6xIUgemF3aWVyYcSHIG5pZWt0w7NyZSBjZWNoeS4gUMOzxbpuaWVqIG5hbm9zaW15IHdzemVsa2llIHptaWFueS4nLFxyXG5cdFx0YnV0dG9uOiAnUHJlemVudGFjamEnLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0aGVhZGluZzogJ0N6eW0gamVzdCBldGFwIHphdHdpZXJkemVuaWE/JyxcclxuXHRcdHRleHQ6ICdUbyBrcm9rLCB3IGt0w7NyeW0gZGVjeWR1amVzeiBzacSZIG5hIHBvZGrEmWNpZSBsdWIgb2RyenVjZW5pZSBuYXN6eWNoIHVzxYJ1Zy4gSmXFvGVsaSB6bGVjaXN6IG5hbSBzdHdvcnplbmllIHN0cm9ueSwgdG8gcHJ6ZWthxbxlbXkgQ2kgaWxlIHByYXdkb3BvZG9ibmllIHpham1pZSB0byBuYW0gY3phc3UuIERvZGF0a293byBixJlkemllbXkgcG90cnplYm93YWxpIGRva8WCYWRueWNoIHRyZcWbY2ksIGt0w7NyZSBtYWrEhSBzacSZIGZpbmFsbmllIHpuYWxlxbrEhyBuYSBUd29qZWogd2l0cnluaWUuJyxcclxuXHRcdGJ1dHRvbjogJ1phdHdpZXJkemVuaWUnLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0aGVhZGluZzogJ1d5a29uYW5pZSBwcm9qZWt0dSEnLFxyXG5cdFx0dGV4dDogJ1RlbiBrcm9rIHpvc3RhdyBuYW0hIE9kIHJhenUgemFiaWVyemVteSBzacSZIGRvIHR3b3J6ZW5pYSBUd29qZWogd3ltYXJ6b25laiB3aXp5dMOzd2tpIGludGVybmV0b3dlai4gUG9kY3phcyB0ZWdvIGN6YXN1IG1vxbxlc3ogbmFtIHByemVrYXphxIcgd3N6ZWxraWUgZG9kYXRrb3dlIGluZm9ybWFjamUsIGEgbXkgd2XFum1pZW15IGplIHBvZCB1d2FnxJkuIFBvIHpha2/FhGN6b25laiBwcmFjeSB6b3N0YcWCbyB0eWxrbyB1bWllxZtjacSHIGrEhSBuYSBob3N0aW5ndS4nLFxyXG5cdFx0YnV0dG9uOiAnV3lrb25hbmllJyxcclxuXHR9LFxyXG5dO1xyXG5jb25zdCBwcm9jZXNzVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGl0bGUnKTtcclxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpO1xyXG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJyk7XHJcbmNvbnN0IGNoZW5nZVByb2Nlc3MgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IGJ0biA9IGUudGFyZ2V0O1xyXG5cclxuXHRpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuXHRcdHJldHVybjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2xvc2VBbGxQcm9jZXNzZXMoKTtcclxuXHRcdGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuXHR9XHJcblx0c2V0Q29udGVudCgpO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VBbGxQcm9jZXNzZXMgPSAoKSA9PiB7XHJcblx0cHJvY2Vzc0J0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0Q29udGVudCA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2Nlc3Nlc0luZm8ubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChwcm9jZXNzQnRuc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdHByb2Nlc3NUaXRsZS50ZXh0Q29udGVudCA9IHByb2Nlc3Nlc0luZm9baV0uaGVhZGluZztcclxuXHRcdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLnRleHQ7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xyXG5jb25zdCBwcmV2U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlcycpO1xyXG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcclxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA5OTIpe1xyXG4gICAgbmV4dFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcclxuICAgIHJldHVybiBcclxuICB9XHJcbiAgY29uc3QgcGFyYWxsYXhTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250Jyk7XHJcbiAgY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpO1xyXG4gIGxldCBwcmV2U2VjdGlvbk9mZnNldCA9IHByZXZTZWN0aW9uLm9mZnNldFRvcDtcclxuXHRjb25zdCBzZWN0aW9uSGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cyAuc2VjdGlvbl9faGVhZGluZycpO1xyXG5cdGxldCBmaXJzdEFuY2hvclBvaW50ID1cclxuXHRcdHByZXZTZWN0aW9uT2Zmc2V0ICtcclxuXHRcdHByZXZTZWN0aW9uLm9mZnNldEhlaWdodCArXHJcblx0XHRzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQgK1xyXG5cdFx0bmF2Lm9mZnNldEhlaWdodDtcclxuXHRsZXQgc2Vjb25kQW5jaG9yUG9pbnQgPVxyXG5cdFx0bmV4dFNlY3Rpb24ub2Zmc2V0VG9wIC1cclxuXHRcdG5leHRTZWN0aW9uLm9mZnNldEhlaWdodCArXHJcblx0XHRzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQ7XHJcblx0Y29uc3QgcHJvamVjdHNEZXNrdG9wQ250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250Jyk7XHJcblx0cHJvamVjdHNEZXNrdG9wQ250LnN0eWxlLmhlaWdodCA9IGBDYWxjKDYwMHZoICsgJHtzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHR9cHgpYDtcclxuXHJcblx0bGV0IHNjcm9sbFRvcCA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkLXByJyk7XHJcblx0fVxyXG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQgfHwgc2Nyb2xsVG9wIDwgZmlyc3RBbmNob3JQb2ludCkge1xyXG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJyk7XHJcblx0fVxyXG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcclxuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAwKWA7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgNDIwMHB4KWA7XHJcblx0fVxyXG5cclxuXHRpZiAocGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZml4ZWQtcHInKSkge1xyXG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7XHJcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcclxuXHRcdH1weClgO1xyXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtcclxuXHRcdFx0c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludFxyXG5cdFx0fXB4KWA7XHJcblx0fVxyXG5cdGlmIChzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XHJcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknO1xyXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJztcclxuXHR9XHJcblx0aWYgKFxyXG5cdFx0IXBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJy5maXhlZC1wcicpICYmXHJcblx0XHRzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnRcclxuXHQpIHtcclxuXHRcdC8vbyBpbG/Fm8SHIHNla2NqaSAqIDIwMHZoXHJcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKDIwMHZoKWA7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgZmlyc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xyXG5jb25zdCBzZWNvbmRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpO1xyXG5jb25zdCBwYXJhbGxheEhlcm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFyYWxsYXgtaGVybycpO1xyXG5cclxuY29uc3QgaGFuZGxlUGFyYWxsYXhTZWN0aW9uID0gKCkgPT4ge1xyXG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgOTkyKXtcclxuICAgIHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcclxuICAgIHBhcmFsbGF4SGVyby5zdHlsZS5oZWlnaHQgPSAnMCdcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHRsZXQgc2Nyb2xsUGVybWlzaW9uO1xyXG5cdGNvbnN0IHNlY3Rpb25PZmZTZXQgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wO1xyXG5cdGNvbnN0IG5hdkhlaWdodCA9IG5hdi5vZmZzZXRIZWlnaHQ7XHJcblx0cGFyYWxsYXhIZXJvLnN0eWxlLmhlaWdodCA9IGAke1xyXG5cdFx0dmlld3BvcnRXaWR0aCArIG5hdkhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxyXG5cdH1weGA7XHJcblx0Y29uc3Qgc2Nyb2xsVmFsdWUgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHRjb25zdCByYXRlID0gc2Nyb2xsVmFsdWUgLSBzZWN0aW9uT2ZmU2V0O1xyXG5cdGlmIChyYXRlID4gdmlld3BvcnRXaWR0aCkge1xyXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XHJcblx0XHRmaXJzdFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHt2aWV3cG9ydFdpZHRofXB4LCAke3ZpZXdwb3J0V2lkdGh9cHgpYDtcclxuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAke1xyXG5cdFx0XHR2aWV3cG9ydFdpZHRoIC0gd2luZG93LmlubmVySGVpZ2h0ICsgbmF2SGVpZ2h0XHJcblx0XHR9cHgpYDtcclxuXHR9IGVsc2UgaWYgKHJhdGUgPD0gMCkge1xyXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XHJcblx0XHRmaXJzdFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAwKWA7XHJcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMTAwJSwgLTEwMCUpYDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gdHJ1ZTtcclxuXHR9XHJcblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xyXG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLSR7cmF0ZX1weCwgJHtyYXRlfXB4KWA7XHJcblx0XHRzZWNvbmRTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoQ2FsYygxMDAlIC0gJHtyYXRlfXB4KSwgQ2FsYygtMTAwJSArICR7cmF0ZX1weCkpYDtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBwYXJhbGxheCBJdGVtc1xyXG5cclxuY29uc3QgcGFyYWxsYXhUZXh0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXJpc3RpY3MtaXRlbScpO1xyXG5jb25zdCBoYW5kbGVQYXJhbGxheEl0ZW1zID0gKGUpID0+IHtcclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmVzZXQtcG9zJyk7XHJcblx0fVxyXG5cdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcclxuXHJcblx0bGV0IHggPSBlLmNsaWVudFg7XHJcblx0bGV0IHkgPSBlLmNsaWVudFk7XHJcblx0Y29uc3QgbWlkZGxlWCA9IGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMjtcclxuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMjtcclxuXHRsZXQgZmluYWxYID0gKG1pZGRsZVggLSB4KSAvIDQwO1xyXG5cdGxldCBmaW5hbFkgPSAobWlkZGxlWSAtIHkpIC8gNDA7XHJcblxyXG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xyXG5cdFx0aWYgKHRleHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNldC1wb3MnKSkge1xyXG5cdFx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xyXG5cdFx0fVxyXG5cdFx0dGV4dC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XHJcblxyXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teScsIGAke2ZpbmFsWX1weGApO1xyXG5cdFx0dGV4dC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10cmFuc2Zvcm0teCcsIGAke2ZpbmFsWH1weGApO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVQYXJhbGxheEl0ZW1zKTtcclxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcclxuXHRwYXJhbGxheFRleHRzLmZvckVhY2goKHRleHQpID0+IHtcclxuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJyk7XHJcblx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2FkZC1wb3MnKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG4vLyBmdW5jdGlvbnMgYWN0aW9uc1xyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcclxuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcclxuXHRcdG5hdkhhbmRsZXIoKTtcclxuXHR9XHJcblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKTtcclxuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcclxufTtcclxuXHJcbnByb2Nlc3NCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlbmdlUHJvY2VzcykpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSk7XHJcbn0pO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKTtcclxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xyXG5cdGhhbmRsZVBhcmFsbGF4U2VjdGlvbigpO1xyXG59KTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcblx0dmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gIGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXHJcblx0aWYgKHZpZXdwb3J0V2lkdGggPD0gNzY4KSB7XHJcblx0XHRuYXZIYW5kbGVyKCk7XHJcblx0fVxyXG5cdGlmICh2aWV3cG9ydFdpZHRoID49IDk5MikgcmV0dXJuO1xyXG4gIHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcclxuXHRjYXJkc0FjdGl2YXRvckhhbmRsZXIoKTtcclxufSk7XHJcbiJdfQ==
