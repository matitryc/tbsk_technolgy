"use strict";var burgerIcon=document.querySelector(".burger-icon"),navbar=document.querySelector(".mobile-nav"),introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),mnavItem=document.querySelectorAll(".mobile-nav a"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navRevealHandler=function(){burgerIcon.addEventListener("click",function(){burgerIcon.classList.toggle("active"),navbar.classList.toggle("active")})},navCloseHandler=function(){mnavItem.forEach(function(e){e.addEventListener("click",function(){burgerIcon.classList.remove("active"),navbar.classList.remove("active")})})},headerParallaxHandler=function(){var e,t,o;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.pageYOffset,t=.5*window.pageYOffset,o=e/100,introText[0].style.transform="translate(".concat(8*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(6*t,"px)"),introText[3].style.transform="translate(".concat(7*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(11*t,"px)"),introBtn.style.opacity="".concat(.5/o),200<=e?(introBtn.style.opacity=0,introBtn.style.display="none"):introBtn.style.display="block",800<=e?introText.forEach(function(e){return e.style.display="none"}):introText.forEach(function(e){return e.style.display="block"}))},accordions=document.querySelectorAll(".accordion-heading"),openAccordion=function(e){e.target.nextElementSibling.classList.contains("active")?e.target.nextElementSibling.classList.remove("active"):(closeAllAccordions(),e.target.nextElementSibling.classList.toggle("active"))},closeAllAccordions=function(){document.querySelectorAll(".accordion-content").forEach(function(e){e.classList.remove("active")})},accordionOutsideHandler=function(e){e.target.classList.contains("accordion-heading")||e.target.classList.contains("accordion-content")||closeAllAccordions()},processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-box"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active")),setContent()},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){processBtns[0].classList.contains("active")?(processTitle.textContent="Jak przebiegają rozmowy?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[1].classList.contains("active")?(processTitle.textContent="Jak wygląda prezentacja projektu?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, ptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?"):processBtns[2].classList.contains("active")?(processTitle.textContent="Co to jest zatwierdzenie?",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, conseumque autem odit veniam, tenetur illo tempora?"):processBtns[3].classList.contains("active")&&(processTitle.textContent="Wykonanie projektu!",processText.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque nam dolore voluptate quisquam est impedit molestiae laboriosam, unde reprehenderit ullam, nesciunt nobis repellat repellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque placeat, possimus consectetur, tenetur voluptas est illo nobis harum praesentium asperiores! Cumque autem odit veniam, tenetur illo tempora?ellendus? Ea minima voluptatum temporibus quam delectus Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur officiis saepe, cumque plac")},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),section=document.querySelector(".projects"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,firstAnchorPoint=prevSectionOffset+prevSection.offsetHeight,secondAnchorPoint=nextSection.offsetTop-nextSection.offsetHeight,projectsParallaxHandler=function(){var e;viewport<992||(e=window.pageYOffset,nextSection.offsetHeight,nextSection.offsetTop,firstAnchorPoint<=e&&parallaxSection.classList.add("fixed-pr"),(secondAnchorPoint<=e||e<firstAnchorPoint)&&parallaxSection.classList.remove("fixed-pr"),secondAnchorPoint<=e?parallaxItems[0].classList.add("bottom"):parallaxItems[0].classList.remove("bottom"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(e-firstAnchorPoint,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(e-firstAnchorPoint,"px)")),!parallaxSection.classList.contains(".fixed-pr")&&secondAnchorPoint<=e?parallaxItems[1].classList.add("imgs-bottom"):parallaxItems[1].classList.remove("imgs-bottom"))},handleRemoveDOMElements=(window.onscroll=function(){projectsParallaxHandler()},function(){document.querySelector(".processes-mobile")});window.onload=function(){headerParallaxHandler(),setContent(),992<=viewportWidth&&handleRemoveDOMElements()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),accordions.forEach(function(e){return e.addEventListener("click",openAccordion)}),window.onclick=function(e){accordionOutsideHandler(e),cardOutsideHandler(e)},window.onscroll=function(){headerParallaxHandler(),projectsParallaxHandler()},navCloseHandler(),navRevealHandler(),window.onresize=function(){992<=window.innerWidth||cardsActivatorHandler()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VySWNvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdmJhciIsImludHJvVGV4dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtbmF2SXRlbSIsImNhcmRzIiwid2luZG93IiwiZm9yRWFjaCIsImVsIiwiY2xhc3NMaXN0IiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjb250YWlucyIsImFkZCIsImNhcmRPdXRzaWRlSGFuZGxlciIsImUiLCJ0YXJnZXQiLCJuYXZSZXZlYWxIYW5kbGVyIiwibmF2Q2xvc2VIYW5kbGVyIiwiaXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsInZpZXdwb3J0V2lkdGgiLCJvcGFjaXR5VmFsdWUiLCJpbnRyb0J0biIsIm9mZnNldFkiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsImNvbmNhdCIsIm9wYWNpdHkiLCJwYWdlWU9mZnNldCIsInJhdGUiLCJkaXNwbGF5IiwidGV4dCIsImFjY29yZGlvbnMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhY2NvcmRpb25Db250ZW50IiwiY2xvc2VBbGxBY2NvcmRpb25zIiwiYWNjb3JkaW9uT3V0c2lkZUhhbmRsZXIiLCJwcm9jZXNzVGV4dCIsImJ0biIsImNsb3NlQWxsUHJvY2Vzc2VzIiwidG9nZ2xlIiwicHJvY2Vzc0J0bnMiLCJwcm9jZXNzVGl0bGUiLCJ0ZXh0Q29udGVudCIsInNldENvbnRlbnQiLCJwYXJhbGxheFNlY3Rpb24iLCJwYXJhbGxheEl0ZW1zIiwic2VjdGlvbiIsIm5leHRTZWN0aW9uIiwidmlld3BvcnQiLCJpbm5lcldpZHRoIiwicHJldlNlY3Rpb25PZmZzZXQiLCJwcmV2U2VjdGlvbiIsIm9mZnNldFRvcCIsImZpcnN0QW5jaG9yUG9pbnQiLCJzZWNvbmRBbmNob3JQb2ludCIsInNjcm9sbFRvcCIsIm9mZnNldEhlaWdodCIsInByb2plY3RzUGFyYWxsYXhIYW5kbGVyIiwibW9iaWxlUHJvY2Vzc2VzIiwiaGFuZGxlUmVtb3ZlRE9NRWxlbWVudHMiLCJjaGVuZ2VQcm9jZXNzIiwib25zY3JvbGwiLCJhY2NvcmRpb24iLCJvcGVuQWNjb3JkaW9uIiwib25jbGljayIsIm9ucmVzaXplIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxXQUFhQyxTQUFTQyxjQUFjLGNBQWMsRUFDbERDLE9BQVNGLFNBQVNDLGNBQWMsYUFBYSxFQUE3Q0MsVUFBU0YsU0FBU0MsaUJBQWMsYUFBYyxFQUU5Q0UsU0FBWUgsU0FBU0ksY0FBQUEsWUFBaUIsRUFHdENDLFNBQVdMLFNBQVNJLGlCQUFpQixlQUFnQixFQUlyREUsY0FBZ0JDLE9BQUNILFdBR3RCRSxNQUFNRSxTQUFRSixpQkFBUSx3QkFBQSxFQUVwQkUsc0JBQWNHLFdBRmhCSCxNQUFNRSxRQUdJRSxTQUFBQSxHQUZUQyxFQUFLQyxpQkFHV0MsUUFBTyxXQUZ0QlAsTUFHQ0UsUUFBQSxTQUFBQyxHQUNDQSxFQUFBQyxVQUFBSSxTQUFBLFFBQUEsR0FGQUwsRUFHRkUsVUFBS0QsT0FBYyxRQUFRLENBRDNCLENBSURDLEVBSENBLEVBSUFMLFVBQU1FLElBQVEsUUFBQUMsQ0FIZixDQUFDLEVBRURFLEVBQUtDLGlCQUlILFdBQUEsV0FIRE4sTUFJRUUsUUFBQSxTQUFBQyxHQUNGRSxFQUFLRCxVQUFVSyxTQUFJLFFBQVMsR0FDNUJOLEVBQUNDLFVBQUFHLE9BQUEsUUFBQSxDQUVILENBQUEsRUFFREYsRUFBTUssVUFBQUEsSUFBa0IsUUFBRyxDQUMxQixDQUFBLENBSkEsQ0FBQyxDQUNGLEVBT0NBLG1CQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLE9BQUFSLFVBQUFJLFNBQUEsTUFBQSxHQUVEUixNQUFNYSxRQUFBQSxTQUFBQSxHQUNMcEIsRUFBQUEsVUFBV2EsT0FBQUEsUUFBaUIsQ0FMM0IsQ0FBQyxDQUVILEVBU01RLGlCQUFrQixXQU52QnJCLFdBT1NTLGlCQUFRYSxRQUFRLFdBTnhCdEIsV0FPS2EsVUFBQUEsT0FBaUIs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T0FBc0I4QixFQUFZRixpQkFBZ0IsS0FBQSxFQXVCcEZsRCxjQUFnQixHQUFBcUIsTUFBQUQsVUFBTSxrQkFBQUUsT0FBQThCLEVBQUFGLGlCQUFBLEtBQUEsR0FHckIsQ0FBSWxDLGdCQUFhYixVQUFTcUQsU0FBQUEsV0FBdUIsR0FBRUwsbUJBQUFDLEVBQ25EVixjQUFBLEdBQUF2QyxVQUFBSyxJQUFBLGFBQUEsRUFFc0JrQyxjQUFRckMsR0FBQUEsVUFBZ0JDLE9BQUMsYUFBU21ELEVBRXpEN0IsRUFRQ2IseUJBUmlGZixPQUFDMEQsU0FBQSxXQUVuRjFELHdCQUFpQixDQXBCakIsRUEwQndCLFdBQ0FQLFNBQUVDLGNBQUEsbUJBQUEsQ0FuQjFCLEdBd0JBa0IsT0FBQUEsT0FBZ0IsV0FFaEJaLHNCQUFrQixFQXRCakJ3QyxXQXVCSXhCLEVBRWEsS0FBakJBLGVBQXdCd0Msd0JBQUUsQ0F2QjNCLEVBRUFuQixZQUFZcEMsUUFBUSxTQUFBaUMsR0FBRyxPQUFJQSxFQUFJN0IsaUJBQWlCLFFBQVNvRCxhQUFhLENBQUMsQ0FBQSxFQUV2RTdCLFdBQVczQixRQUFRLFNBQUEwRCxHQUFTLE9BQUlBLEVBQVV0RCxpQkFBaUIsUUFBU3VELGFBQWEsQ0FBQyxDQUFBLEVBRWxGNUQsT0FBTzZELFFBQVUsU0FBQW5ELEdBQ2hCc0Isd0JBQXdCdEIsQ0FBQyxFQUN6QkQsbUJBQW1CQyxDQUFDLENBQ3JCLEVBRUFWLE9BQU8wRCxTQUFXLFdBQ2pCM0Msc0JBQXFCLEVBQ3JCdUMsd0JBQXVCLENBRXhCLEVBRUF6QyxnQkFBZSxFQUNmRCxpQkFBZ0IsRUFFaEJaLE9BQU84RCxTQUFXLFdBR0ksS0FGRDlELE9BQU84QyxZQUczQmlCLHNCQUFxQixDQUN0QiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWljb24nKVxuY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYnKVxuXG5jb25zdCBpbnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpXG5jb25zdCBpbnRyb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyby1idG4nKVxuXG5jb25zdCBtbmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtbmF2IGEnKVxuXG5sZXQgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpXG5cbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcblx0Y2FyZHMuZm9yRWFjaChjYXJkID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHR9KVxuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0fSlcblx0fSlcbn1cblxuY29uc3QgY2FyZE91dHNpZGVIYW5kbGVyID0gZSA9PiB7XG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcblx0XHRjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdH0pXG5cdH1cbn1cblxuY29uc3QgbmF2UmV2ZWFsSGFuZGxlciA9ICgpID0+IHtcblx0YnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdH0pXG59XG5cbmNvbnN0IG5hdkNsb3NlSGFuZGxlciA9ICgpID0+IHtcblx0bW5hdkl0ZW0uZm9yRWFjaChpdGVtID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0YnVyZ2VySWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdFx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdFx0fSlcblx0fSlcbn1cblxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDc2OCkge1xuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJylcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRjb25zdCBvZmZzZXRZID0gd2luZG93LnBhZ2VZT2Zmc2V0XG5cdGNvbnN0IHJhdGUgPSB3aW5kb3cucGFnZVlPZmZzZXQgKiAwLjVcblx0Y29uc3Qgb3BhY2l0eVZhbHVlID0gb2Zmc2V0WSAvIDEwMFxuXG5cdGludHJvVGV4dFswXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDh9cHgpYFxuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgXG5cdGludHJvVGV4dFsyXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7cmF0ZSAqIDZ9cHgpYFxuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiA3fXB4KWBcblx0aW50cm9UZXh0WzRdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtyYXRlICogLTl9cHgpYFxuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxMX1weClgXG5cblx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAkezAuNSAvIG9wYWNpdHlWYWx1ZX1gXG5cdGlmIChvZmZzZXRZID49IDIwMCkge1xuXHRcdGludHJvQnRuLnN0eWxlLm9wYWNpdHkgPSAwXG5cdFx0aW50cm9CdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXHR9IGVsc2Uge1xuXHRcdGludHJvQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG5cdH1cblxuXHRpZiAob2Zmc2V0WSA+PSA4MDApIHtcblx0XHRpbnRyb1RleHQuZm9yRWFjaCh0ZXh0ID0+ICh0ZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpKVxuXHR9IGVsc2Uge1xuXHRcdGludHJvVGV4dC5mb3JFYWNoKHRleHQgPT4gKHRleHQuc3R5bGUuZGlzcGxheSA9ICdibG9jaycpKVxuXHR9XG59XG5cbi8vIFByb2Nlc3NlcyAtIGFjY29yZGlvbnNcblxuY29uc3QgYWNjb3JkaW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24taGVhZGluZycpXG5cbmNvbnN0IG9wZW5BY2NvcmRpb24gPSBlID0+IHtcblx0aWYgKGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0ZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VBbGxBY2NvcmRpb25zKClcblx0XHRlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcblx0fVxufVxuXG5jb25zdCBjbG9zZUFsbEFjY29yZGlvbnMgPSAoKSA9PiB7XG5cdGNvbnN0IGFjY29yZGlvbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWNvbnRlbnQnKVxuXHRhY2NvcmRpb25Db250ZW50LmZvckVhY2goZWwgPT4ge1xuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0pXG59XG5cbmNvbnN0IGFjY29yZGlvbk91dHNpZGVIYW5kbGVyID0gZSA9PiB7XG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlvbi1oZWFkaW5nJykgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24tY29udGVudCcpKSByZXR1cm5cblx0Y2xvc2VBbGxBY2NvcmRpb25zKClcbn1cbi8vIFByb2Nlc3NlcyAtIGxpc3RcblxuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJylcblxuY29uc3QgcHJvY2Vzc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCcpXG5cbmNvbnN0IHByb2Nlc3NCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2Nlc3Nlcy1saXN0LWJveCcpXG5cbmNvbnN0IGNoZW5nZVByb2Nlc3MgPSBlID0+IHtcblx0Y29uc3QgYnRuID0gZS50YXJnZXRcblxuXHRpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0fSBlbHNlIHtcblx0XHRjbG9zZUFsbFByb2Nlc3NlcygpXG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdH1cblx0c2V0Q29udGVudCgpXG59XG5cbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xuXHRwcm9jZXNzQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXG59XG5cbmNvbnN0IHNldENvbnRlbnQgPSAoKSA9PiB7XG5cdGlmIChwcm9jZXNzQnRuc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ0phayBwcnplYmllZ2FqxIUgcm96bW93eT8nXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNlYXQsIHBvc3NpbXVzIGNvbnNlY3RldHVyLCB0ZW5ldHVyIHZvbHVwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzFdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnSmFrIHd5Z2zEhWRhIHByZXplbnRhY2phIHByb2pla3R1Pydcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCBwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/YFxuXHR9IGVsc2UgaWYgKHByb2Nlc3NCdG5zWzJdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRwcm9jZXNzVGl0bGUudGV4dENvbnRlbnQgPSAnQ28gdG8gamVzdCB6YXR3aWVyZHplbmllPydcblx0XHRwcm9jZXNzVGV4dC50ZXh0Q29udGVudCA9IGBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ3VtcXVlIG5hbSBkb2xvcmUgdm9sdXB0YXRlIHF1aXNxdWFtIGVzdCBpbXBlZGl0IG1vbGVzdGlhZSBsYWJvcmlvc2FtLCB1bmRlIHJlcHJlaGVuZGVyaXQgdWxsYW0sIG5lc2NpdW50IG5vYmlzIHJlcGVsbGF0IHJlcGVsbGVuZHVzPyBFYSBtaW5pbWEgdm9sdXB0YXR1bSB0ZW1wb3JpYnVzIHF1YW0gZGVsZWN0dXMgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNldW1xdWUgYXV0ZW0gb2RpdCB2ZW5pYW0sIHRlbmV0dXIgaWxsbyB0ZW1wb3JhP2Bcblx0fSBlbHNlIGlmIChwcm9jZXNzQnRuc1szXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gJ1d5a29uYW5pZSBwcm9qZWt0dSEnXG5cdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEN1bXF1ZSBuYW0gZG9sb3JlIHZvbHVwdGF0ZSBxdWlzcXVhbSBlc3QgaW1wZWRpdCBtb2xlc3RpYWUgbGFib3Jpb3NhbSwgdW5kZSByZXByZWhlbmRlcml0IHVsbGFtLCBuZXNjaXVudCBub2JpcyByZXBlbGxhdCByZXBlbGxlbmR1cz8gRWEgbWluaW1hIHZvbHVwdGF0dW0gdGVtcG9yaWJ1cyBxdWFtIGRlbGVjdHVzIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBDb25zZXF1YXR1ciBvZmZpY2lpcyBzYWVwZSwgY3VtcXVlIHBsYWNlYXQsIHBvc3NpbXVzIGNvbnNlY3RldHVyLCB0ZW5ldHVyIHZvbHVwdGFzIGVzdCBpbGxvIG5vYmlzIGhhcnVtIHByYWVzZW50aXVtIGFzcGVyaW9yZXMhIEN1bXF1ZSBhdXRlbSBvZGl0IHZlbmlhbSwgdGVuZXR1ciBpbGxvIHRlbXBvcmE/ZWxsZW5kdXM/IEVhIG1pbmltYSB2b2x1cHRhdHVtIHRlbXBvcmlidXMgcXVhbSBkZWxlY3R1cyBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQ29uc2VxdWF0dXIgb2ZmaWNpaXMgc2FlcGUsIGN1bXF1ZSBwbGFjYFxuXHR9XG59XG5cbi8vIFBST0NFU1NFUyBQQVJBTExBWFxuXG4vKiBjb25zdCBwcm9jZXNzZXNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpXG5jb25zdCB6bWllbm5hID0gcHJvY2Vzc2VzU2VjdGlvbi5vZmZzZXRUb3BcblxuY29uc3QgaGFuZGxlUGFyYWxsYXhTZWN0aW9uID0gKCkgPT4ge1xuXHRjb25zdCBzY3JvbGxWYWx1ZSA9IHdpbmRvdy5wYWdlWU9mZnNldFxuXHRjb25zdCByYXRlID0gKHNjcm9sbFZhbHVlIC0gem1pZW5uYSkgKiAyLjVcblxuXHRjb25zdCBjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcmlzdGljcycpXG5cblx0Y29uc29sZS5sb2coYHNjcm9sbCB2YWx1ZSAke3Njcm9sbFZhbHVlfSBgKVxuXG5cdGlmICh6bWllbm5hIC0gMTAwIDw9IHNjcm9sbFZhbHVlKSB7XG5cdFx0cHJvY2Vzc2VzU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZCcpXG5cdH0gZWxzZSB7XG5cdFx0cHJvY2Vzc2VzU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpXG5cdH1cblxuXHRpZiAocHJvY2Vzc2VzU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkJykpIHtcblx0XHRjb25zdCBzZWN0aW9uUmVjdCA9IGNoYXJhY3RlcmlzdGljc1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblx0XHRpZiAoc2VjdGlvblJlY3QubGVmdCA+PSAtMTApIHtcblx0XHRcdGNoYXJhY3RlcmlzdGljc1NlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7cmF0ZX1weClgXG5cdFx0XHRwcm9jZXNzZXNTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3JhdGV9cHgpYFxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRjaGFyYWN0ZXJpc3RpY3NTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYFxuXHRcdHByb2Nlc3Nlc1NlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoMClgXG5cdH1cbn1cbiAqL1xuXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xuXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKVxuY29uc3QgcGFyYWxsYXhJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0cy1wYXJhbGxheCcpXG5jb25zdCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzJylcblxuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKVxuY29uc3QgbmV4dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJylcblxubGV0IHZpZXdwb3J0ID0gd2luZG93LmlubmVyV2lkdGhcblxubGV0IHByZXZTZWN0aW9uT2Zmc2V0ID0gcHJldlNlY3Rpb24ub2Zmc2V0VG9wXG5sZXQgZmlyc3RBbmNob3JQb2ludCA9IHByZXZTZWN0aW9uT2Zmc2V0ICsgcHJldlNlY3Rpb24ub2Zmc2V0SGVpZ2h0XG5sZXQgc2Vjb25kQW5jaG9yUG9pbnQgPSBuZXh0U2VjdGlvbi5vZmZzZXRUb3AgLSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHRcblxuY29uc3QgcHJvamVjdHNQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydCA8IDk5MikgcmV0dXJuXG5cblx0bGV0IHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldFxuXHRsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3BcblxuXHQvKiBcdGNvbnNvbGUubG9nKGBTY3JvbGwgdG9wOiAke3Njcm9sbFRvcH1gKVxuXHRjb25zb2xlLmxvZyhgZmlyc3RBbmNob3I6ICR7Zmlyc3RBbmNob3JQb2ludH1gKVxuXHRjb25zb2xlLmxvZyhgc2Vjb25kQW5jaG9yOiAke3NlY29uZEFuY2hvclBvaW50fWApXG5cdGNvbnNvbGUubG9nKGBzY3JvbGxUb0FuY2hvcjogJHtzY3JvbGxUb0FuY2hvcn1gKSAqL1xuXG5cdGlmIChzY3JvbGxUb3AgPj0gZmlyc3RBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdmaXhlZC1wcicpXG5cblx0XHQvKiBcdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgLSR7c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludH1weClgXG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDBweCwgJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWAgKi9cblx0fVxuXHRpZiAoc2Nyb2xsVG9wID49IHNlY29uZEFuY2hvclBvaW50IHx8IHNjcm9sbFRvcCA8IGZpcnN0QW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQtcHInKVxuXHR9XG5cdGlmIChzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLmNsYXNzTGlzdC5hZGQoJ2JvdHRvbScpXG5cdH0gZWxzZSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5jbGFzc0xpc3QucmVtb3ZlKCdib3R0b20nKVxuXHR9XG5cblx0aWYgKHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkLXByJykpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAtJHtzY3JvbGxUb3AgLSBmaXJzdEFuY2hvclBvaW50fXB4KWBcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke3Njcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnR9cHgpYFxuXHR9XG5cblx0aWYgKCFwYXJhbGxheFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCcuZml4ZWQtcHInKSAmJiBzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnQpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLmNsYXNzTGlzdC5hZGQoJ2ltZ3MtYm90dG9tJylcblx0fSBlbHNlIHtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ2ltZ3MtYm90dG9tJylcblx0fVxufVxuLyogd3l3b2x1amUgcGFycmFsYXggZnVua2NqZSBuYSBzY3JvbGx1ICovXG53aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XG5cdHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcbn1cblxuLy8gZnVuY3Rpb25zIGFjdGlvbnNcblxuY29uc3QgaGFuZGxlUmVtb3ZlRE9NRWxlbWVudHMgPSAoKSA9PiB7XG5cdGNvbnN0IG1vYmlsZVByb2Nlc3NlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtbW9iaWxlJylcblx0Ly8gbW9iaWxlUHJvY2Vzc2VzLnJlbW92ZSgpO1xuXHQvLyBkb2RhYyBkeW5hbWljem5hIHdlcmpzZSBuYSBQQy4uLlxufVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKVxuXHRzZXRDb250ZW50KClcblx0aWYgKHZpZXdwb3J0V2lkdGggPj0gOTkyKSBoYW5kbGVSZW1vdmVET01FbGVtZW50cygpXG59XG5cbnByb2Nlc3NCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKVxuXG5hY2NvcmRpb25zLmZvckVhY2goYWNjb3JkaW9uID0+IGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BY2NvcmRpb24pKVxuXG53aW5kb3cub25jbGljayA9IGUgPT4ge1xuXHRhY2NvcmRpb25PdXRzaWRlSGFuZGxlcihlKVxuXHRjYXJkT3V0c2lkZUhhbmRsZXIoZSlcbn1cblxud2luZG93Lm9uc2Nyb2xsID0gKCkgPT4ge1xuXHRoZWFkZXJQYXJhbGxheEhhbmRsZXIoKVxuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpXG5cdC8vaGFuZGxlUGFyYWxsYXhTZWN0aW9uKClcbn1cblxubmF2Q2xvc2VIYW5kbGVyKClcbm5hdlJldmVhbEhhbmRsZXIoKVxuXG53aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG5cdGxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGhcblxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVyblxuXHRjYXJkc0FjdGl2YXRvckhhbmRsZXIoKVxufVxuIl19
