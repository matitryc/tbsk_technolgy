"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),nav=document.querySelector(".navbar"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function o(){s.classList.remove("active"),t.classList.remove("active"),n.setAttribute("aria-expanded","false")}var t=document.querySelector(".navbar"),e=document.querySelector(".burger-icon"),a=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".mobile-nav .nav-list"),r=document.querySelector(".nav-list-background"),s=e.cloneNode(!0),e=(s.addEventListener("click",function(){s.classList.toggle("active"),t.classList.toggle("active");var e="false"!=(e=n.getAttribute("aria-expanded"));n.setAttribute("aria-expanded",!e)}),e.replaceWith(s),a.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",o),e.replaceWith(t)}),r.cloneNode());e.addEventListener("click",o),r.replaceWith(e)},headerParallaxHandler=function(){var e,t,o;viewportWidth<768?(document.querySelector(".intro").classList.remove("fixed"),introBtn.style.opacity="1",racoon.style.opacity="1",introText.forEach(function(e){e.style.transform="translate(0, 0)"})):(e=window.scrollY,t=.1*window.scrollY,o=1/(e/100+1),introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),e>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(o),racoon.style.opacity="".concat(o),intro.style.pointerEvents="all",intro.style.opacity="1"))},processesInfo=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){for(var e=0;e<processesInfo.length;e++)if(processBtns[e].classList.contains("active"))return processTitle.textContent=processesInfo[e].heading,void(processText.textContent=processesInfo[e].text)},prevSection=document.querySelector(".services"),nextSection=document.querySelector(".parallax-hero"),projectsParallaxHandler=function(){var e,t,o,a,n;viewportWidth<992?nextSection.style.transform="translate(0, 0)":(e=document.querySelector(".projects-desktop-cnt .projects-showcase"),t=document.querySelectorAll(".projects-desktop-cnt .project"),a=prevSection.offsetTop,n=document.querySelector(".projects .section__heading"),o=window.scrollY,a=a+prevSection.offsetHeight+n.offsetHeight+Math.floor(nav.offsetHeight/2),n=nextSection.offsetTop-window.innerHeight+Math.floor(nav.offsetHeight/2),o<a?e.style.transform="translate(0, Calc(-100% + ".concat(window.innerHeight,"px))"):n<o?e.style.transform="translate(0, ".concat((t.length-1)*window.innerHeight,"px)"):a<o&&(e.style.transform="translate(0, Calc(-100% + ".concat(window.innerHeight+2*(o-a),"px))")))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),parallaxHero=document.querySelector(".parallax-hero"),handleParallaxSection=function(){var e,t;viewportWidth<992?(secondSection.style.transform="translate(0, 0)",parallaxHero.style.height="0"):(t=(e=parallaxHero.offsetTop-window.scrollY)+viewportWidth,parallaxHero.style.height="Calc(".concat(window.innerHeight+viewportWidth,"px - 5rem)"),t<=0?(firstSection.style.transform="translate(-".concat(viewportWidth,"px, 0)"),secondSection.style.transform="translate(0, ".concat(t,"px)")):e<=0?(firstSection.style.transform="translate(".concat(e,"px, 0)"),secondSection.style.transform="translate(Calc(100% + ".concat(e,"px), 0)")):(firstSection.style.transform="translate(0, ".concat(e,"px)"),secondSection.style.transform="translate(100%, ".concat(e,"px)")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,o=e.clientY,a=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(a-t)/40,r=(e-o)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(r,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){viewportWidth=window.innerWidth,headerParallaxHandler(),viewportWidth<=768&&navHandler(),992<=viewportWidth||(handleParallaxSection(),projectsParallaxHandler(),cardsActivatorHandler())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwiaW50cm8iLCJ3aW5kb3ciLCJ2aWV3cG9ydFdpZHRoIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIiwiY2FyZHMiLCJmb3JFYWNoIiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwibW5hdkl0ZW1zIiwiY2xvc2UiLCJidXJnZXJJY29uIiwib2xkQnVyZ2VySWNvbiIsImNsb25lTm9kZSIsInJlcGxhY2VXaXRoIiwibmF2TGlzdCIsIm9sZE5hdkxpc3RCYWNrZ3JvdW5kIiwicmV2ZWFsIiwidG9nZ2xlIiwibmF2YmFyIiwib2xkSXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsImlzRXhwYW5kZWQiLCJnZXRBdHRyaWJ1dGUiLCJpdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsIm9wYWNpdHkiLCJ0ZXh0IiwicmF0ZSIsInBvaW50ZXJFdmVudHMiLCJjb25jYXQiLCJvcGFjaXR5VmFsdWUiLCJvZmZzZXRZIiwiaW5uZXJIZWlnaHQiLCJwcm9jZXNzZXNJbmZvIiwiaGVhZGluZyIsImJ1dHRvbiIsInByb2Nlc3NUaXRsZSIsImNoZW5nZVByb2Nlc3MiLCJidG4iLCJjbG9zZUFsbFByb2Nlc3NlcyIsInByb2Nlc3NCdG5zIiwiZSIsInRhcmdldCIsImxlbmd0aCIsInRleHRDb250ZW50Iiwic2V0Q29udGVudCIsInByZXZTZWN0aW9uIiwibmV4dFNlY3Rpb24iLCJpIiwicHJvY2Vzc1RleHQiLCJwcm9qZWN0c1Nob3djYXNlIiwic2Nyb2xsVmFsdWUiLCJmaXJzdEFuY2hvclBvaW50IiwicHJvamVjdHNQYXJhbGxheEhhbmRsZXIiLCJzZWNvbmRBbmNob3JQb2ludCIsImZpcnN0U2VjdGlvbiIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInNlY29uZFNlY3Rpb24iLCJwYXJhbGxheEhlcm8iLCJzY3JvbGxZIiwicHJldlNlY3Rpb25PZmZzZXQiLCJzZWN0aW9uSGVhZGluZyIsIm9mZnNldEhlaWdodCIsIk1hdGgiLCJmbG9vciIsIm5hdiIsIm9mZnNldFRvcCIsInNlY29uZEFuY2hvciIsImhlaWdodCIsImZpcnN0QW5jaG9yIiwicGFyYWxsYXhUZXh0cyIsImhhbmRsZVBhcmFsbGF4SXRlbXMiLCJjbGllbnRZIiwibWlkZGxlWCIsInNldFByb3BlcnR5IiwiZmluYWxYIiwib25sb2FkIiwib2Zmc2V0V2lkdGgiLCJuYXZIYW5kbGVyIiwieCIsInkiLCJmaW5hbFkiLCJjYXJkT3V0c2lkZUhhbmRsZXIiLCJpbm5lcldpZHRoIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxpQkFBaUIsYUFBYSxFQUNuREMsU0FBV0YsU0FBU0csY0FBYyxZQUFZLEVBRDlDSixPQUFTQyxTQUFXRyxjQUFDRixTQUFpQixFQUN0Q0MsTUFBUUYsU0FBV0csY0FBYyxRQUFDLEVBQ2xDQyxJQUFNSixTQUFXRyxjQUFjLFNBQUMsRUFDaENFLGNBQWdCQyxPQUFDSCxXQUVuQkksTUFBQUEsU0FBZ0JELGlCQUFpQix3QkFBQSxFQUkvQkUsc0JBQXdCLFdBQzdCQyxNQUFLQyxRQUFRLFNBQUNDLEdBQ2JBLEVBQUFBLGlCQUFLQyxRQUF3QixXQUM1QkgsTUFBQUEsUUFBTUMsU0FBQUEsR0FDTEcsRUFBQUMsVUFBT0EsU0FBVUMsUUFBUyxHQUN6QkYsRUFBR0MsVUFBQUEsT0FBVUUsUUFBTyxDQUV0QixDQUFDLEVBQ0RMLEVBQUFBLFVBQUtHLElBQVVHLFFBQUksQ0FDcEIsQ0FBQyxFQUVETixFQUNDRixpQkFBYyxXQUFRLFdBQXRCQSxNQUNDQyxRQUFPSSxTQUFBQSxHQUFIRCxFQUNIQSxVQUFHQyxTQUFpQixRQUFRLEdBQTVCRCxFQUNEQyxVQUFBRSxPQUFBLFFBQUEsQ0FDRCxDQUFD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eEUsUUFBR0osU0FBTWdDLEdBQ3JCUixFQUFBQSxVQUFBQSxJQUFBQSxXQUF1QixFQUN4QlEsRUFBSS9CLFVBQUFBLE9BQWlCLFNBQUssQ0E3QjFCLENBQUMsQ0FDRixDQUFDLEVBSURELE9BOEJDRSxPQUFBQSxXQUNBc0Isc0JBQUMsRUE3Qkd2QixlQUFpQixLQUNwQm1GLFdBQVcsRUFFWnpCLHdCQUF3QixFQUN4Qkcsc0JBQXNCLENBQ3ZCLEVBRUFoQixZQUFZMUMsUUFBUSxTQUFDd0MsR0FBRyxPQUFLQSxFQUFJdEMsaUJBQWlCLFFBQVNxQyxhQUFhLENBQUMsQ0FBQSxFQUV6RTNDLE9BQU9NLGlCQUFpQixRQUFTLFNBQUN5QyxHQUNqQ3lDLG1CQUFtQnpDLENBQUMsQ0FDckIsQ0FBQyxFQUVEL0MsT0FBT00saUJBQWlCLFNBQVUsV0FDakNrQixzQkFBc0IsRUFDdEJtQyx3QkFBd0IsRUFDeEJHLHNCQUFzQixDQUN2QixDQUFDLEVBRUQ5RCxPQUFPTSxpQkFBaUIsU0FBVSxXQUNqQ0wsY0FBZ0JELE9BQU95RixXQUN0QmpFLHNCQUFzQixFQUNuQnZCLGVBQWlCLEtBQ3BCbUYsV0FBVyxFQUVTLEtBQWpCbkYsZ0JBQ0g2RCxzQkFBc0IsRUFDdEJILHdCQUF3QixFQUN6QnpELHNCQUFzQixFQUN2QixDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaW50cm9UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmludHJvLXRleHQnKTtcbmNvbnN0IGludHJvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLWJ0bicpO1xuY29uc3QgcmFjb29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhY29vbicpO1xuY29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKTtcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbmxldCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbmNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzX19jYXJkcyAuY2FyZCcpO1xuXG5jb25zdCBjYXJkc0FjdGl2YXRvckhhbmRsZXIgPSAoKSA9PiB7XG5cdGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXG5cdFx0Y2FyZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHtcblx0XHRcdGNhcmRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBjYXJkT3V0c2lkZUhhbmRsZXIgPSAoZSkgPT4ge1xuXHRpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZCcpKSB7XG5cdFx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3QgbmF2SGFuZGxlciA9ICgpID0+IHtcblx0Y29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuXHRjb25zdCBvbGRCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1pY29uJyk7XG5cdGNvbnN0IG1uYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtbmF2IGEnKTtcbiAgY29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2IC5uYXYtbGlzdCcpXG5cdGNvbnN0IG9sZE5hdkxpc3RCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWJhY2tncm91bmQnKTtcblx0Y29uc3QgcmV2ZWFsID0gKCkgPT4ge1xuXHRcdGJ1cmdlckljb24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdFx0bmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIGxldCBpc0V4cGFuZGVkID0gbmF2TGlzdC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKVxuICAgIGlmKGlzRXhwYW5kZWQgPT0gJ2ZhbHNlJyl7XG4gICAgICBpc0V4cGFuZGVkID0gZmFsc2VcbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgaXNFeHBhbmRlZCA9IHRydWVcbiAgICB9XG4gICAgbmF2TGlzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAhaXNFeHBhbmRlZClcblx0fTtcblx0Y29uc3QgY2xvc2UgPSAoKSA9PiB7XG5cdFx0YnVyZ2VySWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbmF2TGlzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuXHR9O1xuXHRjb25zdCBidXJnZXJJY29uID0gb2xkQnVyZ2VySWNvbi5jbG9uZU5vZGUodHJ1ZSk7XG5cdGJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZlYWwpO1xuXHRvbGRCdXJnZXJJY29uLnJlcGxhY2VXaXRoKGJ1cmdlckljb24pO1xuXHRtbmF2SXRlbXMuZm9yRWFjaCgob2xkSXRlbSkgPT4ge1xuXHRcdGNvbnN0IGl0ZW0gPSBvbGRJdGVtLmNsb25lTm9kZSh0cnVlKTtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpO1xuXHRcdG9sZEl0ZW0ucmVwbGFjZVdpdGgoaXRlbSk7XG5cdH0pO1xuXHRjb25zdCBuYXZMaXN0QmFja2dyb3VuZCA9IG9sZE5hdkxpc3RCYWNrZ3JvdW5kLmNsb25lTm9kZSgpO1xuXHRuYXZMaXN0QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlKTtcblx0b2xkTmF2TGlzdEJhY2tncm91bmQucmVwbGFjZVdpdGgobmF2TGlzdEJhY2tncm91bmQpO1xufTtcblxuY29uc3QgaGVhZGVyUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDc2OCkge1xuXHRcdGNvbnN0IGludHJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvJyk7XG5cdFx0aW50cm8uY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWQnKTtcbiAgICBpbnRyb0J0bi5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gICAgcmFjb29uLnN0eWxlLm9wYWNpdHkgPSAnMSdcbiAgICBpbnRyb1RleHQuZm9yRWFjaCh0ZXh0ID0+IHtcbiAgICAgIHRleHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICB9KVxuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5zY3JvbGxZICogMC4xO1xuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSAxIC8gKG9mZnNldFkgLyAxMDAgKyAxKTtcblxuXHRpbnRyb1RleHRbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNH1weClgO1xuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgO1xuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNn1weClgO1xuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxN31weClgO1xuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgO1xuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNy41fXB4KWA7XG5cblx0aWYgKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcblx0XHRpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXHRcdGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdH0gZWxzZSB7XG5cdFx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHlWYWx1ZX1gO1xuXHRcdHJhY29vbi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWA7XG5cdFx0aW50cm8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnO1xuXHRcdGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG5cdH1cbn07XG5cbi8vIFByb2Nlc3NlcyAtIGxpc3RcbmNvbnN0IHByb2Nlc3Nlc0luZm8gPSBbXG5cdHtcblx0XHRoZWFkaW5nOiAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5PycsXG5cdFx0dGV4dDogJ1phY3p5bmFteSBvZCBva3JlxZtsZW5pYSDFm3dpYWRjem9uZWogdXPFgnVnaS4gSmXFvGVsaSBqZXN0IHRvIGJ1ZG93YSBsdWIgcHJvamVrdG93YW5pZSwgdG8gcHl0YW15IGN6eSBpc3RuaWVqZSBqYWtpZcWbIGxvZ28sIGLEhWTFuiB3aXp5dMOzd2thIGZpcm15LiBOYXN0xJlwbmllIHphcHl0YW15IG8gdHJlxZtjaSwga3TDs3JlIG1pYcWCeWJ5IHNpxJkgem5hbGXFusSHIG5hIHN0cm9uaWUuIE5hIHBvZHN0YXdpZSB0ZWdvIHR3b3J6eW15IHd5xYLEhWN6bmllIHN0cnVrdHVyxJkgaSB3eWNlbmlhbXkgcHJvamVrdC4gTmFzdMSZcG5pZSB6YWN6eW5hbXkgcHJvamVrdG93YcSHLicsXG5cdFx0YnV0dG9uOiAnS29uc3VsdGFjamEnLFxuXHR9LFxuXHR7XG5cdFx0aGVhZGluZzogJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nLFxuXHRcdHRleHQ6ICdQbyBza2/FhGN6ZW5pdSBwcm9qZWt0dSBzdHJvbnksIHByemVkc3Rhd2lhbXkgZ28gVG9iaWUgZG8gb2NlbmllbmlhLiBXdGVkeSBwcnp5am11amVteSB3c3plbGtpZSB1d2FnaSBkb3QuIGRvYm9ydSBrb2xvcsOzdywgYnVkb3d5IHNla2NqaSBpdGQuIFTFgnVtYWN6eW15IHRlxbwsIGN6ZW11IHBld25lIGVsZW1lbnR5IG11c3rEhSB6YXdpZXJhxIcgbmlla3TDs3JlIGNlY2h5LiBQw7PFum5pZWogbmFub3NpbXkgd3N6ZWxraWUgem1pYW55LicsXG5cdFx0YnV0dG9uOiAnUHJlemVudGFjamEnLFxuXHR9LFxuXHR7XG5cdFx0aGVhZGluZzogJ0N6eW0gamVzdCBldGFwIHphdHdpZXJkemVuaWE/Jyxcblx0XHR0ZXh0OiAnVG8ga3JvaywgdyBrdMOzcnltIGRlY3lkdWplc3ogc2nEmSBuYSBwb2RqxJljaWUgbHViIG9kcnp1Y2VuaWUgbmFzenljaCB1c8WCdWcuIEplxbxlbGkgemxlY2lzeiBuYW0gc3R3b3J6ZW5pZSBzdHJvbnksIHRvIHByemVrYcW8ZW15IENpIGlsZSBwcmF3ZG9wb2RvYm5pZSB6YWptaWUgdG8gbmFtIGN6YXN1LiBEb2RhdGtvd28gYsSZZHppZW15IHBvdHJ6ZWJvd2FsaSBkb2vFgmFkbnljaCB0cmXFm2NpLCBrdMOzcmUgbWFqxIUgc2nEmSBmaW5hbG5pZSB6bmFsZcW6xIcgbmEgVHdvamVqIHdpdHJ5bmllLicsXG5cdFx0YnV0dG9uOiAnWmF0d2llcmR6ZW5pZScsXG5cdH0sXG5cdHtcblx0XHRoZWFkaW5nOiAnV3lrb25hbmllIHByb2pla3R1IScsXG5cdFx0dGV4dDogJ1RlbiBrcm9rIHpvc3RhdyBuYW0hIE9kIHJhenUgemFiaWVyemVteSBzacSZIGRvIHR3b3J6ZW5pYSBUd29qZWogd3ltYXJ6b25laiB3aXp5dMOzd2tpIGludGVybmV0b3dlai4gUG9kY3phcyB0ZWdvIGN6YXN1IG1vxbxlc3ogbmFtIHByemVrYXphxIcgd3N6ZWxraWUgZG9kYXRrb3dlIGluZm9ybWFjamUsIGEgbXkgd2XFum1pZW15IGplIHBvZCB1d2FnxJkuIFBvIHpha2/FhGN6b25laiBwcmFjeSB6b3N0YcWCbyB0eWxrbyB1bWllxZtjacSHIGrEhSBuYSBob3N0aW5ndS4nLFxuXHRcdGJ1dHRvbjogJ1d5a29uYW5pZScsXG5cdH0sXG5dO1xuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJyk7XG5jb25zdCBwcm9jZXNzVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10ZXh0Jyk7XG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJyk7XG5jb25zdCBjaGVuZ2VQcm9jZXNzID0gKGUpID0+IHtcblx0Y29uc3QgYnRuID0gZS50YXJnZXQ7XG5cblx0aWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cmV0dXJuO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKCk7XG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldENvbnRlbnQoKTtcbn07XG5cbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG59O1xuXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2Nlc3Nlc0luZm8ubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAocHJvY2Vzc0J0bnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gcHJvY2Vzc2VzSW5mb1tpXS5oZWFkaW5nO1xuXHRcdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLnRleHQ7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59O1xuXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xuY29uc3QgcHJldlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZXMnKTtcbmNvbnN0IG5leHRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhcmFsbGF4LWhlcm8nKTtcbmNvbnN0IHByb2plY3RzUGFyYWxsYXhIYW5kbGVyID0gKCkgPT4ge1xuXHRpZiAodmlld3BvcnRXaWR0aCA8IDk5Mil7XG4gICAgbmV4dFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICByZXR1cm4gXG4gIH1cbiAgY29uc3QgcHJvamVjdHNTaG93Y2FzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1kZXNrdG9wLWNudCAucHJvamVjdHMtc2hvd2Nhc2UnKTtcbiAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdHMtZGVza3RvcC1jbnQgLnByb2plY3QnKVxuICBsZXQgcHJldlNlY3Rpb25PZmZzZXQgPSBwcmV2U2VjdGlvbi5vZmZzZXRUb3A7XG5cdGNvbnN0IHNlY3Rpb25IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzIC5zZWN0aW9uX19oZWFkaW5nJyk7XG4gIGNvbnN0IHNjcm9sbFZhbHVlID0gd2luZG93LnNjcm9sbFlcblx0bGV0IGZpcnN0QW5jaG9yUG9pbnQgPVxuXHRcdHByZXZTZWN0aW9uT2Zmc2V0ICtcblx0XHRwcmV2U2VjdGlvbi5vZmZzZXRIZWlnaHQgK1xuXHRcdHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodCArXG4gICAgTWF0aC5mbG9vcihuYXYub2Zmc2V0SGVpZ2h0IC8gMilcblx0bGV0IHNlY29uZEFuY2hvclBvaW50ID0gbmV4dFNlY3Rpb24ub2Zmc2V0VG9wIC0gd2luZG93LmlubmVySGVpZ2h0ICsgTWF0aC5mbG9vcihuYXYub2Zmc2V0SGVpZ2h0IC8gMilcbiAgaWYgKHNjcm9sbFZhbHVlIDwgZmlyc3RBbmNob3JQb2ludCkge1xuICAgIHByb2plY3RzU2hvd2Nhc2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCBDYWxjKC0xMDAlICsgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHgpKWBcbiAgfVxuICBlbHNlIGlmIChzY3JvbGxWYWx1ZSA+IHNlY29uZEFuY2hvclBvaW50KXtcbiAgICBwcm9qZWN0c1Nob3djYXNlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgJHsocHJvamVjdHMubGVuZ3RoIC0gMSkgKiB3aW5kb3cuaW5uZXJIZWlnaHR9cHgpYFxuICB9XG4gIGVsc2UgaWYgKHNjcm9sbFZhbHVlID4gZmlyc3RBbmNob3JQb2ludCkge1xuICAgIHByb2plY3RzU2hvd2Nhc2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCBDYWxjKC0xMDAlICsgJHt3aW5kb3cuaW5uZXJIZWlnaHQgKyAoc2Nyb2xsVmFsdWUgLSBmaXJzdEFuY2hvclBvaW50KSAqIDJ9cHgpKWBcbiAgfVxufTtcblxuY29uc3QgZmlyc3RTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3NlcycpO1xuY29uc3Qgc2Vjb25kU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJpc3RpY3MnKTtcbmNvbnN0IHBhcmFsbGF4SGVybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXJhbGxheC1oZXJvJyk7XG5cbmNvbnN0IGhhbmRsZVBhcmFsbGF4U2VjdGlvbiA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0V2lkdGggPCA5OTIpe1xuICAgIHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICBwYXJhbGxheEhlcm8uc3R5bGUuaGVpZ2h0ID0gJzAnXG4gICAgcmV0dXJuXG4gIH0gIFxuICBjb25zdCBmaXJzdEFuY2hvciA9IHBhcmFsbGF4SGVyby5vZmZzZXRUb3AgLSB3aW5kb3cuc2Nyb2xsWVxuICBjb25zdCBzZWNvbmRBbmNob3IgPSBmaXJzdEFuY2hvciArIHZpZXdwb3J0V2lkdGhcbiAgcGFyYWxsYXhIZXJvLnN0eWxlLmhlaWdodCA9IGBDYWxjKCR7d2luZG93LmlubmVySGVpZ2h0ICsgdmlld3BvcnRXaWR0aH1weCAtIDVyZW0pYFxuICBpZihzZWNvbmRBbmNob3IgPD0gMCkge1xuICAgIGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC0ke3ZpZXdwb3J0V2lkdGh9cHgsIDApYFxuICAgIHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAke3NlY29uZEFuY2hvcn1weClgXG4gIH1cbiAgZWxzZSBpZihmaXJzdEFuY2hvciA8PSAwKSB7XG4gICAgZmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtmaXJzdEFuY2hvcn1weCwgMClgXG4gICAgc2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSAgYHRyYW5zbGF0ZShDYWxjKDEwMCUgKyAke2ZpcnN0QW5jaG9yfXB4KSwgMClgXG4gIH1cbiAgZWxzZSB7XG4gICAgZmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgJHtmaXJzdEFuY2hvcn1weClgXG4gICAgc2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDEwMCUsICR7Zmlyc3RBbmNob3J9cHgpYFxuICB9XG59O1xuXG4vLyBwYXJhbGxheCBJdGVtc1xuXG5jb25zdCBwYXJhbGxheFRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3RlcmlzdGljcy1pdGVtJyk7XG5jb25zdCBoYW5kbGVQYXJhbGxheEl0ZW1zID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0fVxuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XG5cblx0bGV0IHggPSBlLmNsaWVudFg7XG5cdGxldCB5ID0gZS5jbGllbnRZO1xuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMjtcblx0bGV0IGZpbmFsWCA9IChtaWRkbGVYIC0geCkgLyA0MDtcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MDtcblxuXHRwYXJhbGxheFRleHRzLmZvckVhY2goKHRleHQpID0+IHtcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHRcdH1cblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRcdHRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXknLCBgJHtmaW5hbFl9cHhgKTtcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YCk7XG5cdH0pO1xufTtcblxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVQYXJhbGxheEl0ZW1zKTtcbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJyk7XG5cdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJyk7XG5cdH0pO1xufSk7XG5cbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcblx0XHRuYXZIYW5kbGVyKCk7XG5cdH1cblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKTtcblx0aGFuZGxlUGFyYWxsYXhTZWN0aW9uKCk7XG59O1xuXG5wcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0Y2FyZE91dHNpZGVIYW5kbGVyKGUpO1xufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuXHR2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGhlYWRlclBhcmFsbGF4SGFuZGxlcigpXG5cdGlmICh2aWV3cG9ydFdpZHRoIDw9IDc2OCkge1xuXHRcdG5hdkhhbmRsZXIoKTtcblx0fVxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVybjtcbiAgaGFuZGxlUGFyYWxsYXhTZWN0aW9uKCk7XG4gIHByb2plY3RzUGFyYWxsYXhIYW5kbGVyKClcblx0Y2FyZHNBY3RpdmF0b3JIYW5kbGVyKCk7XG59KTtcbiJdfQ==
