"use strict";var introText=document.querySelectorAll(".intro-text"),introBtn=document.querySelector(".intro-btn"),racoon=document.querySelector(".racoon"),intro=document.querySelector(".intro"),nav=document.querySelector(".navbar"),viewportWidth=window.innerWidth,cards=document.querySelectorAll(".services__cards .card"),cardsActivatorHandler=function(){cards.forEach(function(e){e.addEventListener("click",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")}),e.addEventListener("touchend",function(){cards.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})})},cardOutsideHandler=function(e){e.target.classList.contains("card")||cards.forEach(function(e){e.classList.remove("active")})},navHandler=function(){function a(){s.classList.remove("active"),t.classList.remove("active"),n.setAttribute("aria-expanded","false")}var t=document.querySelector(".navbar"),e=document.querySelector(".burger-icon"),o=document.querySelectorAll(".mobile-nav a"),n=document.querySelector(".mobile-nav .nav-list"),r=document.querySelector(".nav-list-background"),s=e.cloneNode(!0),e=(s.addEventListener("click",function(){s.classList.toggle("active"),t.classList.toggle("active");var e="false"!=(e=n.getAttribute("aria-expanded"));n.setAttribute("aria-expanded",!e)}),e.replaceWith(s),o.forEach(function(e){var t=e.cloneNode(!0);t.addEventListener("click",a),e.replaceWith(t)}),r.cloneNode());e.addEventListener("click",a),r.replaceWith(e)},headerParallaxHandler=function(){var e,t,a;viewportWidth<768?document.querySelector(".intro").classList.remove("fixed"):(e=window.scrollY,t=.1*window.scrollY,a=1/(e/100+1),introText[0].style.transform="translate(".concat(14*t,"px)"),introText[1].style.transform="translate(".concat(-3*t,"px)"),introText[2].style.transform="translate(".concat(16*t,"px)"),introText[3].style.transform="translate(".concat(17*t,"px)"),introText[4].style.transform="translate(".concat(-9*t,"px)"),introText[5].style.transform="translate(".concat(17.5*t,"px)"),e>window.innerHeight?(intro.style.pointerEvents="none",intro.style.opacity="0"):(introBtn.style.opacity="".concat(a),racoon.style.opacity="".concat(a),intro.style.pointerEvents="all",intro.style.opacity="1"))},processesInfo=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],processTitle=document.querySelector(".processes-content-title"),processText=document.querySelector(".processes-content-text"),processBtns=document.querySelectorAll(".processes-list-item"),chengeProcess=function(e){e=e.target;e.classList.contains("active")||(closeAllProcesses(),e.classList.toggle("active"),setContent())},closeAllProcesses=function(){processBtns.forEach(function(e){return e.classList.remove("active")})},setContent=function(){for(var e=0;e<processesInfo.length;e++)if(processBtns[e].classList.contains("active"))return processTitle.textContent=processesInfo[e].heading,void(processText.textContent=processesInfo[e].text)},parallaxSection=document.querySelector(".projects-desktop-cnt"),parallaxItems=document.querySelectorAll(".projects-parallax"),prevSection=document.querySelector(".services"),nextSection=document.querySelector(".processes"),viewport=window.innerWidth,prevSectionOffset=prevSection.offsetTop,projectsParallaxHandler=function(){var e,t,a;viewport<992||(a=document.querySelector(".projects .section__heading"),e=prevSectionOffset+prevSection.offsetHeight+a.offsetHeight+nav.offsetHeight,t=nextSection.offsetTop-nextSection.offsetHeight+a.offsetHeight,document.querySelector(".projects-desktop-cnt").style.height="Calc(600vh + ".concat(a.offsetHeight,"px)"),e<=(a=window.scrollY)&&parallaxSection.classList.add("fixed-pr"),(t<=a||a<e)&&parallaxSection.classList.remove("fixed-pr"),t<=a&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 4200px)"),parallaxSection.classList.contains("fixed-pr")&&(parallaxItems[0].style.transform="translate(0px, -".concat(a-e,"px)"),parallaxItems[1].style.transform="translate(0px, ".concat(a-e,"px)")),a<e&&(parallaxItems[0].style.transform="translate(0, 0)",parallaxItems[1].style.transform="translate(0, 0)"),!parallaxSection.classList.contains(".fixed-pr")&&t<=a&&(parallaxItems[1].style.transform="translateY(200vh)"))},firstSection=document.querySelector(".processes"),secondSection=document.querySelector(".characteristics"),parallaxHero=document.querySelector(".parallax-hero"),handleParallaxSection=function(){var e,t,a;viewportWidth<992||(a=firstSection.offsetTop,t=nav.offsetHeight,parallaxHero.style.height="".concat(viewportWidth+t-window.innerHeight,"px"),a=window.scrollY-a,console.log(a),viewportWidth<a?(e=!1,firstSection.style.transform="translate(-".concat(viewportWidth,"px, ").concat(viewportWidth,"px)"),secondSection.style.transform="translate(0, ".concat(viewportWidth-window.innerHeight+t,"px)")):a<=0?(e=!1,firstSection.style.transform="translate(0, 0)",secondSection.style.transform="translate(100%, -100%)"):e=!0,e&&(firstSection.style.transform="translate(-".concat(a,"px, ").concat(a,"px)"),secondSection.style.transform="translate(Calc(100% - ".concat(a,"px), Calc(-100% + ").concat(a,"px))")))},parallaxTexts=document.querySelectorAll(".characteristics-item"),handleParallaxItems=function(e){e.target.classList.contains("reset-pos")&&e.target.classList.remove("reset-pos"),e.target.classList.add("add-pos");var t=e.clientX,a=e.clientY,o=e.target.offsetWidth/2,e=e.target.offsetHeight/2,n=(o-t)/40,r=(e-a)/40;parallaxTexts.forEach(function(e){e.classList.contains("reset-pos")&&e.classList.remove("reset-pos"),e.classList.add("add-pos"),e.style.setProperty("--transform-y","".concat(r,"px")),e.style.setProperty("--transform-x","".concat(n,"px"))})};secondSection.addEventListener("mousemove",handleParallaxItems),secondSection.addEventListener("mouseout",function(){parallaxTexts.forEach(function(e){e.classList.add("reset-pos"),e.classList.remove("add-pos")})}),window.onload=function(){headerParallaxHandler(),viewportWidth<=768&&navHandler(),projectsParallaxHandler(),handleParallaxSection()},processBtns.forEach(function(e){return e.addEventListener("click",chengeProcess)}),window.addEventListener("click",function(e){cardOutsideHandler(e)}),window.addEventListener("scroll",function(){headerParallaxHandler(),projectsParallaxHandler(),handleParallaxSection()}),window.addEventListener("resize",function(){(viewportWidth=window.innerWidth)<=768&&navHandler(),992<=viewportWidth||cardsActivatorHandler()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50cm9UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9CdG4iLCJxdWVyeVNlbGVjdG9yIiwicmFjb29uIiwiaW50cm8iLCJ3aW5kb3ciLCJ2aWV3cG9ydFdpZHRoIiwiY2FyZHNBY3RpdmF0b3JIYW5kbGVyIiwiY2FyZHMiLCJmb3JFYWNoIiwiY2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwibW5hdkl0ZW1zIiwiY2xvc2UiLCJidXJnZXJJY29uIiwib2xkQnVyZ2VySWNvbiIsImNsb25lTm9kZSIsInJlcGxhY2VXaXRoIiwibmF2TGlzdCIsIm9sZE5hdkxpc3RCYWNrZ3JvdW5kIiwicmV2ZWFsIiwidG9nZ2xlIiwibmF2YmFyIiwib2xkSXRlbSIsImhlYWRlclBhcmFsbGF4SGFuZGxlciIsImlzRXhwYW5kZWQiLCJnZXRBdHRyaWJ1dGUiLCJpdGVtIiwibmF2TGlzdEJhY2tncm91bmQiLCJzY3JvbGxZIiwib3BhY2l0eVZhbHVlIiwib2Zmc2V0WSIsInN0eWxlIiwidHJhbnNmb3JtIiwicG9pbnRlckV2ZW50cyIsImNvbmNhdCIsInJhdGUiLCJvcGFjaXR5IiwiaW5uZXJIZWlnaHQiLCJwcm9jZXNzZXNJbmZvIiwiaGVhZGluZyIsInRleHQiLCJidXR0b24iLCJwcm9jZXNzVGl0bGUiLCJjaGVuZ2VQcm9jZXNzIiwiYnRuIiwiY2xvc2VBbGxQcm9jZXNzZXMiLCJwcm9jZXNzQnRucyIsImUiLCJ0YXJnZXQiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsInNldENvbnRlbnQiLCJwcmV2U2VjdGlvbiIsIm5leHRTZWN0aW9uIiwiaSIsInZpZXdwb3J0IiwiaW5uZXJXaWR0aCIsInByZXZTZWN0aW9uT2Zmc2V0Iiwib2Zmc2V0VG9wIiwicHJvY2Vzc1RleHQiLCJwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciIsInBhcmFsbGF4U2VjdGlvbiIsInNjcm9sbFRvcCIsImZpcnN0QW5jaG9yUG9pbnQiLCJzZWNvbmRBbmNob3JQb2ludCIsInBhcmFsbGF4SXRlbXMiLCJzZWN0aW9uSGVhZGluZyIsIm9mZnNldEhlaWdodCIsIm5hdiIsImhlaWdodCIsImhhbmRsZVBhcmFsbGF4U2VjdGlvbiIsInNlY3Rpb25PZmZTZXQiLCJwYXJhbGxheEhlcm8iLCJjb25zb2xlIiwic2Nyb2xsUGVybWlzaW9uIiwic2Vjb25kU2VjdGlvbiIsImhhbmRsZVBhcmFsbGF4SXRlbXMiLCJtaWRkbGVZIiwibWlkZGxlWCIsIngiLCJsb2ciLCJzZXRQcm9wZXJ0eSIsImZpcnN0U2VjdGlvbiIsIm5hdkhlaWdodCIsInBhcmFsbGF4VGV4dHMiLCJjbGllbnRYIiwib2Zmc2V0V2lkdGgiLCJmaW5hbFkiLCJ5IiwibmF2SGFuZGxlciIsImZpbmFsWCIsIm9ubG9hZCIsImNhcmRPdXRzaWRlSGFuZGxlciJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsaUJBQWlCLGFBQWEsRUFDbkRDLFNBQVdGLFNBQVNHLGNBQWMsWUFBWSxFQUQ5Q0osT0FBU0MsU0FBV0csY0FBQ0YsU0FBaUIsRUFDdENDLE1BQVFGLFNBQVdHLGNBQWMsUUFBQyxFQUNsQ0MsSUFBTUosU0FBV0csY0FBYyxTQUFDLEVBQ2hDRSxjQUFnQkMsT0FBQ0gsV0FFbkJJLE1BQUFBLFNBQWdCRCxpQkFBaUIsd0JBQUEsRUFJL0JFLHNCQUF3QixXQUM3QkMsTUFBS0MsUUFBUSxTQUFDQyxHQUNiQSxFQUFBQSxpQkFBS0MsUUFBd0IsV0FDNUJILE1BQUFBLFFBQU1DLFNBQUFBLEdBQ0xHLEVBQUFDLFVBQU9BLFNBQVVDLFFBQVMsR0FDekJGLEVBQUdDLFVBQUFBLE9BQVVFLFFBQU8sQ0FFdEIsQ0FBQyxFQUNETCxFQUFBQSxVQUFLRyxJQUFVRyxRQUFJLENBQ3BCLENBQUMsRUFFRE4sRUFDQ0YsaUJBQWMsV0FBUSxXQUF0QkEsTUFDQ0MsUUFBT0ksU0FBQUEsR0FBSEQsRUFDSEEsVUFB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bnRyb1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm8tdGV4dCcpO1xuY29uc3QgaW50cm9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8tYnRuJyk7XG5jb25zdCByYWNvb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmFjb29uJyk7XG5jb25zdCBpbnRybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRybycpO1xuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xubGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxuY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VydmljZXNfX2NhcmRzIC5jYXJkJyk7XG5cbmNvbnN0IGNhcmRzQWN0aXZhdG9ySGFuZGxlciA9ICgpID0+IHtcblx0Y2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRjYXJkcy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0fSk7XG5cblx0XHRjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuXHRcdFx0Y2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXHR9KTtcbn07XG5cbmNvbnN0IGNhcmRPdXRzaWRlSGFuZGxlciA9IChlKSA9PiB7XG5cdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcblx0XHRjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG5jb25zdCBuYXZIYW5kbGVyID0gKCkgPT4ge1xuXHRjb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XG5cdGNvbnN0IG9sZEJ1cmdlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWljb24nKTtcblx0Y29uc3QgbW5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1uYXYgYScpO1xuICBjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYgLm5hdi1saXN0Jylcblx0Y29uc3Qgb2xkTmF2TGlzdEJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWxpc3QtYmFja2dyb3VuZCcpO1xuXHRjb25zdCByZXZlYWwgPSAoKSA9PiB7XG5cdFx0YnVyZ2VySWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0XHRuYXZiYXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgbGV0IGlzRXhwYW5kZWQgPSBuYXZMaXN0LmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpXG4gICAgaWYoaXNFeHBhbmRlZCA9PSAnZmFsc2UnKXtcbiAgICAgIGlzRXhwYW5kZWQgPSBmYWxzZVxuICAgIH0gXG4gICAgZWxzZSB7XG4gICAgICBpc0V4cGFuZGVkID0gdHJ1ZVxuICAgIH1cbiAgICBuYXZMaXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICFpc0V4cGFuZGVkKVxuXHR9O1xuXHRjb25zdCBjbG9zZSA9ICgpID0+IHtcblx0XHRidXJnZXJJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdG5hdmJhci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBuYXZMaXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG5cdH07XG5cdGNvbnN0IGJ1cmdlckljb24gPSBvbGRCdXJnZXJJY29uLmNsb25lTm9kZSh0cnVlKTtcblx0YnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJldmVhbCk7XG5cdG9sZEJ1cmdlckljb24ucmVwbGFjZVdpdGgoYnVyZ2VySWNvbik7XG5cdG1uYXZJdGVtcy5mb3JFYWNoKChvbGRJdGVtKSA9PiB7XG5cdFx0Y29uc3QgaXRlbSA9IG9sZEl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XG5cdFx0b2xkSXRlbS5yZXBsYWNlV2l0aChpdGVtKTtcblx0fSk7XG5cdGNvbnN0IG5hdkxpc3RCYWNrZ3JvdW5kID0gb2xkTmF2TGlzdEJhY2tncm91bmQuY2xvbmVOb2RlKCk7XG5cdG5hdkxpc3RCYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpO1xuXHRvbGROYXZMaXN0QmFja2dyb3VuZC5yZXBsYWNlV2l0aChuYXZMaXN0QmFja2dyb3VuZCk7XG59O1xuXG5jb25zdCBoZWFkZXJQYXJhbGxheEhhbmRsZXIgPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgNzY4KSB7XG5cdFx0Y29uc3QgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8nKTtcblx0XHRpbnRyby5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG9mZnNldFkgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Y29uc3QgcmF0ZSA9IHdpbmRvdy5zY3JvbGxZICogMC4xO1xuXHRjb25zdCBvcGFjaXR5VmFsdWUgPSAxIC8gKG9mZnNldFkgLyAxMDAgKyAxKTtcblxuXHRpbnRyb1RleHRbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNH1weClgO1xuXHRpbnRyb1RleHRbMV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtM31weClgO1xuXHRpbnRyb1RleHRbMl0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNn1weClgO1xuXHRpbnRyb1RleHRbM10uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxN31weClgO1xuXHRpbnRyb1RleHRbNF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAtOX1weClgO1xuXHRpbnRyb1RleHRbNV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3JhdGUgKiAxNy41fXB4KWA7XG5cblx0aWYgKG9mZnNldFkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcblx0XHRpbnRyby5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXHRcdGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdH0gZWxzZSB7XG5cdFx0aW50cm9CdG4uc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHlWYWx1ZX1gO1xuXHRcdHJhY29vbi5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eVZhbHVlfWA7XG5cdFx0aW50cm8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnO1xuXHRcdGludHJvLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG5cdH1cbn07XG5cbi8vIFByb2Nlc3NlcyAtIGxpc3RcbmNvbnN0IHByb2Nlc3Nlc0luZm8gPSBbXG5cdHtcblx0XHRoZWFkaW5nOiAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5PycsXG5cdFx0dGV4dDogJ1phY3p5bmFteSBvZCBva3JlxZtsZW5pYSDFm3dpYWRjem9uZWogdXPFgnVnaS4gSmXFvGVsaSBqZXN0IHRvIGJ1ZG93YSBsdWIgcHJvamVrdG93YW5pZSwgdG8gcHl0YW15IGN6eSBpc3RuaWVqZSBqYWtpZcWbIGxvZ28sIGLEhWTFuiB3aXp5dMOzd2thIGZpcm15LiBOYXN0xJlwbmllIHphcHl0YW15IG8gdHJlxZtjaSwga3TDs3JlIG1pYcWCeWJ5IHNpxJkgem5hbGXFusSHIG5hIHN0cm9uaWUuIE5hIHBvZHN0YXdpZSB0ZWdvIHR3b3J6eW15IHd5xYLEhWN6bmllIHN0cnVrdHVyxJkgaSB3eWNlbmlhbXkgcHJvamVrdC4gTmFzdMSZcG5pZSB6YWN6eW5hbXkgcHJvamVrdG93YcSHLicsXG5cdFx0YnV0dG9uOiAnS29uc3VsdGFjamEnLFxuXHR9LFxuXHR7XG5cdFx0aGVhZGluZzogJ0phayB3eWdsxIVkYSBwcmV6ZW50YWNqYSBwcm9qZWt0dT8nLFxuXHRcdHRleHQ6ICdQbyBza2/FhGN6ZW5pdSBwcm9qZWt0dSBzdHJvbnksIHByemVkc3Rhd2lhbXkgZ28gVG9iaWUgZG8gb2NlbmllbmlhLiBXdGVkeSBwcnp5am11amVteSB3c3plbGtpZSB1d2FnaSBkb3QuIGRvYm9ydSBrb2xvcsOzdywgYnVkb3d5IHNla2NqaSBpdGQuIFTFgnVtYWN6eW15IHRlxbwsIGN6ZW11IHBld25lIGVsZW1lbnR5IG11c3rEhSB6YXdpZXJhxIcgbmlla3TDs3JlIGNlY2h5LiBQw7PFum5pZWogbmFub3NpbXkgd3N6ZWxraWUgem1pYW55LicsXG5cdFx0YnV0dG9uOiAnUHJlemVudGFjamEnLFxuXHR9LFxuXHR7XG5cdFx0aGVhZGluZzogJ0N6eW0gamVzdCBldGFwIHphdHdpZXJkemVuaWE/Jyxcblx0XHR0ZXh0OiAnVG8ga3JvaywgdyBrdMOzcnltIGRlY3lkdWplc3ogc2nEmSBuYSBwb2RqxJljaWUgbHViIG9kcnp1Y2VuaWUgbmFzenljaCB1c8WCdWcuIEplxbxlbGkgemxlY2lzeiBuYW0gc3R3b3J6ZW5pZSBzdHJvbnksIHRvIHByemVrYcW8ZW15IENpIGlsZSBwcmF3ZG9wb2RvYm5pZSB6YWptaWUgdG8gbmFtIGN6YXN1LiBEb2RhdGtvd28gYsSZZHppZW15IHBvdHJ6ZWJvd2FsaSBkb2vFgmFkbnljaCB0cmXFm2NpLCBrdMOzcmUgbWFqxIUgc2nEmSBmaW5hbG5pZSB6bmFsZcW6xIcgbmEgVHdvamVqIHdpdHJ5bmllLicsXG5cdFx0YnV0dG9uOiAnWmF0d2llcmR6ZW5pZScsXG5cdH0sXG5cdHtcblx0XHRoZWFkaW5nOiAnV3lrb25hbmllIHByb2pla3R1IScsXG5cdFx0dGV4dDogJ1RlbiBrcm9rIHpvc3RhdyBuYW0hIE9kIHJhenUgemFiaWVyemVteSBzacSZIGRvIHR3b3J6ZW5pYSBUd29qZWogd3ltYXJ6b25laiB3aXp5dMOzd2tpIGludGVybmV0b3dlai4gUG9kY3phcyB0ZWdvIGN6YXN1IG1vxbxlc3ogbmFtIHByemVrYXphxIcgd3N6ZWxraWUgZG9kYXRrb3dlIGluZm9ybWFjamUsIGEgbXkgd2XFum1pZW15IGplIHBvZCB1d2FnxJkuIFBvIHpha2/FhGN6b25laiBwcmFjeSB6b3N0YcWCbyB0eWxrbyB1bWllxZtjacSHIGrEhSBuYSBob3N0aW5ndS4nLFxuXHRcdGJ1dHRvbjogJ1d5a29uYW5pZScsXG5cdH0sXG5dO1xuY29uc3QgcHJvY2Vzc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1jb250ZW50LXRpdGxlJyk7XG5jb25zdCBwcm9jZXNzVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtY29udGVudC10ZXh0Jyk7XG5jb25zdCBwcm9jZXNzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9jZXNzZXMtbGlzdC1pdGVtJyk7XG5jb25zdCBjaGVuZ2VQcm9jZXNzID0gKGUpID0+IHtcblx0Y29uc3QgYnRuID0gZS50YXJnZXQ7XG5cblx0aWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdFx0cmV0dXJuO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWxsUHJvY2Vzc2VzKCk7XG5cdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldENvbnRlbnQoKTtcbn07XG5cbmNvbnN0IGNsb3NlQWxsUHJvY2Vzc2VzID0gKCkgPT4ge1xuXHRwcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG59O1xuXG5jb25zdCBzZXRDb250ZW50ID0gKCkgPT4ge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2Nlc3Nlc0luZm8ubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAocHJvY2Vzc0J0bnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuXHRcdFx0cHJvY2Vzc1RpdGxlLnRleHRDb250ZW50ID0gcHJvY2Vzc2VzSW5mb1tpXS5oZWFkaW5nO1xuXHRcdFx0cHJvY2Vzc1RleHQudGV4dENvbnRlbnQgPSBwcm9jZXNzZXNJbmZvW2ldLnRleHQ7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59O1xuXG4vKiBQUk9KRUNUUyBQQVJBTExBWCAqL1xuXG5jb25zdCBwYXJhbGxheFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtZGVza3RvcC1jbnQnKTtcbmNvbnN0IHBhcmFsbGF4SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdHMtcGFyYWxsYXgnKTtcbmNvbnN0IHByZXZTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2VzJyk7XG5jb25zdCBuZXh0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcbmxldCB2aWV3cG9ydCA9IHdpbmRvdy5pbm5lcldpZHRoO1xubGV0IHByZXZTZWN0aW9uT2Zmc2V0ID0gcHJldlNlY3Rpb24ub2Zmc2V0VG9wO1xuXG5jb25zdCBwcm9qZWN0c1BhcmFsbGF4SGFuZGxlciA9ICgpID0+IHtcblx0aWYgKHZpZXdwb3J0IDwgOTkyKSByZXR1cm47XG5cdGNvbnN0IHNlY3Rpb25IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzIC5zZWN0aW9uX19oZWFkaW5nJyk7XG5cdGxldCBmaXJzdEFuY2hvclBvaW50ID1cblx0XHRwcmV2U2VjdGlvbk9mZnNldCArXG5cdFx0cHJldlNlY3Rpb24ub2Zmc2V0SGVpZ2h0ICtcblx0XHRzZWN0aW9uSGVhZGluZy5vZmZzZXRIZWlnaHQgK1xuXHRcdG5hdi5vZmZzZXRIZWlnaHQ7XG5cdGxldCBzZWNvbmRBbmNob3JQb2ludCA9XG5cdFx0bmV4dFNlY3Rpb24ub2Zmc2V0VG9wIC1cblx0XHRuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgK1xuXHRcdHNlY3Rpb25IZWFkaW5nLm9mZnNldEhlaWdodDtcblx0Y29uc3QgcHJvamVjdHNEZXNrdG9wQ250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250Jyk7XG5cdHByb2plY3RzRGVza3RvcENudC5zdHlsZS5oZWlnaHQgPSBgQ2FsYyg2MDB2aCArICR7c2VjdGlvbkhlYWRpbmcub2Zmc2V0SGVpZ2h0fXB4KWA7XG5cblx0bGV0IHNjcm9sbFRvcCA9IHdpbmRvdy5zY3JvbGxZO1xuXHQvLyBsZXQgc2Nyb2xsVG9BbmNob3IgPSBuZXh0U2VjdGlvbi5vZmZzZXRIZWlnaHQgKyBuZXh0U2VjdGlvbi5vZmZzZXRUb3Bcblx0aWYgKHNjcm9sbFRvcCA+PSBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkLXByJyk7XG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCB8fCBzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkLXByJyk7XG5cdH1cblx0aWYgKHNjcm9sbFRvcCA+PSBzZWNvbmRBbmNob3JQb2ludCkge1xuXHRcdHBhcmFsbGF4SXRlbXNbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAwKWA7XG5cdFx0cGFyYWxsYXhJdGVtc1sxXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsIDQyMDBweClgO1xuXHR9XG5cblx0aWYgKHBhcmFsbGF4U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpeGVkLXByJykpIHtcblx0XHRwYXJhbGxheEl0ZW1zWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAtJHtcblx0XHRcdHNjcm9sbFRvcCAtIGZpcnN0QW5jaG9yUG9pbnRcblx0XHR9cHgpYDtcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4LCAke1xuXHRcdFx0c2Nyb2xsVG9wIC0gZmlyc3RBbmNob3JQb2ludFxuXHRcdH1weClgO1xuXHR9XG5cdGlmIChzY3JvbGxUb3AgPCBmaXJzdEFuY2hvclBvaW50KSB7XG5cdFx0cGFyYWxsYXhJdGVtc1swXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJztcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwgMCknO1xuXHR9XG5cdGlmIChcblx0XHQhcGFyYWxsYXhTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnLmZpeGVkLXByJykgJiZcblx0XHRzY3JvbGxUb3AgPj0gc2Vjb25kQW5jaG9yUG9pbnRcblx0KSB7XG5cdFx0Ly9vIGlsb8WbxIcgc2VrY2ppICogMjAwdmhcblx0XHRwYXJhbGxheEl0ZW1zWzFdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKDIwMHZoKWA7XG5cdH1cbn07XG5cbmNvbnN0IGZpcnN0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMnKTtcbmNvbnN0IHNlY29uZFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyaXN0aWNzJyk7XG5jb25zdCBwYXJhbGxheEhlcm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFyYWxsYXgtaGVybycpO1xuXG5jb25zdCBoYW5kbGVQYXJhbGxheFNlY3Rpb24gPSAoKSA9PiB7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDwgOTkyKSByZXR1cm47XG5cdGxldCBzY3JvbGxQZXJtaXNpb247XG5cdGNvbnN0IHNlY3Rpb25PZmZTZXQgPSBmaXJzdFNlY3Rpb24ub2Zmc2V0VG9wO1xuXHRjb25zdCBuYXZIZWlnaHQgPSBuYXYub2Zmc2V0SGVpZ2h0O1xuXHRwYXJhbGxheEhlcm8uc3R5bGUuaGVpZ2h0ID0gYCR7XG5cdFx0dmlld3BvcnRXaWR0aCArIG5hdkhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxuXHR9cHhgO1xuXHRjb25zdCBzY3JvbGxWYWx1ZSA9IHdpbmRvdy5zY3JvbGxZO1xuXHRjb25zdCByYXRlID0gc2Nyb2xsVmFsdWUgLSBzZWN0aW9uT2ZmU2V0O1xuXHRjb25zb2xlLmxvZyhyYXRlKTtcblx0aWYgKHJhdGUgPiB2aWV3cG9ydFdpZHRoKSB7XG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLSR7dmlld3BvcnRXaWR0aH1weCwgJHt2aWV3cG9ydFdpZHRofXB4KWA7XG5cdFx0c2Vjb25kU2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsICR7XG5cdFx0XHR2aWV3cG9ydFdpZHRoIC0gd2luZG93LmlubmVySGVpZ2h0ICsgbmF2SGVpZ2h0XG5cdFx0fXB4KWA7XG5cdH0gZWxzZSBpZiAocmF0ZSA8PSAwKSB7XG5cdFx0c2Nyb2xsUGVybWlzaW9uID0gZmFsc2U7XG5cdFx0Zmlyc3RTZWN0aW9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgMClgO1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgxMDAlLCAtMTAwJSlgO1xuXHR9IGVsc2Uge1xuXHRcdHNjcm9sbFBlcm1pc2lvbiA9IHRydWU7XG5cdH1cblx0aWYgKHNjcm9sbFBlcm1pc2lvbikge1xuXHRcdGZpcnN0U2VjdGlvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC0ke3JhdGV9cHgsICR7cmF0ZX1weClgO1xuXHRcdHNlY29uZFNlY3Rpb24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZShDYWxjKDEwMCUgLSAke3JhdGV9cHgpLCBDYWxjKC0xMDAlICsgJHtyYXRlfXB4KSlgO1xuXHR9XG59O1xuXG4vLyBwYXJhbGxheCBJdGVtc1xuXG5jb25zdCBwYXJhbGxheFRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3RlcmlzdGljcy1pdGVtJyk7XG5jb25zdCBoYW5kbGVQYXJhbGxheEl0ZW1zID0gKGUpID0+IHtcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzZXQtcG9zJykpIHtcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNldC1wb3MnKTtcblx0fVxuXHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZGQtcG9zJyk7XG5cblx0bGV0IHggPSBlLmNsaWVudFg7XG5cdGxldCB5ID0gZS5jbGllbnRZO1xuXHRjb25zdCBtaWRkbGVYID0gZS50YXJnZXQub2Zmc2V0V2lkdGggLyAyO1xuXHRjb25zdCBtaWRkbGVZID0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMjtcblx0bGV0IGZpbmFsWCA9IChtaWRkbGVYIC0geCkgLyA0MDtcblx0bGV0IGZpbmFsWSA9IChtaWRkbGVZIC0geSkgLyA0MDtcblxuXHRwYXJhbGxheFRleHRzLmZvckVhY2goKHRleHQpID0+IHtcblx0XHRpZiAodGV4dC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2V0LXBvcycpKSB7XG5cdFx0XHR0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2V0LXBvcycpO1xuXHRcdH1cblx0XHR0ZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1wb3MnKTtcblxuXHRcdHRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdHJhbnNmb3JtLXknLCBgJHtmaW5hbFl9cHhgKTtcblx0XHR0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCctLXRyYW5zZm9ybS14JywgYCR7ZmluYWxYfXB4YCk7XG5cdH0pO1xufTtcblxuc2Vjb25kU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVQYXJhbGxheEl0ZW1zKTtcbnNlY29uZFNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG5cdHBhcmFsbGF4VGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuXHRcdHRleHQuY2xhc3NMaXN0LmFkZCgncmVzZXQtcG9zJyk7XG5cdFx0dGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtcG9zJyk7XG5cdH0pO1xufSk7XG5cbi8vIGZ1bmN0aW9ucyBhY3Rpb25zXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRpZiAodmlld3BvcnRXaWR0aCA8PSA3NjgpIHtcblx0XHRuYXZIYW5kbGVyKCk7XG5cdH1cblx0cHJvamVjdHNQYXJhbGxheEhhbmRsZXIoKTtcblx0aGFuZGxlUGFyYWxsYXhTZWN0aW9uKCk7XG59O1xuXG5wcm9jZXNzQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZW5nZVByb2Nlc3MpKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0Y2FyZE91dHNpZGVIYW5kbGVyKGUpO1xufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdGhlYWRlclBhcmFsbGF4SGFuZGxlcigpO1xuXHRwcm9qZWN0c1BhcmFsbGF4SGFuZGxlcigpO1xuXHRoYW5kbGVQYXJhbGxheFNlY3Rpb24oKTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuXHR2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdGlmICh2aWV3cG9ydFdpZHRoIDw9IDc2OCkge1xuXHRcdG5hdkhhbmRsZXIoKTtcblx0fVxuXHRpZiAodmlld3BvcnRXaWR0aCA+PSA5OTIpIHJldHVybjtcblx0Y2FyZHNBY3RpdmF0b3JIYW5kbGVyKCk7XG59KTtcbiJdfQ==
