"use strict";emailjs.init("Hhpvi3dgfNV-eaXKW");var btn=document.querySelector(".buttoners"),cross=document.querySelector(".cross"),formBox=document.querySelector(".form-box"),notifications=document.querySelector(".notifications"),notificationMessages={cooldown:'Błąd podczas wysyłania maila.<br>Osiągnięto limit maili wynoszący: <span class="highlight">3</span>.<br>Spróbuj 24h po wysłaniu ostatniego maila.',error:"Błąd podczas wysyłania maila.<br>Spróbuj ponownie później.",success:' E-mail pomyślnie wysłano.<br>Liczba maili możliwych do wysłania<br>w ciągu następnych 24h: <span class="highlight"></span>.'},opennedForm=formBox.querySelector(".open-form-inner"),form=document.querySelector(".contact form"),formTelephoneControls=document.querySelectorAll(".form-controls"),numbers="0123456789",disableScroll=function(){var e=window.scrollY;window.onscroll=function(){window.scrollTo({top:e,behavior:"instant"})}},handleArrowRight=function(e){e=e.nextElementSibling;e&&e.focus()},handleArrowLeft=function(e){e=e.previousElementSibling;e&&e.focus()},handleInput=function(e,t){"Backspace"==e?""==t.value?handleArrowLeft(t):t.value="":""!=t.value&&handleArrowRight(t)},enableScroll=function(){window.onscroll=function(){}},closeFormIfOutside=function(e){opennedForm.contains(e.target)||e.target==btn||(formBox.setAttribute("aria-hidden","true"),enableScroll())},resetForm=function(){var e=form.querySelectorAll("input"),t=form.querySelector("textarea");e.forEach(function(e){e.value=""}),t.value=""},createNotification=function(e,t){var o=document.createElement("div"),e=(o.setAttribute("data-success",e),document.createElement("p"));e.innerHTML=t,o.append(e),t==notificationMessages.success&&(t=3-+document.cookie.split(";").find(function(e){return e.trim().startsWith("limit")}).split("=")[1],e.querySelector(".highlight").append(t)),o.classList.add("notification"),notifications.append(o),setTimeout(function(){o.classList.add("shown"),setTimeout(function(){o.classList.remove("shown"),setTimeout(function(){o.remove()},500)},5e3)},100)};btn.addEventListener("click",function(){disableScroll(),formBox.setAttribute("aria-hidden","false")}),cross.addEventListener("click",function(){enableScroll(),formBox.setAttribute("aria-hidden","true")}),formTelephoneControls.forEach(function(t){t.addEventListener("keydown",function(e){"ArrowRight"==e.key?handleArrowRight(t):"ArrowLeft"==e.key?handleArrowLeft(t):handleInput(e.key,t)}),t.addEventListener("input",function(e){numbers.includes(e.target.value)||(e.target.value="")})}),form.addEventListener("submit",function(e){e.preventDefault();var o,e=document.cookie.split(";");e.find(function(e){return e.trim().startsWith("emailCooldown")})?(formBox.classList.add("hidden"),enableScroll(),createNotification("false",notificationMessages.cooldown)):(e=e.find(function(e){return e.trim().startsWith("limit")}),3<=(o=e?+e.split("=")[1]:0)?((e=new Date).setTime(e.getTime()+72e5),document.cookie="emailCooldown = emailCooldown; expires =  ".concat(e),document.cookie="limit=3; expires = ".concat(e),resetForm(),formBox.setAttribute("aria-hidden","true"),enableScroll(),createNotification("false",notificationMessages.cooldown)):emailjs.sendForm("service_pk7b8o3","template_ykytfdk",form).then(function(){var e,t;formBox.setAttribute("aria-hidden","true"),enableScroll(),resetForm(),e=++o,(t=new Date).setTime(t.getTime()+864e5),document.cookie="limit=".concat(e,"; expires = ").concat(t),createNotification("true",notificationMessages.success)}).catch(function(){createNotification("false",notificationMessages.error)}))}),window.addEventListener("click",function(e){return closeFormIfOutside(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY3Rpb25zL2NvbnRhY3QuanMiXSwibmFtZXMiOlsiZW1haWxqcyIsImluaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidG4iLCJjcm9zcyIsImZvcm1Cb3giLCJub3RpZmljYXRpb25zIiwiY29vbGRvd24iLCJub3RpZmljYXRpb25NZXNzYWdlcyIsImVycm9yIiwib3Blbm5lZEZvcm0iLCJmb3JtIiwicXVlcnlTZWxlY3RvckFsbCIsIm51bWJlcnMiLCJkaXNhYmxlU2Nyb2xsIiwic2Nyb2xsVG9wIiwid2luZG93Iiwic2Nyb2xsWSIsIm9uc2Nyb2xsIiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsIm5leHRDb250cm9sIiwiY29udHJvbCIsIm5leHRFbGVtZW50U2libGluZyIsImZvY3VzIiwicHJldkNvbnRyb2wiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiaGFuZGxlQXJyb3dMZWZ0Iiwia2V5IiwidmFsdWUiLCJoYW5kbGVBcnJvd1JpZ2h0IiwiZW5hYmxlU2Nyb2xsIiwiaW5wdXRzIiwidGV4dGFyZWEiLCJlIiwidGFyZ2V0IiwiZm9yRWFjaCIsImlucHV0IiwiY3JlYXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlzU3VjY2VzcyIsImlubmVySFRNTCIsIm1lc3NhZ2UiLCJzdGFydHNXaXRoIiwiaGlnaGxpZ2h0U3BhbiIsImxpbWl0VmFsdWUiLCJsaW1pdENvb2tpZSIsImFwcGVuZCIsInAiLCJjbGFzc0xpc3QiLCJzdWNjZXNzIiwiYWRkIiwic3BsaXQiLCJmaW5kIiwiY29va2llIiwidHJpbSIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9ybVRlbGVwaG9uZUNvbnRyb2xzIiwiaW5jbHVkZXMiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGUiLCJnZXRUaW1lIiwiZGF5IiwicmVzZXRGb3JtIiwiY29va2llcyIsIkRhdGUiLCJjb250YWN0U2VydmljZUlkIiwiY29udGFjdEZvcm1JZCIsImNvbmNhdCIsInNlbmRGb3JtIiwidGhlbiIsInNldFRpbWUiLCJjbG9zZUZvcm1JZk91dHNpZGUiXSwibWFwcGluZ3MiOiJhQUNBQSxRQUFRQyxLQUFLLG1CQUFtQixFQUFoQ0QsSUFBQUEsSUFBWUUsU0FBQ0MsY0FBb0IsWUFBQSxFQUUzQkMsTUFBTUYsU0FBU0MsY0FBYyxRQUFZLEVBQ3pDRSxRQUFRSCxTQUFTQyxjQUFjLFdBQVMsRUFDeENHLGNBQWtCSixTQUFDQyxjQUFjLGdCQUFZLEVBQzdDSSxxQkFBeUJKLENBQy9CSyxTQUFNQyxvSkFDSkQsTUFBQUEsNkRBQ0FFLFFBQU8sOEhBRVQsRUFBQ0MsWUFBQUwsUUFBQUgsY0FBQSxrQkFBQSxFQUNLUSxLQUFBQSxTQUFjTCxjQUFRSCxlQUFjLEVBQ3BDUyxzQkFBZ0JULFNBQWNVLGlCQUFnQixnQkFBQSxFQUc5Q0MsUUFBVSxhQUNWQyxjQUFnQixXQUNwQixJQUFNQyxFQUFZQyxPQUFPQyxRQUN6QkQsT0FBT0UsU0FBVyxXQUNoQkYsT0FBT0csU0FBUyxDQUNkQyxJQUFLTCxFQUNMTSxTQUFVLFNBQ1osQ0FBQyxDQUNILENBQ0YsRUFHUUMsaUJBQWNDLFNBQUFBLEdBQ2pCRCxFQUFZQyxFQUFBQyxtQkFDYkYsR0FDRkEsRUFBQUcsTUFBQSxDQUdGLEVBRUtDLGdCQUFZLFNBQUFILEdBQ2JHLEVBQWtCSCxFQUFDSSx1QkFDckJELEdBQ0RBLEVBQUFELE1BQUEsQ0FBRCxFQUtNRyxZQUFBQSxTQUFlQyxFQUFDTixHQUViLGFBREpNLEVBRW1CLElBQWxCTixFQUFRTyxNQUNWRixnQkFBQUwsQ0FBQSxFQUlFUSxFQUFBQSxNQUFnQixHQUtELElBQWZDLEVBQUFBLE9BQ0poQixpQkFBa0JPLENBQUEsQ0FIcEIsRUFTSVMsYUFBYyxXQUNoQmhCLE9BQUFFLFNBQUEsWUFDRixFQUdRZSxtQkFBY3JCLFNBQUFBLEdBQ2RzQixZQUFXdkIsU0FBS1QsRUFBQUEsTUFBYSxHQUFDaUMsRUFBQUMs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LEVBUlJyRSxRQVVFQSxhQUFRcUMsY0FBMEIsTUFBRSxFQVR0Q1YsYUFVRUEsRUFURk8sbUJBVWEsUUFBQS9CLHFCQUFBRCxRQUFBLEdBT2ZSLFFBQUEyRSxTQUhlLGtCQUNRLG1CQUV2Qi9ELElBQUEsRUFDRGdFLEtBQ0ksV0FyQ2MsSUFBQTdDLEVBQ29CbUMsRUFxQ3JDNUQsUUFBUStDLGFBQWMsY0FBUyxNQUFBLEVBQy9CcEIsYUFBYyxFQUNkTyxVQUFBQSxFQXhDaUJULEVBeUNuQixFQUFBa0IsR0F4Q3VDaUIsRUFBSVIsSUFBT0MsTUFBMkJrQixRQUFBWCxFQUFBQyxRQUFBLEVBQXZFakIsS0FBdUUsRUFDM0VoRCxTQUFJK0MsT0FBVSxTQUFBeUIsT0FBQTNDLEVBQUEsY0FBQSxFQUFBMkMsT0FBQVIsQ0FBQSxFQXdDaEIxQixtQkFBQSxPQUFBL0IscUJBQUE2QyxPQUFBLENBRUksQ0FBQ1EsRUFBQUEsTUFBaUNnQixXQUFzQnRDLG1CQUFBLFFBQUEvQixxQkFBQUMsS0FBQSxDQVZ4RCxDQUFDLEVBUVAsQ0FBQyxFQUVETyxPQUFPNkMsaUJBQWlCLFFBQVMsU0FBQzFCLEdBQUMsT0FBSzBDLG1CQUFtQjFDLENBQUMsQ0FBQyxDQUFBIiwiZmlsZSI6InNlY3Rpb25zL2NvbnRhY3QubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbmVtYWlsanMuaW5pdCgnSGhwdmkzZGdmTlYtZWFYS1cnKVxyXG5cclxuY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbmVycycpXHJcbmNvbnN0IGNyb3NzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyb3NzJylcclxuY29uc3QgZm9ybUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWJveCcpXHJcbmNvbnN0IG5vdGlmaWNhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90aWZpY2F0aW9ucycpXHJcbmNvbnN0IG5vdGlmaWNhdGlvbk1lc3NhZ2VzID0ge1xyXG4gIGNvb2xkb3duOiAnQsWCxIVkIHBvZGN6YXMgd3lzecWCYW5pYSBtYWlsYS48YnI+T3NpxIVnbmnEmXRvIGxpbWl0IG1haWxpIHd5bm9zesSFY3k6IDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+Mzwvc3Bhbj4uPGJyPlNwcsOzYnVqIDI0aCBwbyB3eXPFgmFuaXUgb3N0YXRuaWVnbyBtYWlsYS4nLFxyXG4gIGVycm9yOiAnQsWCxIVkIHBvZGN6YXMgd3lzecWCYW5pYSBtYWlsYS48YnI+U3Byw7NidWogcG9ub3duaWUgcMOzxbpuaWVqLicsXHJcbiAgc3VjY2VzczogJyBFLW1haWwgcG9tecWbbG5pZSB3eXPFgmFuby48YnI+TGljemJhIG1haWxpIG1vxbxsaXd5Y2ggZG8gd3lzxYJhbmlhPGJyPncgY2nEhWd1IG5hc3TEmXBueWNoIDI0aDogPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj48L3NwYW4+LidcclxufVxyXG5jb25zdCBvcGVubmVkRm9ybSA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLm9wZW4tZm9ybS1pbm5lcicpXHJcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdCBmb3JtJylcclxuY29uc3QgZm9ybVRlbGVwaG9uZUNvbnRyb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tY29udHJvbHMnKVxyXG5cclxuY29uc3QgbnVtYmVycyA9ICcwMTIzNDU2Nzg5J1xyXG5jb25zdCBkaXNhYmxlU2Nyb2xsID0gKCkgPT4ge1xyXG4gIGNvbnN0IHNjcm9sbFRvcCA9IHdpbmRvdy5zY3JvbGxZXHJcbiAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgdG9wOiBzY3JvbGxUb3AsXHJcbiAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCcsXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlQXJyb3dSaWdodCA9IChjb250cm9sKSA9PiB7XHJcbiAgY29uc3QgbmV4dENvbnRyb2wgPSBjb250cm9sLm5leHRFbGVtZW50U2libGluZ1xyXG4gIGlmKG5leHRDb250cm9sKXtcclxuICAgIG5leHRDb250cm9sLmZvY3VzKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUFycm93TGVmdCA9IChjb250cm9sKSA9PiB7XHJcbiAgY29uc3QgcHJldkNvbnRyb2wgPSBjb250cm9sLnByZXZpb3VzRWxlbWVudFNpYmxpbmdcclxuICBpZihwcmV2Q29udHJvbCl7XHJcbiAgICBwcmV2Q29udHJvbC5mb2N1cygpXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVJbnB1dCA9IChrZXksIGNvbnRyb2wpID0+IHtcclxuICBpZihrZXkgPT0gJ0JhY2tzcGFjZScpIHtcclxuICAgIGlmKGNvbnRyb2wudmFsdWUgPT0gJycpe1xyXG4gICAgICBoYW5kbGVBcnJvd0xlZnQoY29udHJvbClcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb250cm9sLnZhbHVlID0gJydcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBpZihjb250cm9sLnZhbHVlICE9ICcnKXtcclxuICAgICAgaGFuZGxlQXJyb3dSaWdodChjb250cm9sKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZW5hYmxlU2Nyb2xsID0gKCkgPT4ge1xyXG4gIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlRm9ybUlmT3V0c2lkZSA9IChlKSA9PiB7XHJcbiAgaWYoIW9wZW5uZWRGb3JtLmNvbnRhaW5zKGUudGFyZ2V0KSAmJiBlLnRhcmdldCAhPSBidG4pe1xyXG4gICAgZm9ybUJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxyXG4gICAgZW5hYmxlU2Nyb2xsKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHJlc2V0Rm9ybSA9ICgpID0+IHtcclxuICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JylcclxuICBjb25zdCB0ZXh0YXJlYSA9IGZvcm0ucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxyXG4gIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgIGlucHV0LnZhbHVlID0gJydcclxuICB9KVxyXG4gIHRleHRhcmVhLnZhbHVlID0gJydcclxufVxyXG5cclxuY29uc3QgY3JlYXRlTm90aWZpY2F0aW9uID0gKGlzU3VjY2VzcywgbWVzc2FnZSkgPT4ge1xyXG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgbm90aWZpY2F0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zdWNjZXNzJywgaXNTdWNjZXNzKVxyXG4gICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG4gICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlXHJcbiAgICBub3RpZmljYXRpb24uYXBwZW5kKHApXHJcbiAgICBpZihtZXNzYWdlID09IG5vdGlmaWNhdGlvbk1lc3NhZ2VzLnN1Y2Nlc3Mpe1xyXG4gICAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JylcclxuICAgICAgY29uc3QgbGltaXRDb29raWUgPSBjb29raWVzLmZpbmQoY29va2llID0+IGNvb2tpZS50cmltKCkuc3RhcnRzV2l0aCgnbGltaXQnKSlcclxuICAgICAgY29uc3QgbGltaXRWYWx1ZSA9IDMgLSArbGltaXRDb29raWUuc3BsaXQoJz0nKVsxXVxyXG4gICAgICBjb25zdCBoaWdobGlnaHRTcGFuID0gcC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0JylcclxuICAgICAgaGlnaGxpZ2h0U3Bhbi5hcHBlbmQobGltaXRWYWx1ZSlcclxuICAgIH1cclxuICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnbm90aWZpY2F0aW9uJylcclxuICBub3RpZmljYXRpb25zLmFwcGVuZChub3RpZmljYXRpb24pXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnc2hvd24nKVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93bicpXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoKVxyXG4gICAgICB9LCA1MDApXHJcbiAgICB9LCA1MDAwKVxyXG4gIH0sIDEwMClcclxufVxyXG5cclxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIGRpc2FibGVTY3JvbGwoKVxyXG5cdGZvcm1Cb3guc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpXHJcbn0pXHJcbmNyb3NzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIGVuYWJsZVNjcm9sbCgpXHJcblx0Zm9ybUJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxyXG59KVxyXG5mb3JtVGVsZXBob25lQ29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcclxuICBjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgaWYoZS5rZXkgPT0gJ0Fycm93UmlnaHQnKXtcclxuICAgICAgaGFuZGxlQXJyb3dSaWdodChjb250cm9sKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZihlLmtleSA9PSAnQXJyb3dMZWZ0Jyl7XHJcbiAgICAgIGhhbmRsZUFycm93TGVmdChjb250cm9sKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGhhbmRsZUlucHV0KGUua2V5LCBjb250cm9sKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICBpZighbnVtYmVycy5pbmNsdWRlcyhlLnRhcmdldC52YWx1ZSkpe1xyXG4gICAgICBlLnRhcmdldC52YWx1ZSA9ICcnXHJcbiAgICB9XHJcbiAgfSlcclxufSlcclxuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKVxyXG4gIGNvbnN0IHNldFNlbmRMaW1pdCA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3QgZGF5ID0gMjQgKiA2MCAqIDYwICogMTAwMFxyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIGRheSlcclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGBsaW1pdD0ke3ZhbHVlfTsgZXhwaXJlcyA9ICR7ZGF0ZX1gXHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKVxyXG4gIGNvbnN0IGNvb2xkb3duQ29va2llID0gY29va2llcy5maW5kKGNvb2tpZSA9PiBjb29raWUudHJpbSgpLnN0YXJ0c1dpdGgoJ2VtYWlsQ29vbGRvd24nKSlcclxuICBpZighY29vbGRvd25Db29raWUpe1xyXG4gICAgbGV0IGxpbWl0Q29va2llID0gY29va2llcy5maW5kKGNvb2tpZSA9PiBjb29raWUudHJpbSgpLnN0YXJ0c1dpdGgoJ2xpbWl0JykpXHJcbiAgICBsZXQgbGltaXRWYWx1ZVxyXG4gICAgaWYoIWxpbWl0Q29va2llKXtcclxuICAgICAgbGltaXRWYWx1ZSA9IDBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsaW1pdFZhbHVlID0gK2xpbWl0Q29va2llLnNwbGl0KCc9JylbMV1cclxuICAgIH1cclxuICAgIGlmKGxpbWl0VmFsdWUgPj0gMyl7XHJcbiAgICAgIGNvbnN0IHR3b0hvdXJzID0gMTIwICogNjAgKiAxMDAwXHJcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIHR3b0hvdXJzKVxyXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBgZW1haWxDb29sZG93biA9IGVtYWlsQ29vbGRvd247IGV4cGlyZXMgPSAgJHtkYXRlfWBcclxuICAgICAgZG9jdW1lbnQuY29va2llID0gYGxpbWl0PTM7IGV4cGlyZXMgPSAke2RhdGV9YFxyXG4gICAgICByZXNldEZvcm0oKVxyXG4gICAgICBmb3JtQm94LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpXHJcbiAgICAgIGVuYWJsZVNjcm9sbCgpXHJcbiAgICAgIGNyZWF0ZU5vdGlmaWNhdGlvbignZmFsc2UnLCBub3RpZmljYXRpb25NZXNzYWdlcy5jb29sZG93bilcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBjb250YWN0U2VydmljZUlkID0gJ3NlcnZpY2VfcGs3YjhvMydcclxuICAgICAgY29uc3QgY29udGFjdEZvcm1JZCA9ICd0ZW1wbGF0ZV95a3l0ZmRrJ1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgZW1haWxqcy5zZW5kRm9ybShjb250YWN0U2VydmljZUlkLCBjb250YWN0Rm9ybUlkLCBmb3JtKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZm9ybUJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxyXG4gICAgICAgIGVuYWJsZVNjcm9sbCgpXHJcbiAgICAgICAgcmVzZXRGb3JtKClcclxuICAgICAgICBzZXRTZW5kTGltaXQoKytsaW1pdFZhbHVlKVxyXG4gICAgICAgIGNyZWF0ZU5vdGlmaWNhdGlvbigndHJ1ZScsIG5vdGlmaWNhdGlvbk1lc3NhZ2VzLnN1Y2Nlc3MpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKCdmYWxzZScsIG5vdGlmaWNhdGlvbk1lc3NhZ2VzLmVycm9yKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgIGVuYWJsZVNjcm9sbCgpXHJcbiAgICBjcmVhdGVOb3RpZmljYXRpb24oJ2ZhbHNlJywgbm90aWZpY2F0aW9uTWVzc2FnZXMuY29vbGRvd24pXHJcbiAgfVxyXG59KVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IGNsb3NlRm9ybUlmT3V0c2lkZShlKSlcclxuXHJcblxyXG4iXX0=
