"use strict";var makeCustomElement=function(e,t,o){var n=document.createElement(e);return t&&t.forEach(function(e){return n.classList.add(e)}),o&&(n.textContent=o),n},renderProcessMobile=function(e,t){var r,o=document.querySelector(".processes-mobile"),n=document.querySelector(".processes-desktop");n&&n.remove(),o||(n=makeCustomElement("div",["processes-mobile"]),r=makeCustomElement("div",["accordions"]),t.forEach(function(e){var t=makeCustomElement("div",["accordion"]),o=makeCustomElement("button",["accordion-heading"]),n=makeCustomElement("i",["bx","bx-down-arrow-circle"]),n=(o.append(n,e.button),makeCustomElement("div",["accordion-content"])),a=makeCustomElement("h3",["accordion-label"],e.heading),e=makeCustomElement("p",["accordion-text"],e.text);n.append(a,e),t.append(o,n),r.append(t)}),n.append(r),e.append(n))},renderProcessDestkop=function(e,t){var o,n,a,r,i=document.querySelector(".processes-desktop"),s=document.querySelector(".processes-mobile");s&&s.remove(),i||(s=makeCustomElement("div",["processes-desktop"]),i=makeCustomElement("div",["processes-ctn"]),o=makeCustomElement("div",["processes-list"]),n=makeCustomElement("div",["processes-list-box"]),t.forEach(function(e){var t=makeCustomElement("li",["processes-list-item"]),o=makeCustomElement("div",["dot"]),e=makeCustomElement("span",["processes-list-item-text"],e.button);t.append(o,e),n.append(t)}),o.append(n),n.childNodes[0].classList.add("active"),a=makeCustomElement("div",["processes-content"]),r=makeCustomElement("h3",["processes-content-title"],t[0].heading),t=makeCustomElement("p",["processes-content-text"],t[0].text),a.append(r,t),i.append(o,a),s.append(i),e.append(s))},handleProjectLazyLoad=function(e){function t(){e.classList.add("loaded")}var o=e.querySelector("img");o.complete?t():o.addEventListener("load",t)},renderProject=function(e,t){var o=makeCustomElement("div",["project",e.name]),n=makeCustomElement("div",["project-desc"]),a=makeCustomElement("div",["desc-heading"]),r=makeCustomElement("small",["heading-tag"],e.tag),i=makeCustomElement("h3",["heading-title"],e.title),i=(a.append(i,r),makeCustomElement("div",["desc-content"])),r=makeCustomElement("p",["content-main"],e.content),s=makeCustomElement("small",["content-date"],e.date),r=(i.append(r,s),makeCustomElement("div",["desc-btns"])),s=makeCustomElement("a",["button","primary"]),m=(s.setAttribute("href",e.visit),makeCustomElement("i",["bx","bx-globe"])),m=(s.append("Visit",m),makeCustomElement("a",["button","secondary"])),c=(m.setAttribute("href",e.code),makeCustomElement("i",["bx","bx-code-alt"]));return m.append("Code",c),r.append(s,m),n.append(a,i,r),t?(c=makeCustomElement("div",["project-showcase"]),(s=makeCustomElement("div",["showcase-box"])).style.backgroundImage="url(./dist/img/".concat(e.name,"-placeholder.png)"),(m=makeCustomElement("img",["showcase-img"])).setAttribute("alt","Zdjęcie sekcji tytułowej na stronie ".concat(e.name)),m.setAttribute("src","./dist/img/".concat(e.name,".webp")),m.setAttribute("loading","lazy"),s.append(m),handleProjectLazyLoad(s),c.append(s),o.append(n,c)):o.append(n),o},renderProjectsMobile=function(e,t){var o,n=document.querySelector(".projects-mobile-cnt"),a=document.querySelector(".projects-desktop-cnt");a&&a.remove(),n||(o=makeCustomElement("div",["projects-mobile-cnt"]),t.forEach(function(e){e=renderProject(e,!0);o.append(e)}),e.append(o))},renderProjectsDesktop=function(e,t){var o,a,n=document.querySelector(".projects-desktop-cnt"),r=document.querySelector(".projects-mobile-cnt");r&&r.remove(),n||(r=makeCustomElement("div",["projects-desktop-cnt"]),o=makeCustomElement("div",["projects-desc","projects-parallax"]),t.forEach(function(e){e=renderProject(e);o.append(e)}),a=makeCustomElement("div",["projects-showcase","projects-parallax"]),t.forEach(function(e){var t=makeCustomElement("div",["desktop-showcase"]),o=makeCustomElement("div",["desktop-showcase-box"]),n=(o.style.backgroundImage="url('./dist/img/".concat(e.name,"-placeholder.png')"),makeCustomElement("img",["desktop-showcase-img"]));n.setAttribute("src","./dist/img/".concat(e.name,".webp")),n.setAttribute("alt","Zdjęcie sekcji tytułowej na stronie ".concat(e.name)),o.append(n),handleProjectLazyLoad(o),t.append(o),a.append(t)}),r.append(o,a),e.append(r))},renderLink=function(e){var t=makeCustomElement("li"),o=makeCustomElement("a",["nav-list-item"],e.text);return o.setAttribute("href",e.href),t.append(o),t},renderSocial=function(e){var t=makeCustomElement("li",["nav-socials-item"]),o=makeCustomElement("a"),e=(o.setAttribute("href",e.href),makeCustomElement("i",["bx","bxl-".concat(e.icon)]));return o.append(e),t.append(o),t},renderMobileNavbar=function(e,t,o){var n=document.querySelector(".mobile-nav"),a=document.querySelector(".desktop-nav");if(a&&a.remove(),!n){for(var a=makeCustomElement("div",["mobile-nav"]),n=makeCustomElement("a",["logo"]),r=(n.setAttribute("href","#"),makeCustomElement("img",["logo-img"])),i=(r.setAttribute("src","./dist/img/logo.png"),r.setAttribute("alt","Logo przedstawiające szopa stworzonego z prostych kształtów geometrycznych."),n.append(r),makeCustomElement("div",["burger-icon"])),s=0;s<3;s++){var m=makeCustomElement("div",["bar"]);i.append(m)}var c=makeCustomElement("ul",["nav-list"]),r=makeCustomElement("div",["nav-list-background"]),d=(c.append(r),t.forEach(function(e){e=renderLink(e);c.append(e)}),makeCustomElement("div",["socials","nav-list-item"]));o.forEach(function(e){e=renderSocial(e);d.append(e)}),c.append(d),a.append(n,i,c),e.append(a)}},renderDesktopNavbar=function(e,t,o){var n,a,r,i,s,m=document.querySelector(".desktop-nav"),c=document.querySelector(".mobile-nav");c&&c.remove(),m||(c=makeCustomElement("div",["desktop-nav"]),m=makeCustomElement("ul",["nav-list"]),n=makeCustomElement("div",["flex-left"]),t.forEach(function(e){e.onLeft&&(e=renderLink(e),n.append(e))}),a=makeCustomElement("div",["logo"]),(r=makeCustomElement("img",["logo-img"])).setAttribute("src","./dist/img/logo.png"),r.setAttribute("alt","Logo przedstawiające szopa stworzonego z prostych kształtów geometrycznych."),a.append(r),r=makeCustomElement("div",["flex-right"]),i=makeCustomElement("div",["right-links"]),t.forEach(function(e){e.onLeft||(e=renderLink(e),i.append(e))}),s=makeCustomElement("div",["socials"]),o.forEach(function(e){e=renderSocial(e);s.append(e)}),r.append(i,s),m.append(n,a,r),c.append(m),e.append(c))},renderDesktopOrMobile=function(){var e=document.querySelector(".navbar"),t=document.querySelector(".processes"),o=document.querySelector(".projects"),n=[{heading:"Jak przebiegają rozmowy?",text:"Zaczynamy od określenia świadczonej usługi. Jeżeli jest to budowa lub projektowanie, to pytamy czy istnieje jakieś logo, bądź wizytówka firmy. Następnie zapytamy o treści, które miałyby się znaleźć na stronie. Na podstawie tego tworzymy wyłącznie strukturę i wyceniamy projekt. Następnie zaczynamy projektować.",button:"Konsultacja"},{heading:"Jak wygląda prezentacja projektu?",text:"Po skończeniu projektu strony, przedstawiamy go Tobie do ocenienia. Wtedy przyjmujemy wszelkie uwagi dot. doboru kolorów, budowy sekcji itd. Tłumaczymy też, czemu pewne elementy muszą zawierać niektóre cechy. Później nanosimy wszelkie zmiany.",button:"Prezentacja"},{heading:"Czym jest etap zatwierdzenia?",text:"To krok, w którym decydujesz się na podjęcie lub odrzucenie naszych usług. Jeżeli zlecisz nam stworzenie strony, to przekażemy Ci ile prawdopodobnie zajmie to nam czasu. Dodatkowo będziemy potrzebowali dokładnych treści, które mają się finalnie znaleźć na Twojej witrynie.",button:"Zatwierdzenie"},{heading:"Wykonanie projektu!",text:"Ten krok zostaw nam! Od razu zabierzemy się do tworzenia Twojej wymarzonej wizytówki internetowej. Podczas tego czasu możesz nam przekazać wszelkie dodatkowe informacje, a my weźmiemy je pod uwagę. Po zakończonej pracy zostało tylko umieścić ją na hostingu.",button:"Wykonanie"}],a=[{name:"power",title:"Power Kwidzyn",tag:"Projekt i budowa",date:"8.05.2023",visit:"https://power-kwidzyn.pl",code:"https://github.com/patrykkawiak/OSK-Power-Kwidzyn",content:"Power Kwidzyn to szkółka prawa jazdy, która przez długi czas miała słabo funkcjonującą, przestarzałą stronę internetową. Pomimo niepewności, właściciel działalności postanowił nam zaufać i końcowo jest zadowolony z o wiele lepszej wizytówki w internecie."},{name:"rebax",title:"Rebax",tag:"Projekt i budowa",date:"26.04.2023",visit:"https://rebax.pl",code:"https://github.com/patrykkawiak/Rebax",content:"Firma Rebax przed naszą usługą nie posiadała strony internetowej. Pomimo tego, że została postawiona niedawno, to dumnie prezentuje tę hurtownię budowlaną, wyświetlając się na pierwszych stronach przeglądarek internautów."}],r=[{text:"Home",href:"#",onLeft:!0},{text:"O nas",href:"#about-us",onLeft:!0},{text:"Usługi",href:"#services",onLeft:!0},{text:"FAQ",href:"#faq",onLeft:!1},{text:"Kontakt",href:"#contact",onLeft:!1}],i=[{icon:"gmail",href:"#"},{icon:"facebook-square",href:"#"},{icon:"instagram",href:"#"},{icon:"linkedin-square",href:"#"}];(992<=document.body.clientWidth?(renderProcessDestkop(t,n),renderProjectsDesktop(o,a),renderDesktopNavbar):768<=document.body.clientWidth?(renderProcessMobile(t,n),renderProjectsMobile(o,a),renderDesktopNavbar):(renderProcessMobile(t,n),renderProjectsMobile(o,a),renderMobileNavbar))(e,r,i)};window.addEventListener("resize",renderDesktopOrMobile),renderDesktopOrMobile();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9wdGltaXphdGlvbi5qcyJdLCJuYW1lcyI6WyJtYWtlQ3VzdG9tRWxlbWVudCIsInR5cGUiLCJjbGFzc2VzIiwidGV4dCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjc3NDbGFzcyIsInRleHRDb250ZW50IiwicmVuZGVyUHJvY2Vzc01vYmlsZSIsInNlY3Rpb24iLCJhY2NvcmRpb25zIiwiYWNjb3JkaW9uc0Jsb2NrIiwiaXNNYWRlIiwicXVlcnlTZWxlY3RvciIsImRlc2t0b3BWZXJzaW9uIiwiZm9yRWFjaCIsImFjY29yZGlvbiIsInByb2Nlc3Nlc01vYmlsZSIsImhlYWRpbmciLCJhY2NvcmRpb25CbG9jayIsImJ1dHRvbiIsImFwcGVuZCIsImFycm93IiwiY29udGVudCIsImxhYmVsIiwicmVuZGVyUHJvY2Vzc0Rlc3Rrb3AiLCJwcm9jZXNzZXMiLCJwcm9jZXNzZXNEZXNrdG9wIiwicHJvY2Vzc2VzQ250IiwicHJvY2Vzc2VzTGlzdCIsInByb2Nlc3Nlc0xpc3RCb3giLCJtb2JpbGVWZXJzaW9uIiwiZG90IiwicHJvY2Vzc2VzTGlzdEl0ZW0iLCJwcm9jZXNzIiwiY2hpbGROb2RlcyIsInByb2Nlc3Nlc0NvbnRlbnQiLCJwcm9jZXNzZXNDb250ZW50VGl0bGUiLCJwcm9jZXNzZXNDb250ZW50VGV4dCIsImhhbmRsZVByb2plY3RMYXp5TG9hZCIsImltZ0JveCIsImltZyIsImltZ0xvYWRlZCIsImNvbXBsZXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb2plY3RCbG9jayIsInByb2plY3REZXNjIiwicHJvamVjdCIsIm5hbWUiLCJkZXNjSGVhZGluZyIsImhlYWRpbmdUYWciLCJoZWFkaW5nVGl0bGUiLCJ0YWciLCJ0aXRsZSIsImNvbnRlbnRNYWluIiwiZGVzY0NvbnRlbnQiLCJjb250ZW50RGF0ZSIsImRhdGUiLCJ2aXNpdEJ0biIsImRlc2NCdG5zIiwic2V0QXR0cmlidXRlIiwidmlzaXQiLCJ2aXNpdEljb24iLCJjb2RlQnRuIiwiY29kZSIsImNvZGVJY29uIiwicmVuZGVyU2hvd2Nhc2UiLCJzaG93Y2FzZUJveCIsImJhY2tncm91bmRJbWFnZSIsInNob3djYXNlSW1nIiwiY29uY2F0IiwicHJvamVjdFNob3djYXNlIiwicmVuZGVyUHJvamVjdHNNb2JpbGUiLCJwcm9qZWN0cyIsInByb2plY3RzTW9iaWxlIiwicmVuZGVyUHJvamVjdHNEZXNrdG9wIiwicHJvamVjdHNEZXNjIiwiZGVza3RvcFNob3djYXNlQm94IiwicHJvamVjdHNTaG93Y2FzZSIsImRlc2t0b3BTaG93Y2FzZSIsImRlc2t0b3BTaG93Y2FzZUltZyIsInN0eWxlIiwicHJvamVjdHNEZXNrdG9wIiwicmVuZGVyTGluayIsImxpc3RJdGVtIiwibGluayIsInJlbmRlclNvY2lhbCIsInNvY2lhbCIsInNvY2lhbEFuY2hvciIsImxpbmtBbmNob3IiLCJocmVmIiwic29jaWFsSWNvbiIsInJlbmRlck1vYmlsZU5hdmJhciIsImljb24iLCJzb2NpYWxzIiwibG9nbyIsImxvZ29JbWciLCJsaW5rcyIsImJ1cmdlciIsImJ1cmdlckJhciIsIm5hdkxpc3QiLCJuYXZMaXN0QmFja2dyb3VuZCIsImkiLCJsaW5rTGkiLCJuYXZMaXN0U29jaWFscyIsInNvY2lhbExpIiwibW9iaWxlTmF2IiwicmVuZGVyRGVza3RvcE5hdmJhciIsInJlbW92ZSIsInNvY2lhbHNCbG9jayIsImRlc2t0b3BOYXYiLCJsaW5rc0xlZnQiLCJyaWdodENvbnRhaW5lciIsIm9uTGVmdCIsImxpbmtzUmlnaHQiLCJyZW5kZXJEZXNrdG9wT3JNb2JpbGUiLCJwcm9jZXNzZXNTZWN0aW9uIiwicHJvamVjdHNTZWN0aW9uIiwibmF2YmFyIiwibmF2TGlua3MiLCJuYXZTb2NpYWxzIiwid2luZG93IiwiYm9keSIsImNsaWVudFdpZHRoIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxrQkFBb0IsU0FBQ0MsRUFBTUMsRUFBU0MsR0FDekMsSUFBTUMsRUFBVUMs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Iiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWFrZUN1c3RvbUVsZW1lbnQgPSAodHlwZSwgY2xhc3NlcywgdGV4dCkgPT4ge1xuXHRjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKVxuXHRpZiAoY2xhc3Nlcykge1xuXHRcdGNsYXNzZXMuZm9yRWFjaChjc3NDbGFzcyA9PiBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3MpKVxuXHR9XG5cdGlmICh0ZXh0KSB7XG5cdFx0ZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRcblx0fVxuXHRyZXR1cm4gZWxlbWVudFxufVxuXG5jb25zdCByZW5kZXJQcm9jZXNzTW9iaWxlID0gKHNlY3Rpb24sIGFjY29yZGlvbnMpID0+IHtcbiAgY29uc3QgaXNNYWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1tb2JpbGUnKVxuICBjb25zdCBkZXNrdG9wVmVyc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzZXMtZGVza3RvcCcpXG4gIGlmKGRlc2t0b3BWZXJzaW9uKXtcbiAgICBkZXNrdG9wVmVyc2lvbi5yZW1vdmUoKVxuICB9XG4gIGlmKCFpc01hZGUpe1xuICAgIGNvbnN0IHByb2Nlc3Nlc01vYmlsZSA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3Byb2Nlc3Nlcy1tb2JpbGUnXSlcbiAgICBjb25zdCBhY2NvcmRpb25zQmxvY2sgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydhY2NvcmRpb25zJ10pXG4gICAgICBhY2NvcmRpb25zLmZvckVhY2goYWNjb3JkaW9uID0+IHtcbiAgICAgICAgY29uc3QgYWNjb3JkaW9uQmxvY2sgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydhY2NvcmRpb24nXSlcbiAgICAgICAgICBjb25zdCBoZWFkaW5nID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2J1dHRvbicsIFsnYWNjb3JkaW9uLWhlYWRpbmcnXSlcbiAgICAgICAgICAgIGNvbnN0IGFycm93ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2knLCBbJ2J4JywgJ2J4LWRvd24tYXJyb3ctY2lyY2xlJ10pXG4gICAgICAgICAgICBoZWFkaW5nLmFwcGVuZChhcnJvdywgYWNjb3JkaW9uLmJ1dHRvbilcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnYWNjb3JkaW9uLWNvbnRlbnQnXSlcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2gzJywgWydhY2NvcmRpb24tbGFiZWwnXSwgYWNjb3JkaW9uLmhlYWRpbmcpXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ3AnLCBbJ2FjY29yZGlvbi10ZXh0J10sIGFjY29yZGlvbi50ZXh0KVxuICAgICAgICAgICAgY29udGVudC5hcHBlbmQobGFiZWwsIHRleHQpXG4gICAgICAgICAgYWNjb3JkaW9uQmxvY2suYXBwZW5kKGhlYWRpbmcsIGNvbnRlbnQpXG4gICAgICAgIGFjY29yZGlvbnNCbG9jay5hcHBlbmQoYWNjb3JkaW9uQmxvY2spXG4gICAgICB9KVxuICAgIHByb2Nlc3Nlc01vYmlsZS5hcHBlbmQoYWNjb3JkaW9uc0Jsb2NrKVxuICBzZWN0aW9uLmFwcGVuZChwcm9jZXNzZXNNb2JpbGUpXG4gIH0gXG59XG5cbmNvbnN0IHJlbmRlclByb2Nlc3NEZXN0a29wID0gKHNlY3Rpb24sIHByb2Nlc3NlcykgPT4ge1xuICBjb25zdCBpc01hZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzLWRlc2t0b3AnKVxuICBjb25zdCBtb2JpbGVWZXJzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3Nlcy1tb2JpbGUnKVxuICBpZihtb2JpbGVWZXJzaW9uKXtcbiAgICBtb2JpbGVWZXJzaW9uLnJlbW92ZSgpXG4gIH1cbiAgaWYoIWlzTWFkZSl7XG4gICAgY29uc3QgcHJvY2Vzc2VzRGVza3RvcCA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3Byb2Nlc3Nlcy1kZXNrdG9wJ10pXG4gICAgICBjb25zdCBwcm9jZXNzZXNDbnQgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydwcm9jZXNzZXMtY3RuJ10pXG4gICAgICAgIGNvbnN0IHByb2Nlc3Nlc0xpc3QgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JyxbJ3Byb2Nlc3Nlcy1saXN0J10pXG4gICAgICAgICAgY29uc3QgcHJvY2Vzc2VzTGlzdEJveCA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3Byb2Nlc3Nlcy1saXN0LWJveCddKVxuICAgICAgICAgICAgcHJvY2Vzc2VzLmZvckVhY2gocHJvY2VzcyA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3Nlc0xpc3RJdGVtID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2xpJywgWydwcm9jZXNzZXMtbGlzdC1pdGVtJ10pXG4gICAgICAgICAgICAgICAgY29uc3QgZG90ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnZG90J10pXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IG1ha2VDdXN0b21FbGVtZW50KCdzcGFuJywgWydwcm9jZXNzZXMtbGlzdC1pdGVtLXRleHQnXSwgcHJvY2Vzcy5idXR0b24pXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VzTGlzdEl0ZW0uYXBwZW5kKGRvdCwgdGV4dClcbiAgICAgICAgICAgICAgcHJvY2Vzc2VzTGlzdEJveC5hcHBlbmQocHJvY2Vzc2VzTGlzdEl0ZW0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIHByb2Nlc3Nlc0xpc3QuYXBwZW5kKHByb2Nlc3Nlc0xpc3RCb3gpXG4gICAgICAgICAgcHJvY2Vzc2VzTGlzdEJveC5jaGlsZE5vZGVzWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIGNvbnN0IHByb2Nlc3Nlc0NvbnRlbnQgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydwcm9jZXNzZXMtY29udGVudCddKVxuICAgICAgICAgIGNvbnN0IHByb2Nlc3Nlc0NvbnRlbnRUaXRsZSA9IG1ha2VDdXN0b21FbGVtZW50KCdoMycsIFsncHJvY2Vzc2VzLWNvbnRlbnQtdGl0bGUnXSwgcHJvY2Vzc2VzWzBdLmhlYWRpbmcpXG4gICAgICAgICAgY29uc3QgcHJvY2Vzc2VzQ29udGVudFRleHQgPSBtYWtlQ3VzdG9tRWxlbWVudCgncCcsIFsncHJvY2Vzc2VzLWNvbnRlbnQtdGV4dCddLCBwcm9jZXNzZXNbMF0udGV4dClcbiAgICAgICAgICBwcm9jZXNzZXNDb250ZW50LmFwcGVuZChwcm9jZXNzZXNDb250ZW50VGl0bGUsIHByb2Nlc3Nlc0NvbnRlbnRUZXh0KVxuICAgICAgICBwcm9jZXNzZXNDbnQuYXBwZW5kKHByb2Nlc3Nlc0xpc3QsIHByb2Nlc3Nlc0NvbnRlbnQpXG4gICAgICBwcm9jZXNzZXNEZXNrdG9wLmFwcGVuZChwcm9jZXNzZXNDbnQpXG4gICAgc2VjdGlvbi5hcHBlbmQocHJvY2Vzc2VzRGVza3RvcClcbiAgfVxufVxuXG5jb25zdCBoYW5kbGVQcm9qZWN0TGF6eUxvYWQgPSAoaW1nQm94KSA9PiB7XG4gIGNvbnN0IGltZyA9IGltZ0JveC5xdWVyeVNlbGVjdG9yKCdpbWcnKVxuICBjb25zdCBpbWdMb2FkZWQgPSAoKSA9PiB7XG4gICAgaW1nQm94LmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpXG4gIH1cbiAgaWYgKGltZy5jb21wbGV0ZSkge1xuICAgIGltZ0xvYWRlZCgpXG4gIH1cbiAgZWxzZSB7XG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpbWdMb2FkZWQpXG4gIH1cbn1cblxuY29uc3QgcmVuZGVyUHJvamVjdCA9IChwcm9qZWN0LCByZW5kZXJTaG93Y2FzZSkgPT4ge1xuICBjb25zdCBwcm9qZWN0QmxvY2sgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydwcm9qZWN0JywgcHJvamVjdC5uYW1lXSlcbiAgY29uc3QgcHJvamVjdERlc2MgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydwcm9qZWN0LWRlc2MnXSlcbiAgICBjb25zdCBkZXNjSGVhZGluZyA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ2Rlc2MtaGVhZGluZyddKVxuICAgICAgY29uc3QgaGVhZGluZ1RhZyA9IG1ha2VDdXN0b21FbGVtZW50KCdzbWFsbCcsIFsnaGVhZGluZy10YWcnXSwgcHJvamVjdC50YWcpXG4gICAgICBjb25zdCBoZWFkaW5nVGl0bGUgPSBtYWtlQ3VzdG9tRWxlbWVudCgnaDMnLCBbJ2hlYWRpbmctdGl0bGUnXSwgcHJvamVjdC50aXRsZSlcbiAgICAgIGRlc2NIZWFkaW5nLmFwcGVuZChoZWFkaW5nVGl0bGUsIGhlYWRpbmdUYWcpXG4gICAgY29uc3QgZGVzY0NvbnRlbnQgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydkZXNjLWNvbnRlbnQnXSlcbiAgICAgIGNvbnN0IGNvbnRlbnRNYWluID0gbWFrZUN1c3RvbUVsZW1lbnQoJ3AnLCBbJ2NvbnRlbnQtbWFpbiddLCBwcm9qZWN0LmNvbnRlbnQpXG4gICAgICBjb25zdCBjb250ZW50RGF0ZSA9IG1ha2VDdXN0b21FbGVtZW50KCdzbWFsbCcsIFsnY29udGVudC1kYXRlJ10sIHByb2plY3QuZGF0ZSlcbiAgICAgIGRlc2NDb250ZW50LmFwcGVuZChjb250ZW50TWFpbiwgY29udGVudERhdGUpXG4gICAgY29uc3QgZGVzY0J0bnMgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydkZXNjLWJ0bnMnXSlcbiAgICAgIGNvbnN0IHZpc2l0QnRuID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2EnLCBbJ2J1dHRvbicsICdwcmltYXJ5J10pXG4gICAgICAgIHZpc2l0QnRuLnNldEF0dHJpYnV0ZSgnaHJlZicsIHByb2plY3QudmlzaXQpXG4gICAgICAgIGNvbnN0IHZpc2l0SWNvbiA9IG1ha2VDdXN0b21FbGVtZW50KCdpJywgWydieCcsICdieC1nbG9iZSddKVxuICAgICAgICB2aXNpdEJ0bi5hcHBlbmQoJ1Zpc2l0JywgdmlzaXRJY29uKVxuICAgICAgY29uc3QgY29kZUJ0biA9IG1ha2VDdXN0b21FbGVtZW50KCdhJywgWydidXR0b24nLCAnc2Vjb25kYXJ5J10pXG4gICAgICAgIGNvZGVCdG4uc2V0QXR0cmlidXRlKCdocmVmJywgcHJvamVjdC5jb2RlKVxuICAgICAgICBjb25zdCBjb2RlSWNvbiA9IG1ha2VDdXN0b21FbGVtZW50KCdpJywgWydieCcsICdieC1jb2RlLWFsdCddKVxuICAgICAgICBjb2RlQnRuLmFwcGVuZCgnQ29kZScsIGNvZGVJY29uKVxuICAgICAgZGVzY0J0bnMuYXBwZW5kKHZpc2l0QnRuLCBjb2RlQnRuKVxuICAgIHByb2plY3REZXNjLmFwcGVuZChkZXNjSGVhZGluZywgZGVzY0NvbnRlbnQsIGRlc2NCdG5zKVxuICBpZihyZW5kZXJTaG93Y2FzZSl7XG4gICAgY29uc3QgcHJvamVjdFNob3djYXNlID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsncHJvamVjdC1zaG93Y2FzZSddKVxuICAgIGNvbnN0IHNob3djYXNlQm94ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnc2hvd2Nhc2UtYm94J10pXG4gICAgc2hvd2Nhc2VCb3guc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCguL2Rpc3QvaW1nLyR7cHJvamVjdC5uYW1lfS1wbGFjZWhvbGRlci5wbmcpYFxuICAgICAgY29uc3Qgc2hvd2Nhc2VJbWcgPSBtYWtlQ3VzdG9tRWxlbWVudCgnaW1nJywgWydzaG93Y2FzZS1pbWcnXSlcbiAgICAgICAgc2hvd2Nhc2VJbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgWmRqxJljaWUgc2VrY2ppIHR5dHXFgm93ZWogbmEgc3Ryb25pZSAke3Byb2plY3QubmFtZX1gKVxuICAgICAgICBzaG93Y2FzZUltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAuL2Rpc3QvaW1nLyR7cHJvamVjdC5uYW1lfS53ZWJwYClcbiAgICAgICAgc2hvd2Nhc2VJbWcuc2V0QXR0cmlidXRlKCdsb2FkaW5nJywgJ2xhenknKVxuICAgICAgc2hvd2Nhc2VCb3guYXBwZW5kKHNob3djYXNlSW1nKVxuICAgICAgaGFuZGxlUHJvamVjdExhenlMb2FkKHNob3djYXNlQm94KVxuICAgIHByb2plY3RTaG93Y2FzZS5hcHBlbmQoc2hvd2Nhc2VCb3gpXG4gICAgcHJvamVjdEJsb2NrLmFwcGVuZChwcm9qZWN0RGVzYywgcHJvamVjdFNob3djYXNlKVxuICB9XG4gIGVsc2Uge1xuICAgIHByb2plY3RCbG9jay5hcHBlbmQocHJvamVjdERlc2MpXG4gIH1cbiAgcmV0dXJuIHByb2plY3RCbG9ja1xufVxuXG5jb25zdCByZW5kZXJQcm9qZWN0c01vYmlsZSA9IChzZWN0aW9uLCBwcm9qZWN0cykgPT4ge1xuICBjb25zdCBpc01hZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtbW9iaWxlLWNudCcpXG4gIGNvbnN0IGRlc2t0b3BWZXJzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250JylcbiAgaWYoZGVza3RvcFZlcnNpb24pe1xuICAgIGRlc2t0b3BWZXJzaW9uLnJlbW92ZSgpXG4gIH1cbiAgaWYoIWlzTWFkZSl7XG4gICAgY29uc3QgcHJvamVjdHNNb2JpbGUgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydwcm9qZWN0cy1tb2JpbGUtY250J10pXG4gICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RCbG9jayA9IHJlbmRlclByb2plY3QocHJvamVjdCwgdHJ1ZSlcbiAgICAgIHByb2plY3RzTW9iaWxlLmFwcGVuZChwcm9qZWN0QmxvY2spXG4gICAgfSlcbiAgICBzZWN0aW9uLmFwcGVuZChwcm9qZWN0c01vYmlsZSlcbiAgfVxufVxuXG5jb25zdCByZW5kZXJQcm9qZWN0c0Rlc2t0b3AgPSAoc2VjdGlvbiwgcHJvamVjdHMpID0+IHtcbiAgY29uc3QgaXNNYWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWRlc2t0b3AtY250JylcbiAgY29uc3QgbW9iaWxlVmVyc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1tb2JpbGUtY250JylcbiAgaWYobW9iaWxlVmVyc2lvbil7XG4gICAgbW9iaWxlVmVyc2lvbi5yZW1vdmUoKVxuICB9XG4gIGlmKCFpc01hZGUpe1xuICAgIGNvbnN0IHByb2plY3RzRGVza3RvcCA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3Byb2plY3RzLWRlc2t0b3AtY250J10pXG4gICAgICBjb25zdCBwcm9qZWN0c0Rlc2MgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydwcm9qZWN0cy1kZXNjJywgJ3Byb2plY3RzLXBhcmFsbGF4J10pXG4gICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgY29uc3QgcHJvamVjdEJsb2NrID0gcmVuZGVyUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgIHByb2plY3RzRGVzYy5hcHBlbmQocHJvamVjdEJsb2NrKVxuICAgICAgICB9KVxuICAgICAgY29uc3QgcHJvamVjdHNTaG93Y2FzZSA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3Byb2plY3RzLXNob3djYXNlJywgJ3Byb2plY3RzLXBhcmFsbGF4J10pXG4gICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgY29uc3QgZGVza3RvcFNob3djYXNlID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnZGVza3RvcC1zaG93Y2FzZSddKVxuICAgICAgICAgICAgY29uc3QgZGVza3RvcFNob3djYXNlQm94ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnZGVza3RvcC1zaG93Y2FzZS1ib3gnXSlcbiAgICAgICAgICAgIGRlc2t0b3BTaG93Y2FzZUJveC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcuL2Rpc3QvaW1nLyR7cHJvamVjdC5uYW1lfS1wbGFjZWhvbGRlci5wbmcnKWBcbiAgICAgICAgICAgICAgY29uc3QgZGVza3RvcFNob3djYXNlSW1nID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2ltZycsIFsnZGVza3RvcC1zaG93Y2FzZS1pbWcnXSlcbiAgICAgICAgICAgICAgZGVza3RvcFNob3djYXNlSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYC4vZGlzdC9pbWcvJHtwcm9qZWN0Lm5hbWV9LndlYnBgKVxuICAgICAgICAgICAgICBkZXNrdG9wU2hvd2Nhc2VJbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgWmRqxJljaWUgc2VrY2ppIHR5dHXFgm93ZWogbmEgc3Ryb25pZSAke3Byb2plY3QubmFtZX1gKVxuICAgICAgICAgICAgICBkZXNrdG9wU2hvd2Nhc2VCb3guYXBwZW5kKGRlc2t0b3BTaG93Y2FzZUltZylcbiAgICAgICAgICAgICAgaGFuZGxlUHJvamVjdExhenlMb2FkKGRlc2t0b3BTaG93Y2FzZUJveClcbiAgICAgICAgICAgIGRlc2t0b3BTaG93Y2FzZS5hcHBlbmQoZGVza3RvcFNob3djYXNlQm94KVxuICAgICAgICAgIHByb2plY3RzU2hvd2Nhc2UuYXBwZW5kKGRlc2t0b3BTaG93Y2FzZSlcbiAgICAgICAgfSlcbiAgICAgIHByb2plY3RzRGVza3RvcC5hcHBlbmQocHJvamVjdHNEZXNjLCBwcm9qZWN0c1Nob3djYXNlKVxuICAgIHNlY3Rpb24uYXBwZW5kKHByb2plY3RzRGVza3RvcClcbiAgfVxufVxuXG5jb25zdCByZW5kZXJMaW5rID0gKGxpbmspID0+IHtcbiAgY29uc3QgbGlzdEl0ZW0gPSBtYWtlQ3VzdG9tRWxlbWVudCgnbGknKVxuICAgIGNvbnN0IGxpbmtBbmNob3IgPSBtYWtlQ3VzdG9tRWxlbWVudCgnYScsIFsnbmF2LWxpc3QtaXRlbSddLCBsaW5rLnRleHQpXG4gICAgbGlua0FuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBsaW5rLmhyZWYpXG4gICAgbGlzdEl0ZW0uYXBwZW5kKGxpbmtBbmNob3IpXG4gIHJldHVybiBsaXN0SXRlbVxufVxuXG5jb25zdCByZW5kZXJTb2NpYWwgPSAoc29jaWFsKSA9PiB7XG4gIGNvbnN0IGxpc3RJdGVtID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2xpJywgWyduYXYtc29jaWFscy1pdGVtJ10pXG4gICAgY29uc3Qgc29jaWFsQW5jaG9yID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2EnKVxuICAgIHNvY2lhbEFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBzb2NpYWwuaHJlZilcbiAgICAgIGNvbnN0IHNvY2lhbEljb24gPSBtYWtlQ3VzdG9tRWxlbWVudCgnaScsIFsnYngnLCBgYnhsLSR7c29jaWFsLmljb259YF0pXG4gICAgICBzb2NpYWxBbmNob3IuYXBwZW5kKHNvY2lhbEljb24pXG4gICAgICBsaXN0SXRlbS5hcHBlbmQoc29jaWFsQW5jaG9yKVxuICByZXR1cm4gbGlzdEl0ZW1cbn1cblxuY29uc3QgcmVuZGVyTW9iaWxlTmF2YmFyID0gKG5hdmJhciwgbGlua3MsIHNvY2lhbHMpID0+IHtcbiAgY29uc3QgaXNNYWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYnKVxuICBjb25zdCBkZXNrdG9wVmVyc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZXNrdG9wLW5hdicpXG4gIGlmKGRlc2t0b3BWZXJzaW9uKXtcbiAgICBkZXNrdG9wVmVyc2lvbi5yZW1vdmUoKVxuICB9XG4gIGlmKCFpc01hZGUpe1xuICAgIGNvbnN0IG1vYmlsZU5hdiA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ21vYmlsZS1uYXYnXSlcbiAgICAgIGNvbnN0IGxvZ28gPSBtYWtlQ3VzdG9tRWxlbWVudCgnYScsIFsnbG9nbyddKVxuICAgICAgbG9nby5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpXG4gICAgICAgIGNvbnN0IGxvZ29JbWcgPSBtYWtlQ3VzdG9tRWxlbWVudCgnaW1nJywgWydsb2dvLWltZyddKVxuICAgICAgICBsb2dvSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgJy4vZGlzdC9pbWcvbG9nby5wbmcnKVxuICAgICAgICBsb2dvSW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ0xvZ28gcHJ6ZWRzdGF3aWFqxIVjZSBzem9wYSBzdHdvcnpvbmVnbyB6IHByb3N0eWNoIGtzenRhxYJ0w7N3IGdlb21ldHJ5Y3pueWNoLicpXG4gICAgICAgIGxvZ28uYXBwZW5kKGxvZ29JbWcpXG4gICAgICBjb25zdCBidXJnZXIgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydidXJnZXItaWNvbiddKVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgYnVyZ2VyQmFyID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnYmFyJ10pXG4gICAgICAgICAgYnVyZ2VyLmFwcGVuZChidXJnZXJCYXIpXG4gICAgICAgIH1cbiAgICAgIGNvbnN0IG5hdkxpc3QgPSBtYWtlQ3VzdG9tRWxlbWVudCgndWwnLCBbJ25hdi1saXN0J10pXG4gICAgICAgIGNvbnN0IG5hdkxpc3RCYWNrZ3JvdW5kID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnbmF2LWxpc3QtYmFja2dyb3VuZCddKVxuICAgICAgICBuYXZMaXN0LmFwcGVuZChuYXZMaXN0QmFja2dyb3VuZClcbiAgICAgICAgbGlua3MuZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgICBjb25zdCBsaW5rTGkgPSByZW5kZXJMaW5rKGxpbmspXG4gICAgICAgICAgbmF2TGlzdC5hcHBlbmQobGlua0xpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBuYXZMaXN0U29jaWFscyA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3NvY2lhbHMnLCAnbmF2LWxpc3QtaXRlbSddKVxuICAgICAgICAgIHNvY2lhbHMuZm9yRWFjaChzb2NpYWwgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc29jaWFsTGkgPSByZW5kZXJTb2NpYWwoc29jaWFsKVxuICAgICAgICAgICAgbmF2TGlzdFNvY2lhbHMuYXBwZW5kKHNvY2lhbExpKVxuICAgICAgICAgIH0pXG4gICAgICAgIG5hdkxpc3QuYXBwZW5kKG5hdkxpc3RTb2NpYWxzKVxuICAgICAgbW9iaWxlTmF2LmFwcGVuZChsb2dvLCBidXJnZXIsIG5hdkxpc3QpXG4gICAgbmF2YmFyLmFwcGVuZChtb2JpbGVOYXYpXG4gIH1cbn1cblxuY29uc3QgcmVuZGVyRGVza3RvcE5hdmJhciA9IChuYXZiYXIsIGxpbmtzLCBzb2NpYWxzKSA9PiB7XG4gIGNvbnN0IGlzTWFkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZXNrdG9wLW5hdicpXG4gIGNvbnN0IG1vYmlsZVZlcnNpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW5hdicpXG4gIGlmKG1vYmlsZVZlcnNpb24pe1xuICAgIG1vYmlsZVZlcnNpb24ucmVtb3ZlKClcbiAgfVxuICBpZighaXNNYWRlKXtcbiAgICBjb25zdCBkZXNrdG9wTmF2ID0gbWFrZUN1c3RvbUVsZW1lbnQoJ2RpdicsIFsnZGVza3RvcC1uYXYnXSlcbiAgICAgIGNvbnN0IG5hdkxpc3QgPSBtYWtlQ3VzdG9tRWxlbWVudCgndWwnLCBbJ25hdi1saXN0J10pXG4gICAgICAgIGNvbnN0IGxpbmtzTGVmdCA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ2ZsZXgtbGVmdCddKVxuICAgICAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICAgICAgICBpZihsaW5rLm9uTGVmdCkge1xuICAgICAgICAgICAgICBjb25zdCBsaW5rTGkgPSByZW5kZXJMaW5rKGxpbmspXG4gICAgICAgICAgICAgIGxpbmtzTGVmdC5hcHBlbmQobGlua0xpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGxvZ28gPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydsb2dvJ10pXG4gICAgICAgICAgY29uc3QgbG9nb0ltZyA9IG1ha2VDdXN0b21FbGVtZW50KCdpbWcnLCBbJ2xvZ28taW1nJ10pXG4gICAgICAgICAgbG9nb0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsICcuL2Rpc3QvaW1nL2xvZ28ucG5nJylcbiAgICAgICAgICBsb2dvSW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ0xvZ28gcHJ6ZWRzdGF3aWFqxIVjZSBzem9wYSBzdHdvcnpvbmVnbyB6IHByb3N0eWNoIGtzenRhxYJ0w7N3IGdlb21ldHJ5Y3pueWNoLicpXG4gICAgICAgICAgbG9nby5hcHBlbmQobG9nb0ltZylcbiAgICAgICAgY29uc3QgcmlnaHRDb250YWluZXIgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydmbGV4LXJpZ2h0J10pXG4gICAgICAgICAgY29uc3QgbGlua3NSaWdodCA9IG1ha2VDdXN0b21FbGVtZW50KCdkaXYnLCBbJ3JpZ2h0LWxpbmtzJ10pXG4gICAgICAgICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICAgICAgICBpZighbGluay5vbkxlZnQpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtMaSA9IHJlbmRlckxpbmsobGluaylcbiAgICAgICAgICAgICAgICBsaW5rc1JpZ2h0LmFwcGVuZChsaW5rTGkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCBzb2NpYWxzQmxvY2sgPSBtYWtlQ3VzdG9tRWxlbWVudCgnZGl2JywgWydzb2NpYWxzJ10pXG4gICAgICAgICAgICAgIHNvY2lhbHMuZm9yRWFjaChzb2NpYWwgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvY2lhbExpID0gcmVuZGVyU29jaWFsKHNvY2lhbClcbiAgICAgICAgICAgICAgICBzb2NpYWxzQmxvY2suYXBwZW5kKHNvY2lhbExpKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmlnaHRDb250YWluZXIuYXBwZW5kKGxpbmtzUmlnaHQsIHNvY2lhbHNCbG9jaylcbiAgICAgICAgbmF2TGlzdC5hcHBlbmQobGlua3NMZWZ0LCBsb2dvLCByaWdodENvbnRhaW5lcilcbiAgICAgIGRlc2t0b3BOYXYuYXBwZW5kKG5hdkxpc3QpXG4gICAgbmF2YmFyLmFwcGVuZChkZXNrdG9wTmF2KVxuICB9XG59XG5cbmNvbnN0IHJlbmRlckRlc2t0b3BPck1vYmlsZSA9ICgpID0+IHtcbiAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpXG4gIGNvbnN0IHByb2Nlc3Nlc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzc2VzJylcbiAgY29uc3QgcHJvamVjdHNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzJylcbiAgY29uc3QgcHJvY2Vzc2VzID0gW1xuICAgICAge1xuICAgICAgICBoZWFkaW5nOiAnSmFrIHByemViaWVnYWrEhSByb3ptb3d5PycsXG4gICAgICAgIHRleHQ6ICdaYWN6eW5hbXkgb2Qgb2tyZcWbbGVuaWEgxZt3aWFkY3pvbmVqIHVzxYJ1Z2kuIEplxbxlbGkgamVzdCB0byBidWRvd2EgbHViIHByb2pla3Rvd2FuaWUsIHRvIHB5dGFteSBjenkgaXN0bmllamUgamFraWXFmyBsb2dvLCBixIVkxbogd2l6eXTDs3drYSBmaXJteS4gTmFzdMSZcG5pZSB6YXB5dGFteSBvIHRyZcWbY2ksIGt0w7NyZSBtaWHFgnlieSBzacSZIHpuYWxlxbrEhyBuYSBzdHJvbmllLiBOYSBwb2RzdGF3aWUgdGVnbyB0d29yenlteSB3ecWCxIVjem5pZSBzdHJ1a3R1csSZIGkgd3ljZW5pYW15IHByb2pla3QuIE5hc3TEmXBuaWUgemFjenluYW15IHByb2pla3Rvd2HEhy4nLFxuICAgICAgICBidXR0b246ICdLb25zdWx0YWNqYScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBoZWFkaW5nOiAnSmFrIHd5Z2zEhWRhIHByZXplbnRhY2phIHByb2pla3R1PycsXG4gICAgICAgIHRleHQ6ICdQbyBza2/FhGN6ZW5pdSBwcm9qZWt0dSBzdHJvbnksIHByemVkc3Rhd2lhbXkgZ28gVG9iaWUgZG8gb2NlbmllbmlhLiBXdGVkeSBwcnp5am11amVteSB3c3plbGtpZSB1d2FnaSBkb3QuIGRvYm9ydSBrb2xvcsOzdywgYnVkb3d5IHNla2NqaSBpdGQuIFTFgnVtYWN6eW15IHRlxbwsIGN6ZW11IHBld25lIGVsZW1lbnR5IG11c3rEhSB6YXdpZXJhxIcgbmlla3TDs3JlIGNlY2h5LiBQw7PFum5pZWogbmFub3NpbXkgd3N6ZWxraWUgem1pYW55LicsXG4gICAgICAgIGJ1dHRvbjogJ1ByZXplbnRhY2phJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRpbmc6ICdDenltIGplc3QgZXRhcCB6YXR3aWVyZHplbmlhPycsXG4gICAgICAgIHRleHQ6ICdUbyBrcm9rLCB3IGt0w7NyeW0gZGVjeWR1amVzeiBzacSZIG5hIHBvZGrEmWNpZSBsdWIgb2RyenVjZW5pZSBuYXN6eWNoIHVzxYJ1Zy4gSmXFvGVsaSB6bGVjaXN6IG5hbSBzdHdvcnplbmllIHN0cm9ueSwgdG8gcHJ6ZWthxbxlbXkgQ2kgaWxlIHByYXdkb3BvZG9ibmllIHpham1pZSB0byBuYW0gY3phc3UuIERvZGF0a293byBixJlkemllbXkgcG90cnplYm93YWxpIGRva8WCYWRueWNoIHRyZcWbY2ksIGt0w7NyZSBtYWrEhSBzacSZIGZpbmFsbmllIHpuYWxlxbrEhyBuYSBUd29qZWogd2l0cnluaWUuJyxcbiAgICAgICAgYnV0dG9uOiAnWmF0d2llcmR6ZW5pZScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBoZWFkaW5nOiAnV3lrb25hbmllIHByb2pla3R1IScsXG4gICAgICAgIHRleHQ6ICdUZW4ga3JvayB6b3N0YXcgbmFtISBPZCByYXp1IHphYmllcnplbXkgc2nEmSBkbyB0d29yemVuaWEgVHdvamVqIHd5bWFyem9uZWogd2l6eXTDs3draSBpbnRlcm5ldG93ZWouIFBvZGN6YXMgdGVnbyBjemFzdSBtb8W8ZXN6IG5hbSBwcnpla2F6YcSHIHdzemVsa2llIGRvZGF0a293ZSBpbmZvcm1hY2plLCBhIG15IHdlxbptaWVteSBqZSBwb2QgdXdhZ8SZLiBQbyB6YWtvxYRjem9uZWogcHJhY3kgem9zdGHFgm8gdHlsa28gdW1pZcWbY2nEhyBqxIUgbmEgaG9zdGluZ3UuJyxcbiAgICAgICAgYnV0dG9uOiAnV3lrb25hbmllJyxcbiAgICAgIH1cbiAgXVxuICBjb25zdCBwcm9qZWN0cyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAncG93ZXInLFxuICAgICAgdGl0bGU6ICdQb3dlciBLd2lkenluJyxcbiAgICAgIHRhZzogJ1Byb2pla3QgaSBidWRvd2EnLFxuICAgICAgZGF0ZTogJzguMDUuMjAyMycsXG4gICAgICB2aXNpdDogJ2h0dHBzOi8vcG93ZXIta3dpZHp5bi5wbCcsXG4gICAgICBjb2RlOiAnaHR0cHM6Ly9naXRodWIuY29tL3BhdHJ5a2thd2lhay9PU0stUG93ZXItS3dpZHp5bicsXG4gICAgICBjb250ZW50OiAnUG93ZXIgS3dpZHp5biB0byBzemvDs8WCa2EgcHJhd2EgamF6ZHksIGt0w7NyYSBwcnpleiBkxYJ1Z2kgY3phcyBtaWHFgmEgc8WCYWJvIGZ1bmtjam9udWrEhWPEhSwgcHJ6ZXN0YXJ6YcWCxIUgc3Ryb27EmSBpbnRlcm5ldG93xIUuIFBvbWltbyBuaWVwZXdub8WbY2ksIHfFgmHFm2NpY2llbCBkemlhxYJhbG5vxZtjaSBwb3N0YW5vd2nFgiBuYW0gemF1ZmHEhyBpIGtvxYRjb3dvIGplc3QgemFkb3dvbG9ueSB6IG8gd2llbGUgbGVwc3plaiB3aXp5dMOzd2tpIHcgaW50ZXJuZWNpZS4nXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAncmViYXgnLFxuICAgICAgdGl0bGU6ICdSZWJheCcsXG4gICAgICB0YWc6ICdQcm9qZWt0IGkgYnVkb3dhJyxcbiAgICAgIGRhdGU6ICcyNi4wNC4yMDIzJyxcbiAgICAgIHZpc2l0OiAnaHR0cHM6Ly9yZWJheC5wbCcsXG4gICAgICBjb2RlOiAnaHR0cHM6Ly9naXRodWIuY29tL3BhdHJ5a2thd2lhay9SZWJheCcsXG4gICAgICBjb250ZW50OiAnRmlybWEgUmViYXggcHJ6ZWQgbmFzesSFIHVzxYJ1Z8SFIG5pZSBwb3NpYWRhxYJhIHN0cm9ueSBpbnRlcm5ldG93ZWouIFBvbWltbyB0ZWdvLCDFvGUgem9zdGHFgmEgcG9zdGF3aW9uYSBuaWVkYXdubywgdG8gZHVtbmllIHByZXplbnR1amUgdMSZIGh1cnRvd25pxJkgYnVkb3dsYW7EhSwgd3nFm3dpZXRsYWrEhWMgc2nEmSBuYSBwaWVyd3N6eWNoIHN0cm9uYWNoIHByemVnbMSFZGFyZWsgaW50ZXJuYXV0w7N3LidcbiAgICB9XG4gIF1cbiAgY29uc3QgbmF2TGlua3MgPSBbXG4gICAge1xuICAgICAgdGV4dDogJ0hvbWUnLFxuICAgICAgaHJlZjogJyMnLFxuICAgICAgb25MZWZ0OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgdGV4dDogJ08gbmFzJyxcbiAgICAgIGhyZWY6ICcjYWJvdXQtdXMnLFxuICAgICAgb25MZWZ0OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgdGV4dDogJ1VzxYJ1Z2knLFxuICAgICAgaHJlZjogJyNzZXJ2aWNlcycsXG4gICAgICBvbkxlZnQ6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICB0ZXh0OiAnRkFRJyxcbiAgICAgIGhyZWY6ICcjZmFxJyxcbiAgICAgIG9uTGVmdDogZmFsc2VcbiAgICB9LFxuICAgIHtcbiAgICAgIHRleHQ6ICdLb250YWt0JyxcbiAgICAgIGhyZWY6ICcjY29udGFjdCcsXG4gICAgICBvbkxlZnQ6IGZhbHNlXG4gICAgfVxuICBdXG4gIGNvbnN0IG5hdlNvY2lhbHMgPSBbXG4gICAge1xuICAgICAgaWNvbjogJ2dtYWlsJyxcbiAgICAgIGhyZWY6ICcjJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogJ2ZhY2Vib29rLXNxdWFyZScsXG4gICAgICBocmVmOiAnIydcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246ICdpbnN0YWdyYW0nLFxuICAgICAgaHJlZjogJyMnXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiAnbGlua2VkaW4tc3F1YXJlJyxcbiAgICAgIGhyZWY6ICcjJ1xuICAgIH1cbiAgXVxuXG5cdGlmIChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoID49IDk5Mikge1xuXHRcdHJlbmRlclByb2Nlc3NEZXN0a29wKHByb2Nlc3Nlc1NlY3Rpb24sIHByb2Nlc3NlcylcbiAgICByZW5kZXJQcm9qZWN0c0Rlc2t0b3AocHJvamVjdHNTZWN0aW9uLCBwcm9qZWN0cylcbiAgICByZW5kZXJEZXNrdG9wTmF2YmFyKG5hdmJhciwgbmF2TGlua3MsIG5hdlNvY2lhbHMpXG5cdH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA+PSA3NjgpIHtcblx0XHRyZW5kZXJQcm9jZXNzTW9iaWxlKHByb2Nlc3Nlc1NlY3Rpb24sIHByb2Nlc3NlcylcbiAgICByZW5kZXJQcm9qZWN0c01vYmlsZShwcm9qZWN0c1NlY3Rpb24sIHByb2plY3RzKVxuICAgIHJlbmRlckRlc2t0b3BOYXZiYXIobmF2YmFyLCBuYXZMaW5rcywgbmF2U29jaWFscylcblx0fSBlbHNlIHtcblx0XHRyZW5kZXJQcm9jZXNzTW9iaWxlKHByb2Nlc3Nlc1NlY3Rpb24sIHByb2Nlc3NlcylcbiAgICByZW5kZXJQcm9qZWN0c01vYmlsZShwcm9qZWN0c1NlY3Rpb24sIHByb2plY3RzKVxuICAgIHJlbmRlck1vYmlsZU5hdmJhcihuYXZiYXIsbmF2TGlua3MsIG5hdlNvY2lhbHMpXG5cdH1cbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlbmRlckRlc2t0b3BPck1vYmlsZSlcbnJlbmRlckRlc2t0b3BPck1vYmlsZSgpXG4iXX0=
